{"version":3,"sources":["components/Loader.js","components/Rating.js","constants/productContants.js","actions/productActions.js","components/SearchComponent.js","components/CategoryComponent.js","components/CurrentPathComponent.js","components/Paginate.js","screens/ProductGridScreen.js","screens/HomeScreen.js","constants/cartConstants.js","actions/cartActions.js","components/AddToCartCounter.js","screens/ProductScreen.js","constants/userConstants.js","actions/userActions.js","components/Message.js","screens/LoginScreen.js","screens/RegisterScreen.js","components/OrderProgress.js","screens/CartScreen.js","constants/orderConstants.js","actions/orderActions.js","components/OrdersStatusBar.js","screens/ProfileScreen.js","screens/PayAndShipScreen.js","components/ReviewModal.js","screens/OrderScreen.js","screensAdmin/AllOrdersScreen.js","screensAdmin/AllUsersScreen.js","screensAdmin/AllProductsScreen.js","screensAdmin/AddProductScreen.js","components/NavbarComponent.js","screensAdmin/AddCategoriesScreen.js","App.js","reportWebVitals.js","store.js","reducers/productsReducers.js","reducers/userReducers.js","reducers/cartReducers.js","reducers/orderReducers.js","index.js"],"names":["Loader","marginTop","small","medium","Spinner","animation","role","variant","style","width","height","margin","display","className","Rating","rating","numReviews","fullStar","halfStar","emptyStar","GET_PRODUCTS_REQUEST","GET_PRODUCTS_SUCCESS","GET_PRODUCTS_FAIL","GET_PRODUCT_REQUEST","GET_PRODUCT_SUCCESS","GET_PRODUCT_FAIL","CREATE_PRODUCT_REQUEST","CREATE_PRODUCT_SUCCESS","CREATE_PRODUCT_FAIL","UPDATE_PRODUCT_REQUEST","UPDATE_PRODUCT_SUCCESS","UPDATE_PRODUCT_FAIL","UPDATE_PRODUCT_RESET","GET_CATEGORIES_REQUEST","GET_CATEGORIES_SUCCESS","GET_CATEGORIES_FAIL","GET_CATEGORY_REQUEST","GET_CATEGORY_SUCCESS","GET_CATEGORY_FAIL","RESET_CATEGORY","CREATE_CATEGORY_REQUEST","CREATE_CATEGORY_SUCCESS","CREATE_CATEGORY_FAIL","REMOVE_CATEGORY_REQUEST","REMOVE_CATEGORY_SUCCESS","REMOVE_CATEGORY_FAIL","getProducts","productDetails","dispatch","a","keyword","sort","hidden","category","page","limit","type","axios","get","data","payload","response","message","getProduct","id","getCategoriesAction","getCategoryAction","resetCategoryAction","SearchComponent","setKeyword","searchHandler","placeholder","Form","inline","onSubmit","Col","sm","xl","xs","FormControl","size","value","onChange","e","target","Button","block","minWidth","maxWidth","fontSize","CategoryComponent","startCategory","setCategory","history","useHistory","useDispatch","useEffect","getCategories","useSelector","state","loading","categories","getCategory","loadingCategory","getSelectedCategory","_id","redirectPage","push","delay","length","map","onClick","name","parents","subcategories","CurrentPathComponent","arrowRight","reverse","parent","Paginate","pagination","setPage","next","prev","total","Pagination","Item","disabled","Ellipsis","active","ProductGridScreen","key","useParams","useState","setSort","listProducts","products","sortedProducts","setSortedProducts","colSize","setColSize","preventDefault","Row","lg","md","DropdownButton","title","Dropdown","product","to","Card","Img","src","image","objectFit","Body","Title","as","Text","price","span","offset","HomeScreen","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_REMOVE_ALL","addToCartAction","quantity","cartContent","localStorage","getItem","JSON","parse","productInCart","find","p","count","countInStock","coun","console","log","setItem","stringify","addOneCartAction","AddToCartCounter","numberOfProducts","updateOnClick","cartCounter","setCartCounter","showToolTip","setShowToolTip","buttonColSize","addToCartHandler","showToolTipAction","increaseCount","popover","Popover","opacity","Content","setTimeout","removeOneCartAction","lineHeight","OverlayTrigger","trigger","placement","overlay","show","ProductScreen","productId","match","params","listProduct","error","Image","fluid","rounded","minHeight","maxHeight","overflow","description","reviews","review","marginBottom","fontWeight","comment","LOGIN_USER_REQUEST","LOGIN_USER_SUCCESS","LOGIN_USER_FAIL","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","REGISTER_USER_FAIL","LOGOUT_USER","UPDATE_PROFILE_REQUEST","UPDATE_PROFILE_SUCCESS","UPDATE_PROFILE_FAIL","GET_ALL_USERS_REQUEST","GET_ALL_USERS_SUCCESS","GET_ALL_USERS_FAIL","getAllUsersAction","getState","loggedUser","loginUser","config","headers","Authorization","token","Message","children","Alert","LoginScreen","redirect","URLSearchParams","window","location","search","email","setEmail","password","setPassword","post","loginAction","Check","Group","controlId","Label","Control","RegisterScreen","setName","confirmPassword","setConfirmPassword","passwordError","setPasswordError","registerUser","paddingTop","registerAction","OrderProgress","ship","CartScreen","totalItems","useMemo","reduce","curr","totalPrice","shippingPrice","Promise","all","then","values","forEach","cartItem","index","removeFromCartHandler","filter","removeProductFromCartAction","cart","ListGroup","order","toFixed","Tooltip","textAlign","PLACE_ORDER_REQUEST","PLACE_ORDER_SUCCESS","PLACE_ORDER_FAIL","PLACE_ORDER_RESET","GET_ORDER_REQUEST","GET_ORDER_SUCCESS","GET_ORDER_FAIL","UPDATE_ORDER_REQUEST","UPDATE_ORDER_SUCCESS","UPDATE_ORDER_FAIL","GET_USER_ORDERS_REQUEST","GET_USER_ORDERS_SUCCESS","GET_USER_ORDERS_FAIL","CREATE_REVIEW_REQUEST","CREATE_REVIEW_SUCCESS","CREATE_REVIEW_FAIL","CREATE_REVIEW_RESET","GET_ALL_ORDERS_REQUEST","GET_ALL_ORDERS_SUCCESS","GET_ALL_ORDERS_FAIL","getOrderAction","orderId","updateOrderAction","fieldsToUpdate","put","OrdersStatusBar","baseColSize","lgColSize","mdColSize","isDelivered","isDispatched","isPaid","ProgressBar","now","ProfileScreen","updateProfile","updateLoading","success","updateError","userOrdersGet","ordersDetails","loadingOrders","orderError","submitHandler","updateProfileAction","readOnly","createdAt","substring","replace","orderItems","orderItem","PayAndShipScreen","validated","setValidated","paymentMethod","setPaymentMethod","firstName","setFirstName","lastName","setLastName","address","setAddress","city","setCity","zipCode","setZipCode","orderCreateState","orderCreate","itemsPrice","noValidate","event","currentTarget","checkValidity","stopPropagation","orderDetails","shippingAddress","postalCode","parseFloat","removeItem","required","Feedback","form","ReviewModal","props","reviewTitle","setReviewTitle","reviewDetails","setReviewDetails","setRating","tempRating","setTempRating","reviewError","reviewCreate","Modal","aria-labelledby","centered","Header","closeButton","reviewProductAction","onMouseEnter","onMouseLeave","rows","Footer","onHide","OrderScreen","orderGet","sdkReady","setSdkReady","paymentLoading","setPaymentLoading","modalShow","setModalShow","addPaypalScript","clientId","script","document","createElement","async","onload","body","appendChild","paypal","PayPalSuccessPay","details","paypalOrderId","create_time","Array","from","stripePromise","loadStripe","goToPayment","stripe","redirectToCheckout","sessionId","stripeOrderId","updateOrder","isAdmin","isReviewed","i","country","user","currency","amount","onApprove","onSuccess","AllOrdersScreen","setUser","notPaidOnly","setNotPaidOnly","notSentOnly","setNotSentOnly","notDeliveredOnly","setNotDeliveredOnly","orderGetAll","orders","userId","getAllOrdersAction","successTick","failureCross","trashIcon","cursor","Table","responsive","striped","hover","slice","confirm","isDeleted","AllUsersScreen","getAllUsers","users","AllProductsScreen","editIcon","AddProductScreen","setDescription","setCountInStock","setImage","brand","setBrand","setPrice","setHidden","createProductState","createProduct","productToEdit","loadingProduct","errorProduct","handleSubmit","updateProductAction","createProductAction","Switch","checked","NavbarComponent","logoutHandler","showCartIcon","paddingLeft","Nav","Link","Navbar","expand","bg","Brand","Toggle","aria-controls","Collapse","NavDropdown","Divider","href","AddCategoriesScreen","newCategoryName","setNewCategoryName","parentCategory","setParentCategory","errorCategory","createCategory","loadingCreate","errorCreate","removeCategory","successRemove","removeHandler","delete","removeCategoryAction","categoryDetails","parentId","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducer","combineReducers","action","stripeOrder","initialState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM","render","Provider","getElementById"],"mappings":"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","file":"static/js/main.bc94e70b.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport { Spinner } from \"react-bootstrap\";\r\n\r\nconst Loader = ({ marginTop = 0, small, medium }) => {\r\n  return (\r\n    <Spinner\r\n      animation='border'\r\n      role='status'\r\n      variant='warning'\r\n      style={{\r\n        width: small ? \"40px\" : medium ? \"75px\" : \"150px\",\r\n        height: small ? \"40px\" : medium ? \"75px\" : \"150px\",\r\n        margin: \"auto\",\r\n        display: \"block\",\r\n        marginTop: `${marginTop}rem`,\r\n      }}>\r\n      <span className='sr-only'> Loading...</span>\r\n    </Spinner>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\n\r\nconst Rating = ({ rating, numReviews }) => {\r\n  const fullStar = <i className='fas fa-star'></i>;\r\n  const halfStar = <i className='fas fa-star-half-alt'></i>;\r\n  const emptyStar = <i className='far fa-star'></i>;\r\n  return (\r\n    <>\r\n      {rating >= 0.8 ? fullStar : rating >= 0.3 ? halfStar : emptyStar}\r\n      {rating >= 1.8 ? fullStar : rating >= 1.3 ? halfStar : emptyStar}\r\n      {rating >= 2.8 ? fullStar : rating >= 2.3 ? halfStar : emptyStar}\r\n      {rating >= 3.8 ? fullStar : rating >= 3.3 ? halfStar : emptyStar}\r\n      {rating >= 4.8 ? fullStar : rating >= 4.3 ? halfStar : emptyStar} {numReviews ? numReviews : \"\"}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Rating;\r\n","export const GET_PRODUCTS_REQUEST = \"GET_PRODUCTS_REQUEST\";\r\nexport const GET_PRODUCTS_SUCCESS = \"GET_PRODUCTS_SUCCESS\";\r\nexport const GET_PRODUCTS_FAIL = \"GET_PRODUCTS_FAIL\";\r\n\r\nexport const GET_PRODUCT_REQUEST = \"GET_PRODUCT_REQUEST\";\r\nexport const GET_PRODUCT_SUCCESS = \"GET_PRODUCT_SUCCESS\";\r\nexport const GET_PRODUCT_FAIL = \"GET_PRODUCT_FAIL\";\r\n\r\nexport const CREATE_PRODUCT_REQUEST = \"CREATE_PRODUCT_REQUEST\";\r\nexport const CREATE_PRODUCT_SUCCESS = \"CREATE_PRODUCT_SUCCESS\";\r\nexport const CREATE_PRODUCT_FAIL = \"CREATE_PRODUCT_FAIL\";\r\n\r\nexport const UPDATE_PRODUCT_REQUEST = \"UPDATE_PRODUCT_REQUEST\";\r\nexport const UPDATE_PRODUCT_SUCCESS = \"UPDATE_PRODUCT_SUCCESS\";\r\nexport const UPDATE_PRODUCT_FAIL = \"UPDATE_PRODUCT_FAIL\";\r\nexport const UPDATE_PRODUCT_RESET = \"UPDATE_PRODUCT_RESET\";\r\n\r\nexport const REMOVE_PRODUCT_REQUEST = \"REMOVE_PRODUCT_REQUEST\";\r\nexport const REMOVE_PRODUCT_SUCCESS = \"REMOVE_PRODUCT_SUCCESS\";\r\nexport const REMOVE_PRODUCT_FAIL = \"REMOVE_PRODUCT_FAIL\";\r\n\r\nexport const GET_CATEGORIES_REQUEST = \"GET_CATEGORIES_REQUEST\";\r\nexport const GET_CATEGORIES_SUCCESS = \"GET_CATEGORIES_SUCCESS\";\r\nexport const GET_CATEGORIES_FAIL = \"GET_CATEGORIES_FAIL\";\r\n\r\nexport const GET_CATEGORY_REQUEST = \"GET_CATEGORY_REQUEST\";\r\nexport const GET_CATEGORY_SUCCESS = \"GET_CATEGORY_SUCCESS\";\r\nexport const GET_CATEGORY_FAIL = \"GET_CATEGORY_FAIL\";\r\nexport const RESET_CATEGORY = \"RESET_CATEGORY\";\r\n\r\nexport const CREATE_CATEGORY_REQUEST = \"CREATE_CATEGORY_REQUEST\";\r\nexport const CREATE_CATEGORY_SUCCESS = \"CREATE_CATEGORY_SUCCESS\";\r\nexport const CREATE_CATEGORY_FAIL = \"CREATE_CATEGORY_FAIL\";\r\n\r\nexport const REMOVE_CATEGORY_REQUEST = \"REMOVE_CATEGORY_REQUEST\";\r\nexport const REMOVE_CATEGORY_SUCCESS = \"REMOVE_CATEGORY_SUCCESS\";\r\nexport const REMOVE_CATEGORY_FAIL = \"REMOVE_CATEGORY_FAIL\";\r\n","import {\r\n  GET_PRODUCTS_FAIL,\r\n  GET_PRODUCTS_REQUEST,\r\n  GET_PRODUCTS_SUCCESS,\r\n  GET_PRODUCT_FAIL,\r\n  GET_PRODUCT_REQUEST,\r\n  GET_PRODUCT_SUCCESS,\r\n  CREATE_PRODUCT_FAIL,\r\n  CREATE_PRODUCT_REQUEST,\r\n  CREATE_PRODUCT_SUCCESS,\r\n  UPDATE_PRODUCT_FAIL,\r\n  UPDATE_PRODUCT_REQUEST,\r\n  UPDATE_PRODUCT_SUCCESS,\r\n  REMOVE_PRODUCT_FAIL,\r\n  REMOVE_PRODUCT_REQUEST,\r\n  REMOVE_PRODUCT_SUCCESS,\r\n  UPDATE_PRODUCT_RESET,\r\n  GET_CATEGORIES_FAIL,\r\n  GET_CATEGORIES_REQUEST,\r\n  GET_CATEGORIES_SUCCESS,\r\n  GET_CATEGORY_FAIL,\r\n  GET_CATEGORY_REQUEST,\r\n  GET_CATEGORY_SUCCESS,\r\n  RESET_CATEGORY,\r\n  CREATE_CATEGORY_FAIL,\r\n  CREATE_CATEGORY_REQUEST,\r\n  CREATE_CATEGORY_SUCCESS,\r\n  REMOVE_CATEGORY_FAIL,\r\n  REMOVE_CATEGORY_REQUEST,\r\n  REMOVE_CATEGORY_SUCCESS,\r\n} from \"../constants/productContants\";\r\nimport axios from \"axios\";\r\n\r\nexport const getProducts = (productDetails) => async (dispatch) => {\r\n  const keyword = productDetails.keyword || \"\";\r\n  const sort = productDetails.sort || \"\";\r\n  const hidden = productDetails.hidden || false;\r\n  const category = productDetails.category || \"\";\r\n  const page = productDetails.page || 1;\r\n  const limit = productDetails.limit || 12;\r\n  try {\r\n    dispatch({ type: GET_PRODUCTS_REQUEST });\r\n    const { data } = await axios.get(\r\n      `/api/products/?keyword=${keyword}&sort=${sort}&hidden=${hidden}&category=${category}&page=${page}&limit=${limit}`\r\n    );\r\n    dispatch({ type: GET_PRODUCTS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_PRODUCTS_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const createProductAction = (product) => async (dispatch, getState) => {\r\n  const {\r\n    loginUser: { loggedUser },\r\n  } = getState();\r\n  const config = {\r\n    headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${loggedUser.token}` },\r\n  };\r\n  try {\r\n    dispatch({ type: CREATE_PRODUCT_REQUEST });\r\n    const { data } = await axios.post(`/api/products/`, product, config);\r\n    dispatch({ type: CREATE_PRODUCT_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: CREATE_PRODUCT_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProductAction = (id, product) => async (dispatch, getState) => {\r\n  const {\r\n    loginUser: { loggedUser },\r\n  } = getState();\r\n  const config = {\r\n    headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${loggedUser.token}` },\r\n  };\r\n  try {\r\n    dispatch({ type: UPDATE_PRODUCT_REQUEST });\r\n    const { data } = await axios.put(`/api/products/${id}`, product, config);\r\n    dispatch({ type: UPDATE_PRODUCT_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: UPDATE_PRODUCT_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const removeProductAction = (id) => async (dispatch, getState) => {\r\n  const {\r\n    loginUser: { loggedUser },\r\n  } = getState();\r\n  const config = {\r\n    headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${loggedUser.token}` },\r\n  };\r\n  try {\r\n    dispatch({ type: REMOVE_PRODUCT_REQUEST });\r\n    const { data } = await axios.delete(`/api/products/${id}`, config);\r\n    dispatch({ type: REMOVE_PRODUCT_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: REMOVE_PRODUCT_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProduct = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: GET_PRODUCT_REQUEST });\r\n    const { data } = await axios.get(`/api/products/${id}`);\r\n    dispatch({ type: GET_PRODUCT_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_PRODUCT_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProductResetAction = () => async (dispatch) => {\r\n  dispatch({ type: UPDATE_PRODUCT_RESET });\r\n};\r\n\r\nexport const getCategoriesAction = (id = \"\") => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: GET_CATEGORIES_REQUEST });\r\n    const { data } = await axios.get(\"/api/products/categories?level=0\");\r\n    dispatch({ type: GET_CATEGORIES_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_CATEGORIES_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getCategoryAction = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: GET_CATEGORY_REQUEST });\r\n    const { data } = await axios.get(`/api/products/categories/${id}`);\r\n    dispatch({ type: GET_CATEGORY_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_CATEGORY_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const createCategoryAction = (categoryDetails) => async (dispatch, getState) => {\r\n  const {\r\n    loginUser: { loggedUser },\r\n  } = getState();\r\n  const config = {\r\n    headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${loggedUser.token}` },\r\n  };\r\n  try {\r\n    dispatch({ type: CREATE_CATEGORY_REQUEST });\r\n    await axios.post(`/api/products/categories/`, categoryDetails, config);\r\n    dispatch({ type: CREATE_CATEGORY_SUCCESS });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: CREATE_CATEGORY_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const removeCategoryAction = (id) => async (dispatch, getState) => {\r\n  const {\r\n    loginUser: { loggedUser },\r\n  } = getState();\r\n  const config = {\r\n    headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${loggedUser.token}` },\r\n  };\r\n  try {\r\n    dispatch({ type: REMOVE_CATEGORY_REQUEST });\r\n    await axios.delete(`/api/products/categories/${id}`, config);\r\n    dispatch({ type: REMOVE_CATEGORY_SUCCESS });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: REMOVE_CATEGORY_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const resetCategoryAction = () => (dispatch) => {\r\n  dispatch({ type: RESET_CATEGORY });\r\n};\r\n","import React from \"react\";\r\nimport { Col, Form, FormControl, Button } from \"react-bootstrap\";\r\n\r\nconst SearchComponent = ({ keyword, setKeyword, searchHandler, placeholder }) => {\r\n  return (\r\n    <Form inline onSubmit={searchHandler} className='my-2 mx-0 px-0 justify-content-center'>\r\n      <Col sm={10} xl={10} xs={9} className='m-0 p-0'>\r\n        <FormControl\r\n          size='lg'\r\n          style={{ width: \"100%\" }}\r\n          type='text'\r\n          placeholder={placeholder}\r\n          value={keyword}\r\n          onChange={(e) => setKeyword(e.target.value)}\r\n          className='mr-0'\r\n        />\r\n      </Col>\r\n      <Col xs={3} sm={2} xl={2}>\r\n        <Button\r\n          block\r\n          type='submit'\r\n          variant='primary'\r\n          size='lg'\r\n          style={{ minWidth: \"4rem\", maxWidth: \"9rem\" }}>\r\n          <i className='fas fa-search pt-1' style={{ fontSize: \"1.5rem\" }}></i>\r\n        </Button>\r\n      </Col>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default SearchComponent;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  getCategoriesAction,\r\n  getCategoryAction,\r\n  resetCategoryAction,\r\n  getProducts,\r\n} from \"../actions/productActions\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport FadeIn from \"react-fade-in\";\r\n\r\nconst CategoryComponent = ({ startCategory, keyword, setCategory }) => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (startCategory) dispatch(getCategoryAction(startCategory));\r\n    dispatch(getCategoriesAction());\r\n    return () => dispatch(resetCategoryAction());\r\n  }, [dispatch, startCategory]);\r\n\r\n  const getCategories = useSelector((state) => state.getCategories);\r\n  const { loading, categories } = getCategories;\r\n  const getCategory = useSelector((state) => state.getCategory);\r\n  const { loading: loadingCategory, category } = getCategory;\r\n\r\n  const getSelectedCategory = (category) => {\r\n    const id = category._id;\r\n    if (id) {\r\n      dispatch(getCategoryAction(id));\r\n      if (setCategory) {\r\n        setCategory(category);\r\n      } else {\r\n        const searchObj = { category: id };\r\n        if (keyword) searchObj.keyword = keyword;\r\n        // dispatch(getProducts(searchObj));\r\n        const redirectPage = keyword ? `/search/${keyword}/category/${id}` : `/category/${id}`;\r\n        history.push(redirectPage);\r\n      }\r\n    } else {\r\n      dispatch(resetCategoryAction());\r\n      dispatch(getCategoriesAction());\r\n      if (setCategory) {\r\n        setCategory(category);\r\n      } else {\r\n        dispatch(getProducts({}));\r\n        history.push(`/`);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <nav className='border-left pl-3 pr-0 py-2 mt-2 mx-0' style={{ width: \"100%\", fontSize: \"1.05rem\" }}>\r\n      {!loading && !loadingCategory && (\r\n        <FadeIn delay={20}>\r\n          {!category && categories.length > 0 && (\r\n            <>\r\n              <div>\r\n                <b>Categories</b>\r\n              </div>\r\n              <hr className='py-0 my-1' />\r\n              {categories.map((category) => (\r\n                <div\r\n                  key={category._id}\r\n                  className='category-elem pointer pl-1 py-1'\r\n                  onClick={() => getSelectedCategory(category)}>\r\n                  {category.name}\r\n                </div>\r\n              ))}\r\n            </>\r\n          )}\r\n          <hr className='d-block d-md-none' />\r\n        </FadeIn>\r\n      )}\r\n\r\n      {category && (\r\n        <>\r\n          <FadeIn delay={20}>\r\n            <div\r\n              className='pointer'\r\n              onClick={() =>\r\n                getSelectedCategory(\r\n                  category.parents.length > 0 ? category.parents[category.parents.length - 1] : \"\"\r\n                )\r\n              }>\r\n              <i className='fas fa-chevron-left orange-font'></i> Go Back\r\n            </div>\r\n            <hr className='py-0 my-1' />\r\n            <div className='category-elem pl-1 py-1'>\r\n              <b>{category.name}</b>\r\n            </div>\r\n            {category.subcategories.map((category) => (\r\n              <div\r\n                key={category._id}\r\n                className='category-elem pointer pl-3 py-1'\r\n                onClick={() => getSelectedCategory(category)}>\r\n                {category.name}\r\n              </div>\r\n            ))}\r\n          </FadeIn>\r\n        </>\r\n      )}\r\n      {}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default CategoryComponent;\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  getCategoriesAction,\r\n  getCategoryAction,\r\n  resetCategoryAction,\r\n  getProducts,\r\n} from \"../actions/productActions\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport FadeIn from \"react-fade-in\";\r\n\r\nconst CurrentPathComponent = () => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const getCategory = useSelector((state) => state.getCategory);\r\n  const { category } = getCategory;\r\n\r\n  const getSelectedCategory = (id) => {\r\n    if (id) {\r\n      dispatch(getCategoryAction(id));\r\n      dispatch(getProducts({ category: id }));\r\n      history.push(`/category/${id}`);\r\n    } else {\r\n      dispatch(resetCategoryAction());\r\n      dispatch(getCategoriesAction());\r\n      dispatch(getProducts({}));\r\n      history.push(`/`);\r\n    }\r\n  };\r\n\r\n  const arrowRight = <i className='fas fa-chevron-right'></i>;\r\n\r\n  return (\r\n    <FadeIn>\r\n      <nav className='mt-3' style={{ fontSize: \"1rem\" }}>\r\n        {category && (\r\n          <nav>\r\n            <span onClick={() => getSelectedCategory()} className='pr-3 pointer'>\r\n              BestShop\r\n            </span>\r\n            {arrowRight}{\" \"}\r\n            {category.parents.reverse().map((parent) => (\r\n              <span key={parent._id}>\r\n                <span onClick={() => getSelectedCategory(parent._id)} className='pr-3 pointer'>\r\n                  {parent.name}\r\n                </span>\r\n                {arrowRight}{\" \"}\r\n              </span>\r\n            ))}\r\n            <span onClick={() => getSelectedCategory(category._id)} className='pr-3 pointer'>\r\n              {category.name}\r\n            </span>\r\n            <hr />\r\n          </nav>\r\n        )}\r\n      </nav>\r\n    </FadeIn>\r\n  );\r\n};\r\n\r\nexport default CurrentPathComponent;\r\n","import React from \"react\";\r\nimport { Pagination } from \"react-bootstrap\";\r\nconst Paginate = ({ pagination, setPage }) => {\r\n  const { page, next, prev, total, limit } = pagination;\r\n\r\n  const showPages = () => (\r\n    <>\r\n      <Pagination.Item onClick={() => setPage(page - 1)} disabled={!prev}>\r\n        <i className='fas fa-chevron-left'></i>\r\n      </Pagination.Item>\r\n      {page > 1 && <Pagination.Item onClick={() => setPage(1)}>1</Pagination.Item>}\r\n      {page === 3 ? (\r\n        <>\r\n          <Pagination.Item onClick={() => setPage(2)}>2</Pagination.Item>\r\n        </>\r\n      ) : (\r\n        page > 3 && (\r\n          <>\r\n            <Pagination.Ellipsis></Pagination.Ellipsis>\r\n            <Pagination.Item onClick={() => setPage(prev)}>{prev}</Pagination.Item>\r\n          </>\r\n        )\r\n      )}\r\n\r\n      <Pagination.Item active>{page}</Pagination.Item>\r\n      {next && <Pagination.Item onClick={() => setPage(next)}>{next}</Pagination.Item>}\r\n      {total > (page + 2) * limit ? (\r\n        <>\r\n          <Pagination.Ellipsis></Pagination.Ellipsis>\r\n          <Pagination.Item onClick={() => setPage(total / limit)}>{total / limit}</Pagination.Item>\r\n        </>\r\n      ) : (\r\n        total > (page + 1) * limit && (\r\n          <>\r\n            <Pagination.Item onClick={() => setPage(page + 2)}>{page + 2}</Pagination.Item>\r\n          </>\r\n        )\r\n      )}\r\n      <Pagination.Item disabled={!next} onClick={() => setPage(page + 1)}>\r\n        <i className='fas fa-chevron-right'></i>\r\n      </Pagination.Item>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Pagination className='justify-content-center mt-4 mb-5' size='lg'>\r\n      {showPages()}\r\n    </Pagination>\r\n  );\r\n};\r\n\r\nexport default Paginate;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Loader from \"../components/Loader\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Card, DropdownButton, Row, Col, Dropdown } from \"react-bootstrap\";\r\nimport { Link, useHistory, useParams } from \"react-router-dom\";\r\nimport Rating from \"../components/Rating\";\r\nimport { getProducts } from \"../actions/productActions\";\r\nimport SearchComponent from \"../components/SearchComponent\";\r\nimport CategoryComponent from \"../components/CategoryComponent\";\r\nimport CurrentPathComponent from \"../components/CurrentPathComponent\";\r\nimport Pagination from \"../components/Paginate\";\r\nimport FadeIn from \"react-fade-in\";\r\n\r\nconst ProductGridScreen = () => {\r\n  const { keyword: key } = useParams();\r\n  const { category } = useParams();\r\n\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [keyword, setKeyword] = useState(key || \"\");\r\n  const [page, setPage] = useState(1);\r\n\r\n  const [sort, setSort] = useState(\"\");\r\n\r\n  const listProducts = useSelector((state) => state.listProducts);\r\n  const { loading, products, pagination } = listProducts;\r\n\r\n  const [sortedProducts, setSortedProducts] = useState(products);\r\n  const [colSize, setColSize] = useState(3);\r\n\r\n  useEffect(() => {\r\n    dispatch(\r\n      getProducts({\r\n        keyword: key || \"\",\r\n        sort,\r\n        category,\r\n        page,\r\n      })\r\n    );\r\n  }, [dispatch, sort, key, category, page]);\r\n\r\n  useEffect(() => {\r\n    setSortedProducts(products);\r\n  }, [products]);\r\n\r\n  const toggleGrid = () => {\r\n    if (colSize === 3) setColSize(4);\r\n    else setColSize(3);\r\n  };\r\n\r\n  const searchHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(getProducts({ keyword, sort }));\r\n    keyword ? history.push(`/search/${keyword}`) : history.push(\"/\");\r\n  };\r\n\r\n  const showSearchAndFilter = () => (\r\n    <Row className='flex-sort mx-0 px-0'>\r\n      <Col className='px-0 mx-0' lg={10} xs={9} md={7} sm={8}>\r\n        <SearchComponent\r\n          keyword={keyword}\r\n          setKeyword={setKeyword}\r\n          placeholder='Search for Products'\r\n          searchHandler={searchHandler}></SearchComponent>\r\n      </Col>\r\n      <Col lg={1} sm={2} xs={0} className='d-none d-sm-block'>\r\n        <i\r\n          onClick={() => toggleGrid()}\r\n          className={`fas fa-3x ${colSize === 3 ? \"fa-th-large\" : \"fa-th\"}`}></i>\r\n      </Col>\r\n      <Col lg={1} sm={2} xs={3}>\r\n        <DropdownButton id='dropdown-variants-primary' variant='' title={<i className='fas fa-filter'></i>}>\r\n          <Dropdown.Item className='border-bottom' onClick={() => setSort(\"price\")}>\r\n            <i className='fas fa-dollar-sign'></i> <i className='fas fa-dollar-sign'></i>{\" \"}\r\n            <i className='fas fa-dollar-sign'></i>\r\n          </Dropdown.Item>\r\n          <Dropdown.Item style={{ fontSize: \"1.6rem\" }} onClick={() => setSort(\"rating\")}>\r\n            <i className='fas fa-star'></i> <i className='fas fa-star'></i> <i className='fas fa-star'></i>\r\n          </Dropdown.Item>\r\n        </DropdownButton>\r\n      </Col>\r\n    </Row>\r\n  );\r\n\r\n  const showProducts = () => (\r\n    <FadeIn>\r\n      <Row className='mx-0 px-0 border-left'>\r\n        {products &&\r\n          sortedProducts.map((product) => (\r\n            <Col\r\n              className='mx-0 px-2'\r\n              key={product._id}\r\n              xs={12}\r\n              sm={6}\r\n              md={colSize === 3 ? colSize + 3 : 12}\r\n              lg={colSize === 3 ? colSize + 1 : colSize + 2}\r\n              xl={colSize}>\r\n              <Link to={`/product/${product._id}`}>\r\n                <Card className='my-2 py-2 rounded bg-light border-hover'>\r\n                  <Card.Img\r\n                    className='px-1 py-1'\r\n                    src={product.image}\r\n                    variant='top'\r\n                    style={{ height: colSize === 3 ? \"200px\" : \"250px\", objectFit: \"scale-down\" }}\r\n                  />\r\n                  <Card.Body>\r\n                    <Card.Title as='div' className='py-0  text-center'>\r\n                      <strong className='two-lines' style={{ fontSize: \"1rem\" }}>\r\n                        {product.name}\r\n                      </strong>\r\n                    </Card.Title>\r\n                    <Card.Text as='div' className='py-0  text-center'>\r\n                      <Rating\r\n                        rating={product.rating}\r\n                        numReviews={`${product.numReviews} ${\r\n                          product.numReviews === 1 ? \"review\" : \"reviews\"\r\n                        }`}\r\n                      />\r\n                    </Card.Text>\r\n                    <Card.Text as='h4' className='py-1 text-center'>\r\n                      {product.price} PLN\r\n                    </Card.Text>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Link>\r\n              <hr className='d-block d-md-none' />\r\n            </Col>\r\n          ))}\r\n      </Row>\r\n    </FadeIn>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {showSearchAndFilter()}\r\n\r\n      <CurrentPathComponent />\r\n\r\n      <Row>\r\n        <Col lg={2} md={3} className='pr-0'>\r\n          <CategoryComponent startCategory={category} keyword={keyword} />\r\n        </Col>\r\n        <Col lg={10} md={9}>\r\n          {loading ? <Loader marginTop={10} animation='border' variant='warning' /> : showProducts()}\r\n        </Col>\r\n      </Row>\r\n      {!loading && (\r\n        <Col sm={12} md={{ span: 9, offset: 3 }}>\r\n          <Pagination setPage={setPage} pagination={pagination} />{\" \"}\r\n        </Col>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductGridScreen;\r\n","import React from \"react\";\r\nimport ProductScreen from \"./ProductGridScreen\";\r\n\r\nconst HomeScreen = () => {\r\n  return (\r\n    <div>\r\n      <ProductScreen />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomeScreen;\r\n","export const CART_ADD_ITEM = \"CART_ADD_ITEM\";\r\nexport const CART_REMOVE_ITEM = \"CART_REMOVE_ITEM\";\r\nexport const CART_REMOVE_ALL = \"CART_REMOVE_ALL\";\r\n","import { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_REMOVE_ALL } from \"../constants/cartConstants\";\r\nimport axios from \"axios\";\r\n\r\nexport const addToCartAction = (product, quantity) => (dispatch) => {\r\n  let cartContent = localStorage.getItem(\"cartContent\")\r\n    ? JSON.parse(localStorage.getItem(\"cartContent\"))\r\n    : [];\r\n\r\n  let productInCart = cartContent ? cartContent.find((p) => p._id === product._id) : 0;\r\n  if (productInCart) {\r\n    productInCart.count = productInCart.count + quantity;\r\n    if (productInCart.count > productInCart.countInStock) productInCart.count = productInCart.countInStock;\r\n    if (productInCart.count <= 1 && productInCart.countInStock > 0) productInCart.count = 1;\r\n    else productInCart.coun = 0;\r\n  } else {\r\n    productInCart = { ...product, count: quantity };\r\n    if (cartContent.length === 0) cartContent = [productInCart];\r\n    else cartContent.push(productInCart);\r\n  }\r\n  console.log(productInCart);\r\n  console.log(cartContent);\r\n  dispatch({ type: CART_ADD_ITEM, payload: cartContent });\r\n  localStorage.setItem(\"cartContent\", JSON.stringify(cartContent));\r\n};\r\n\r\nexport const updateCartItemsAction = () => async (dispatch) => {\r\n  let cartContent = localStorage.getItem(\"cartContent\")\r\n    ? JSON.parse(localStorage.getItem(\"cartContent\"))\r\n    : [];\r\n\r\n  Promise.all(cartContent.map(async (product) => axios.get(`/api/products/${product._id}`))).then(\r\n    (values) => {\r\n      cartContent.forEach((cartItem, index) => {\r\n        cartItem.countInStock = values[index].data.countInStock;\r\n        if (cartItem.count > cartItem.countInStock) cartItem.count = cartItem.countInStock;\r\n      });\r\n      localStorage.setItem(\"cartContent\", JSON.stringify(cartContent));\r\n      dispatch({ type: CART_ADD_ITEM, payload: cartContent });\r\n    }\r\n  );\r\n};\r\n\r\nexport const addOneCartAction = (product) => (dispatch) => {\r\n  dispatch(addToCartAction(product, 1));\r\n};\r\n\r\nexport const removeOneCartAction = (product) => (dispatch) => {\r\n  dispatch(addToCartAction(product, -1));\r\n};\r\n\r\nexport const removeProductFromCartAction = (product) => (dispatch) => {\r\n  let cartContent = localStorage.getItem(\"cartContent\")\r\n    ? JSON.parse(localStorage.getItem(\"cartContent\"))\r\n    : [];\r\n  cartContent = cartContent.filter((p) => p._id !== product._id);\r\n  localStorage.setItem(\"cartContent\", JSON.stringify(cartContent));\r\n  dispatch({ type: CART_REMOVE_ITEM, payload: product });\r\n};\r\n\r\nexport const cleanCartAction = () => (dispatch) => {\r\n  localStorage.removeItem(\"cartContent\");\r\n  dispatch({ type: CART_REMOVE_ALL });\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Row, Col, Button, OverlayTrigger, Popover } from \"react-bootstrap\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { addToCartAction, addOneCartAction, removeOneCartAction } from \"../actions/cartActions\";\r\nimport { FaCartPlus } from \"react-icons/fa\";\r\n\r\nconst AddToCartCounter = ({ product, numberOfProducts = 1, updateOnClick = false }) => {\r\n  const dispatch = useDispatch();\r\n  const [cartCounter, setCartCounter] = useState(product.count || numberOfProducts);\r\n  const [showToolTip, setShowToolTip] = useState(false);\r\n  const buttonColSize = updateOnClick ? 10 : 5;\r\n\r\n  const addToCartHandler = () => {\r\n    showToolTipAction();\r\n    dispatch(addToCartAction(product, cartCounter));\r\n  };\r\n\r\n  const increaseCount = async () => {\r\n    if (cartCounter < product.countInStock) {\r\n      setCartCounter((prev) => prev + 1);\r\n      if (updateOnClick) dispatch(addOneCartAction(product));\r\n    }\r\n  };\r\n  const decreaseCount = () => {\r\n    if (cartCounter > 1) {\r\n      setCartCounter((prev) => prev - 1);\r\n      if (updateOnClick) dispatch(removeOneCartAction(product));\r\n    }\r\n  };\r\n\r\n  const height = updateOnClick ? \"2.5rem\" : \"3.5rem\";\r\n  const fontSize = updateOnClick ? \"1.4rem\" : \"2rem\";\r\n\r\n  const popover = (\r\n    <Popover id='popover-basic' className='my-2' style={{ opacity: 0.93 }}>\r\n      <Link style={{ fontSize: \"1.2rem\" }} to='/cart'>\r\n        <Popover.Content className='bg-primary py-3 px-5 text-white hover-orange'>\r\n          Added To <i className='fas fa-shopping-cart'></i>\r\n        </Popover.Content>\r\n      </Link>\r\n    </Popover>\r\n  );\r\n\r\n  const showToolTipAction = () => {\r\n    setShowToolTip(true);\r\n    setTimeout(() => {\r\n      setShowToolTip(false);\r\n    }, 4000);\r\n  };\r\n\r\n  return (\r\n    <Row className={`align-items-end ${!updateOnClick && \"mx-5\"}`}>\r\n      {product.countInStock > 0 && (\r\n        <Col sm={buttonColSize}>\r\n          <Row className='ml-1'>\r\n            <Col xs={4} className='px-2'>\r\n              <Button\r\n                onClick={decreaseCount}\r\n                variant='primary'\r\n                className={`orange ${cartCounter === 1 && \"disabled\"}`}\r\n                block\r\n                style={{ height, fontSize }}>\r\n                <b></b>\r\n              </Button>\r\n            </Col>\r\n            <Col xs={4} className='px-2'>\r\n              <h1 style={{ height, lineHeight: height, fontSize }} className='item-counter ml-auto'>\r\n                {product.count || cartCounter}\r\n              </h1>\r\n            </Col>\r\n            <Col xs={4} className='px-2'>\r\n              <Button\r\n                className={`orange ${product.countInStock <= cartCounter && \"disabled\"}`}\r\n                onClick={increaseCount}\r\n                variant='primary'\r\n                block\r\n                style={{ height, fontSize }}>\r\n                +\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n      )}\r\n\r\n      {!updateOnClick && product.countInStock > 0 && (\r\n        <Col xs={12} sm={7} className='pl-4 pr-2 orange margin-small'>\r\n          <OverlayTrigger trigger='click' placement='top' overlay={popover} show={showToolTip}>\r\n            <Button onClick={addToCartHandler} variant='primary' block style={{ height, fontSize: \"1.6rem\" }}>\r\n              <FaCartPlus /> Add To Cart\r\n            </Button>\r\n          </OverlayTrigger>\r\n        </Col>\r\n      )}\r\n      {!updateOnClick && product.countInStock === 0 && (\r\n        <Col sm={12} className='px-4 '>\r\n          <Button\r\n            disabled\r\n            onClick={addToCartHandler}\r\n            variant='primary'\r\n            block\r\n            style={{ height: \"4rem\", fontSize: \"1.8rem\" }}>\r\n            Out of Stock\r\n          </Button>\r\n        </Col>\r\n      )}\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default AddToCartCounter;\r\n","import React, { useEffect } from \"react\";\r\nimport { Row, Col, Image, Card } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getCategoryAction, getProduct, resetCategoryAction } from \"../actions/productActions\";\r\nimport Loader from \"../components/Loader\";\r\nimport AddToCartCounter from \"../components/AddToCartCounter\";\r\nimport Rating from \"../components/Rating\";\r\nimport CurrentPathComponent from \"../components/CurrentPathComponent\";\r\n\r\nconst ProductScreen = ({ match }) => {\r\n  const productId = match.params.id;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getProduct(productId));\r\n  }, [dispatch, productId]);\r\n\r\n  const listProduct = useSelector((state) => state.listProduct);\r\n  const { error, loading, product } = listProduct;\r\n\r\n  useEffect(() => {\r\n    if (product?.category) dispatch(getCategoryAction(product.category._id));\r\n    return () => dispatch(resetCategoryAction());\r\n  }, [dispatch, product]);\r\n\r\n  return (\r\n    <>\r\n      {loading && <Loader marginTop={10} />}\r\n      {error && <div>{error}</div>}\r\n      {product && (\r\n        <>\r\n          <CurrentPathComponent />\r\n          <Row className='px-3 py-2 justify-content-center'></Row>\r\n          <Row className='d-flex align-content-center'>\r\n            <Col xl={6} lg={5} sm={12} className='d-flex align-content-center'>\r\n              <Image src={product.image} fluid rounded style={{ objectFit: \"scale-down\" }} />\r\n            </Col>\r\n            <Col xl={6} lg={7} sm={12}>\r\n              <Card style={{ height: \"100%\" }}>\r\n                <Card.Body className='flex-spread' style={{ minHeight: \"40vh\" }}>\r\n                  <div>\r\n                    <h3 className='text-center'>{product.name}</h3> <hr />\r\n                    <h3 className='text-center'>{product.price} PLN</h3>\r\n                    <hr />\r\n                    <p\r\n                      className='mx-2 px-0 py-2 desc text-justify'\r\n                      style={{ maxHeight: \"40vh\", overflow: \"auto\" }}>\r\n                      {product.description}\r\n                    </p>\r\n                  </div>\r\n                  <AddToCartCounter product={product} />\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n          <hr />\r\n          <Row>\r\n            <Col sm={12} className='text-center'>\r\n              <h2>Reviews</h2>\r\n            </Col>\r\n            <Col sm={12} className='text-center'>\r\n              {product.reviews.length > 0 ? (\r\n                product.reviews.map((review) => (\r\n                  <div key={review._id}>\r\n                    <hr style={{ marginTop: \"0.5rem\", marginBottom: \"0.5rem\", width: \"90%\" }} />\r\n                    <Row className='container'>\r\n                      <Col md={4} lg={4}>\r\n                        <Col sm={12}>\r\n                          <h5 style={{ fontWeight: \"bold\" }}>{review.name}</h5>\r\n                        </Col>\r\n                        <Col sm={12}>\r\n                          <Rating rating={review.rating}></Rating>\r\n                        </Col>\r\n                      </Col>\r\n                      <Col md={8} lg={8} className='my-auto'>\r\n                        <p>{review.comment}</p>\r\n                      </Col>\r\n                    </Row>\r\n                    <br />\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <h4 className='my-4'> There are no reviews for this product yet</h4>\r\n              )}\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductScreen;\r\n","export const LOGIN_USER_REQUEST = \"LOGIN_USER_REQUEST\";\r\nexport const LOGIN_USER_SUCCESS = \"LOGIN_USER_SUCCESS\";\r\nexport const LOGIN_USER_FAIL = \"LOGIN_USER_FAIL\";\r\n\r\nexport const REGISTER_USER_REQUEST = \"REGISTER_USER_REQUEST\";\r\nexport const REGISTER_USER_SUCCESS = \"REGISTER_USER_SUCCESS\";\r\nexport const REGISTER_USER_FAIL = \"REGISTER_USER_FAIL\";\r\n\r\nexport const LOGOUT_USER = \"LOGOUT_USER\";\r\n\r\nexport const UPDATE_PROFILE_REQUEST = \"UPDATE_PROFILE_REQUEST\";\r\nexport const UPDATE_PROFILE_SUCCESS = \"UPDATE_PROFILE_SUCCESS\";\r\nexport const UPDATE_PROFILE_FAIL = \"UPDATE_PROFILE_FAIL\";\r\n\r\nexport const GET_ALL_USERS_REQUEST = \"GET_ALL_USERS_REQUEST\";\r\nexport const GET_ALL_USERS_SUCCESS = \"GET_ALL_USERS_SUCCESS\";\r\nexport const GET_ALL_USERS_FAIL = \"GET_ALL_USERS_FAIL\";\r\n","import {\r\n  LOGIN_USER_FAIL,\r\n  LOGIN_USER_REQUEST,\r\n  LOGIN_USER_SUCCESS,\r\n  LOGOUT_USER,\r\n  REGISTER_USER_FAIL,\r\n  REGISTER_USER_REQUEST,\r\n  REGISTER_USER_SUCCESS,\r\n  UPDATE_PROFILE_FAIL,\r\n  UPDATE_PROFILE_REQUEST,\r\n  UPDATE_PROFILE_SUCCESS,\r\n  GET_ALL_USERS_FAIL,\r\n  GET_ALL_USERS_REQUEST,\r\n  GET_ALL_USERS_SUCCESS,\r\n} from \"../constants/userConstants\";\r\nimport axios from \"axios\";\r\n\r\nexport const loginAction = (email, password) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: LOGIN_USER_REQUEST });\r\n    const config = { headers: { \"Content-Type\": \"application/json\" } };\r\n    const { data } = await axios.post(\"/api/auth/login\", { email, password }, config);\r\n    dispatch({ type: LOGIN_USER_SUCCESS, payload: data });\r\n    localStorage.setItem(\"userLogin\", JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: LOGIN_USER_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const registerAction = (name, email, password) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: REGISTER_USER_REQUEST });\r\n    const config = { headers: { \"Content-Type\": \"application/json\" } };\r\n    const { data } = await axios.post(\"/api/auth/register\", { name, email, password }, config);\r\n    dispatch({ type: REGISTER_USER_SUCCESS, payload: data });\r\n    dispatch({ type: LOGIN_USER_SUCCESS, payload: data });\r\n    localStorage.setItem(\"userLogin\", JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: REGISTER_USER_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProfileAction = (name = \"\", password = \"\") => async (dispatch, getState) => {\r\n  const {\r\n    loginUser: { loggedUser },\r\n  } = getState();\r\n  try {\r\n    dispatch({ type: UPDATE_PROFILE_REQUEST });\r\n    const config = {\r\n      headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${loggedUser.token}` },\r\n    };\r\n    const { data } = await axios.put(\"/api/auth/profile\", { name, password }, config);\r\n    dispatch({ type: UPDATE_PROFILE_SUCCESS });\r\n    dispatch({ type: LOGIN_USER_SUCCESS, payload: data });\r\n    localStorage.setItem(\"userLogin\", JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: UPDATE_PROFILE_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getAllUsersAction = (keyword = \"\") => async (dispatch, getState) => {\r\n  const {\r\n    loginUser: { loggedUser },\r\n  } = getState();\r\n  try {\r\n    dispatch({ type: GET_ALL_USERS_REQUEST });\r\n    const config = {\r\n      headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${loggedUser.token}` },\r\n    };\r\n    const { data } = await axios.get(`/api/auth/users?keyword=${keyword}`, config);\r\n    dispatch({ type: GET_ALL_USERS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_ALL_USERS_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const logoutAction = () => (dispatch) => {\r\n  dispatch({ type: LOGOUT_USER });\r\n  localStorage.removeItem(\"userLogin\");\r\n};\r\n","import React from \"react\";\r\nimport { Alert } from \"react-bootstrap\";\r\n\r\nconst Message = ({ children, variant = \"danger\" }) => {\r\n  return <Alert variant={variant}>{children}</Alert>;\r\n};\r\n\r\nexport default Message;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { loginAction } from \"../actions/userActions\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\n\r\nconst LoginScreen = ({ history }) => {\r\n  let redirect = new URLSearchParams(window.location.search).get(\"redirect\") || \"\";\r\n  console.log(redirect);\r\n  const dispatch = useDispatch();\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const loginUser = useSelector((state) => state.loginUser);\r\n  const { loggedUser, loading, error } = loginUser;\r\n\r\n  useEffect(() => {\r\n    if (loggedUser) history.push(redirect ? `/${redirect}` : \"/\");\r\n  }, [loggedUser, history]);\r\n\r\n  const formSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(loginAction(email, password));\r\n  };\r\n\r\n  return (\r\n    <div className='d-flex justify-content-center'>\r\n      <Form onSubmit={formSubmit} style={{ fontSize: \"1rem\", maxWidth: \"400px\", width: \"100%\" }}>\r\n        <h2 className='text-center mt-4'>Sign In</h2>\r\n        {loading && <Loader />}\r\n        {error && <Message>{error}</Message>}\r\n        <Form.Check className='pt-5 px-0'>\r\n          <Form.Group controlId='email'>\r\n            <Form.Label>Email address</Form.Label>\r\n            <Form.Control\r\n              type='email'\r\n              placeholder='Enter email'\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group controlId='password'>\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control\r\n              type='password'\r\n              placeholder='Password'\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Button block className='mt-4' variant='primary' size='lg' type='submit'>\r\n            Log In\r\n          </Button>\r\n          <br />\r\n          Not registered?{\" \"}\r\n          <Link className='text-info' to={`/register${redirect && `?redirect=${redirect}`}`}>\r\n            Register\r\n          </Link>\r\n        </Form.Check>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginScreen;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { registerAction } from \"../actions/userActions\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\n\r\nconst RegisterScreen = ({ history }) => {\r\n  let redirect = new URLSearchParams(window.location.search).get(\"redirect\") || \"\";\r\n  const dispatch = useDispatch();\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [passwordError, setPasswordError] = useState(\"\");\r\n\r\n  const loginUser = useSelector((state) => state.loginUser);\r\n  const { loggedUser } = loginUser;\r\n  const registerUser = useSelector((state) => state.registerUser);\r\n  const { loading, error } = registerUser;\r\n\r\n  useEffect(() => {\r\n    if (loggedUser) history.push(redirect ? `/${redirect}` : \"/\");\r\n  }, [loggedUser, history]);\r\n\r\n  const formSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (password !== confirmPassword) setPasswordError(\"Passwords do not match\");\r\n    else dispatch(registerAction(name, email, password));\r\n  };\r\n\r\n  return (\r\n    <div className='d-flex justify-content-center '>\r\n      <Form\r\n        style={{ maxWidth: \"400px\", width: \"100%\", paddingTop: \"2rem\", fontSize: \"1rem\" }}\r\n        onSubmit={formSubmit}>\r\n        <h2 className='text-center'>Register</h2>\r\n        {loading && <Loader />}\r\n        {error && <Message>{error}</Message>}\r\n        {passwordError && <Message>{passwordError}</Message>}\r\n        <Form.Group controlId='name'>\r\n          <Form.Label>Name</Form.Label>\r\n          <Form.Control\r\n            type='text'\r\n            placeholder='Enter name'\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId='email'>\r\n          <Form.Label>Email address</Form.Label>\r\n          <Form.Control\r\n            type='email'\r\n            placeholder='Enter email'\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId='password'>\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type='password'\r\n            placeholder='Password'\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId='confirmpassword'>\r\n          <Form.Label>Confirm Password</Form.Label>\r\n          <Form.Control\r\n            type='password'\r\n            placeholder='Confirm Password'\r\n            value={confirmPassword}\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Button size='lg' block variant='primary' type='submit'>\r\n          Create Account\r\n        </Button>\r\n        <br />\r\n        Have an account?{\" \"}\r\n        <Link className='text-info' to={`/login${redirect && `?redirect=${redirect}`}`}>\r\n          Login\r\n        </Link>\r\n      </Form>\r\n\r\n      {/* <LinkContainer to='/register'>Already have an acoount?</LinkContainer> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterScreen;\r\n","import React from \"react\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst OrderProgress = ({ ship }) => {\r\n  const arrowRight = <i className={`d-none d-sm-block grey-font fas fa-long-arrow-alt-right fa-3x`}></i>;\r\n  return (\r\n    <>\r\n      <nav className='d-flex justify-content-center'>\r\n        <Row style={{ maxWidth: \"500px\" }} className='mt-4 mb-0'>\r\n          <Col className='text-center mx-0 px-0' style={{ width: \"100px\" }}>\r\n            <Link to='/cart'>\r\n              <i className='orange-font fas fa-shopping-cart fa-3x'></i>\r\n            </Link>\r\n          </Col>\r\n          {arrowRight}\r\n          <Col className='text-center  mx-0 px-0' style={{ width: \"100px\" }}>\r\n            <i className={`${ship ? \"orange\" : \"grey\"}-font fas fa-shipping-fast fa-3x`}></i>\r\n          </Col>\r\n          {arrowRight}\r\n          <Col className='text-center  mx-0 px-0' style={{ width: \"100px\" }}>\r\n            <i className='grey-font fas fa-check-circle fa-3x'></i>\r\n          </Col>\r\n        </Row>\r\n      </nav>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrderProgress;\r\n","import React, { useMemo, useEffect } from \"react\";\r\nimport { Row, Col, Image, ListGroup, Button, Card, OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\nimport AddToCartCounter from \"../components/AddToCartCounter\";\r\nimport OrderProgress from \"../components/OrderProgress\";\r\nimport { removeProductFromCartAction, updateCartItemsAction } from \"../actions/cartActions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { IoBagCheckOutline } from \"react-icons/io5\";\r\n\r\nconst CartScreen = () => {\r\n  const freeShippingValue = 200;\r\n  const cartContentState = useSelector((state) => state.cartContent);\r\n  const { cartContent } = cartContentState;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const loginUser = useSelector((loginUser) => loginUser.loginUser);\r\n  const { loggedUser } = loginUser;\r\n\r\n  const totalItems = useMemo(() => cartContent.reduce((prev, curr) => prev + curr.count, 0), [cartContent]);\r\n  const totalPrice = useMemo(() => cartContent.reduce((prev, curr) => prev + curr.price * curr.count, 0), [\r\n    cartContent,\r\n  ]);\r\n  const shippingPrice = useMemo(() => (totalPrice > freeShippingValue ? 0 : 9.99), [totalPrice]);\r\n\r\n  useEffect(() => {\r\n    dispatch(updateCartItemsAction());\r\n  }, [dispatch]);\r\n\r\n  const removeFromCartHandler = (product) => dispatch(removeProductFromCartAction(product));\r\n\r\n  const showSummary = () => (\r\n    <Col lg={3} md={12} className='px-3'>\r\n      <Card style={{}} className='py-1'>\r\n        <Card.Body>\r\n          <Card.Title className='text-center'>\r\n            <h3>Summary</h3>\r\n          </Card.Title>\r\n          <hr />\r\n          <Card.Text className='flex-spread-row'>\r\n            <span>Items: </span>\r\n            <span>{totalItems}</span>\r\n          </Card.Text>\r\n          <Card.Text className='flex-spread-row'>\r\n            <span>Price:</span>\r\n            <span>{totalPrice.toFixed(2)} z </span>\r\n          </Card.Text>\r\n          <Card.Text className='flex-spread-row'>\r\n            <span>Shipping: </span>\r\n            <span>{shippingPrice.toFixed(2)} z </span>\r\n          </Card.Text>\r\n          <hr />\r\n          <Card.Text className='flex-spread-row'>\r\n            <span>Total Price:</span>\r\n            <span>\r\n              <b>{(totalPrice + shippingPrice).toFixed(2)} z</b>\r\n            </span>\r\n          </Card.Text>\r\n          <Link to='/checkout'>\r\n            {!loggedUser && (\r\n              <Link to='/login?redirect=cart'>\r\n                <Button block variant='primary' size='lg' className='mt-4 py-3 proceed'>\r\n                  <i className='fas fa-sign-in-alt'></i> Log In To Proceed\r\n                </Button>\r\n              </Link>\r\n            )}\r\n            <Button disabled={!loggedUser} block variant='primary' size='lg' className='mt-4 py-3 proceed'>\r\n              <IoBagCheckOutline style={{ fontSize: \"1.5rem\" }} /> Proceed To Checkout\r\n            </Button>\r\n          </Link>\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n  );\r\n\r\n  const showCartItems = () => (\r\n    <>\r\n      <Col lg={9} className='px-0'>\r\n        <ListGroup variant='flush'>\r\n          {cartContent.map((product) => (\r\n            <ListGroup.Item key={product._id}>\r\n              <Row className='d-flex align-items-center'>\r\n                <Col\r\n                  lg={{ span: 3, order: 1 }}\r\n                  xs={{ span: 3, order: 1 }}\r\n                  className='py-0 pr-4 d-flex justify-content-center'>\r\n                  <Link to={`/product/${product._id}`}>\r\n                    <Image\r\n                      fluid\r\n                      rounded\r\n                      src={product.image}\r\n                      style={{ height: \"10rem\", objectFit: \"scale-down\" }}></Image>\r\n                  </Link>\r\n                </Col>\r\n                <Col\r\n                  lg={{ span: 4, order: 2 }}\r\n                  xs={{ span: 8, order: 2 }}\r\n                  className='pl-0 pr-0'\r\n                  style={{ fontSize: \"1.1rem\" }}>\r\n                  <Link to={`/product/${product._id}`}>{product.name}</Link>\r\n                </Col>\r\n                <Col lg={{ span: 2, order: 3 }} xs={{ span: 6, order: 4 }} className='pl-0 pr-4'>\r\n                  {product.countInStock > 0 ? (\r\n                    <AddToCartCounter product={product} updateOnClick={true} />\r\n                  ) : (\r\n                    <h5 className='text-center'>Out of Stock</h5>\r\n                  )}\r\n                </Col>\r\n                <Col lg={{ span: 2, order: 4 }} xs={{ span: 6, order: 5 }} className='px-1'>\r\n                  <h5 style={{ fontSize: \"1.1rem\" }}>\r\n                    {((product.price * product.count * 100) / 100).toFixed(2)} z\r\n                  </h5>\r\n                </Col>\r\n                <Col\r\n                  lg={{ span: 1, order: 5 }}\r\n                  xs={{ span: 1, order: 3 }}\r\n                  className='px-0 '\r\n                  onClick={(e) => removeFromCartHandler(product)}>\r\n                  <OverlayTrigger\r\n                    key='top'\r\n                    placement='top'\r\n                    overlay={\r\n                      <Tooltip id={`tooltip-top`} className='my-1 orange-border'>\r\n                        <p className='m-2' style={{ fontSize: \"1rem\" }}>\r\n                          Remove Item From Cart\r\n                        </p>\r\n                      </Tooltip>\r\n                    }>\r\n                    {/* <Button variant='secondary'>Tooltip on top</Button> */}\r\n                    <i className='fas fa-times orange-border-hover'></i>\r\n                  </OverlayTrigger>\r\n                </Col>\r\n              </Row>\r\n            </ListGroup.Item>\r\n          ))}\r\n        </ListGroup>\r\n        <hr />\r\n        <h3 style={{ textAlign: \"center\" }}>\r\n          {totalPrice > 200\r\n            ? \"You Qualify For Free Shipping!\"\r\n            : `You miss ${(freeShippingValue - totalPrice).toFixed(2)} z To Get Free Shipping`}\r\n        </h3>\r\n      </Col>\r\n      {showSummary()}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <OrderProgress cart />\r\n      <hr />\r\n      <Row>\r\n        {cartContent.length > 0 ? (\r\n          showCartItems()\r\n        ) : (\r\n          <h2 className='text-align-center my-5 mx-auto'>\r\n            <p className='my-5'>\r\n              Items added to cart will appear here,{\" \"}\r\n              <Link className='text-dark' to='/'>\r\n                Go Shopping\r\n              </Link>\r\n            </p>\r\n          </h2>\r\n        )}\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CartScreen;\r\n","export const PLACE_ORDER_REQUEST = \"PLACE_ORDER_REQUEST\";\r\nexport const PLACE_ORDER_SUCCESS = \"PLACE_ORDER_SUCCESS\";\r\nexport const PLACE_ORDER_FAIL = \"PLACE_ORDER_FAIL\";\r\nexport const PLACE_ORDER_RESET = \"PLACE_ORDER_RESET\";\r\n\r\nexport const GET_ORDER_REQUEST = \"GET_ORDER_REQUEST\";\r\nexport const GET_ORDER_SUCCESS = \"GET_ORDER_SUCCESS\";\r\nexport const GET_ORDER_FAIL = \"GET_ORDER_FAIL\";\r\n\r\nexport const UPDATE_ORDER_REQUEST = \"UPDATE_ORDER_REQUEST\";\r\nexport const UPDATE_ORDER_SUCCESS = \"UPDATE_ORDER_SUCCESS\";\r\nexport const UPDATE_ORDER_FAIL = \"UPDATE_ORDER_FAIL\";\r\n\r\nexport const GET_USER_ORDERS_REQUEST = \"GET_USER_ORDERS_REQUEST\";\r\nexport const GET_USER_ORDERS_SUCCESS = \"GET_USER_ORDERS_SUCCESS\";\r\nexport const GET_USER_ORDERS_FAIL = \"GET_USER_ORDERS_FAIL\";\r\n\r\nexport const CREATE_ORDER_REQUEST = \"CREATE_ORDER_REQUEST\";\r\nexport const CREATE_ORDER_SUCCESS = \"CREATE_ORDER_SUCCESS\";\r\nexport const CREATE_ORDER_FAIL = \"CREATE_ORDER_FAIL\";\r\n\r\nexport const CREATE_REVIEW_REQUEST = \"CREATE_REVIEW_REQUEST\";\r\nexport const CREATE_REVIEW_SUCCESS = \"CREATE_REVIEW_SUCCESS\";\r\nexport const CREATE_REVIEW_FAIL = \"CREATE_REVIEW_FAIL\";\r\nexport const CREATE_REVIEW_RESET = \"CREATE_REVIEW_RESET\";\r\n\r\nexport const GET_ALL_ORDERS_REQUEST = \"GET_ALL_ORDERS_REQUEST\";\r\nexport const GET_ALL_ORDERS_SUCCESS = \"GET_ALL_ORDERS_SUCCESS\";\r\nexport const GET_ALL_ORDERS_FAIL = \"GET_ALL_ORDERS_FAIL\";\r\n","import {\r\n  PLACE_ORDER_FAIL,\r\n  PLACE_ORDER_REQUEST,\r\n  PLACE_ORDER_RESET,\r\n  PLACE_ORDER_SUCCESS,\r\n  GET_ORDER_FAIL,\r\n  GET_ORDER_REQUEST,\r\n  GET_ORDER_SUCCESS,\r\n  UPDATE_ORDER_FAIL,\r\n  UPDATE_ORDER_REQUEST,\r\n  UPDATE_ORDER_SUCCESS,\r\n  GET_USER_ORDERS_FAIL,\r\n  GET_USER_ORDERS_REQUEST,\r\n  GET_USER_ORDERS_SUCCESS,\r\n  CREATE_REVIEW_FAIL,\r\n  CREATE_REVIEW_REQUEST,\r\n  CREATE_REVIEW_SUCCESS,\r\n  GET_ALL_ORDERS_FAIL,\r\n  GET_ALL_ORDERS_REQUEST,\r\n  GET_ALL_ORDERS_SUCCESS,\r\n} from \"../constants/orderConstants.js\";\r\nimport axios from \"axios\";\r\nimport { cleanCartAction } from \"./cartActions.js\";\r\n\r\nexport const placeOrderAction = (orderDetails) => async (dispatch, getState) => {\r\n  const {\r\n    loginUser: { loggedUser },\r\n  } = getState();\r\n  try {\r\n    dispatch({ type: PLACE_ORDER_REQUEST });\r\n    const config = {\r\n      headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${loggedUser.token}` },\r\n    };\r\n    const { data } = await axios.post(\"/api/orders\", orderDetails, config);\r\n    // console.log(data);\r\n    dispatch(cleanCartAction());\r\n    dispatch({ type: PLACE_ORDER_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PLACE_ORDER_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getOrderAction = (orderId) => async (dispatch, getState) => {\r\n  const {\r\n    loginUser: { loggedUser },\r\n  } = getState();\r\n  try {\r\n    dispatch({ type: GET_ORDER_REQUEST });\r\n    const config = {\r\n      headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${loggedUser.token}` },\r\n    };\r\n    const { data } = await axios.get(`/api/orders/${orderId}`, config);\r\n    dispatch({ type: GET_ORDER_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_ORDER_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateOrderAction = (orderId, fieldsToUpdate) => async (dispatch, getState) => {\r\n  const {\r\n    loginUser: { loggedUser },\r\n  } = getState();\r\n  try {\r\n    dispatch({ type: UPDATE_ORDER_REQUEST });\r\n    const config = {\r\n      headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${loggedUser.token}` },\r\n    };\r\n    const { data } = await axios.put(`/api/orders/${orderId}`, fieldsToUpdate, config);\r\n    dispatch({ type: UPDATE_ORDER_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: UPDATE_ORDER_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getAllOrdersAction = (\r\n  userId = \"\",\r\n  notPaidOnly = false,\r\n  notSentOnly = false,\r\n  notDeliveredOnly = false\r\n) => async (dispatch, getState) => {\r\n  const {\r\n    loginUser: { loggedUser },\r\n  } = getState();\r\n  try {\r\n    dispatch({ type: GET_ALL_ORDERS_REQUEST });\r\n    const config = {\r\n      headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${loggedUser.token}` },\r\n    };\r\n    const { data } = await axios.get(\r\n      `/api/orders?user=${userId}&notpaid=${notPaidOnly}&notsent=${notSentOnly}&notdelivered=${notDeliveredOnly}`,\r\n      config\r\n    );\r\n    dispatch({ type: GET_ALL_ORDERS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_ALL_ORDERS_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const payOrderViaPaypalAction = (orderId, paypalOrderId, create_time) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const {\r\n    loginUser: { loggedUser },\r\n  } = getState();\r\n  try {\r\n    const config = {\r\n      headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${loggedUser.token}` },\r\n    };\r\n    const { data } = await axios.put(\r\n      `/api/orders/${orderId}/pay/paypal`,\r\n      { paypalOrderId, create_time },\r\n      config\r\n    );\r\n    dispatch({ type: GET_ORDER_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_ORDER_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUserOrdersAction = () => async (dispatch, getState) => {\r\n  const {\r\n    loginUser: { loggedUser },\r\n  } = getState();\r\n  try {\r\n    dispatch({ type: GET_USER_ORDERS_REQUEST });\r\n    const config = {\r\n      headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${loggedUser.token}` },\r\n    };\r\n    const { data } = await axios.get(`/api/auth/orders/`, config);\r\n    dispatch({ type: GET_USER_ORDERS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_USER_ORDERS_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const reviewProductAction = (productId, orderId, review) => async (dispatch, getState) => {\r\n  const {\r\n    loginUser: { loggedUser },\r\n  } = getState();\r\n  try {\r\n    dispatch({ type: CREATE_REVIEW_REQUEST });\r\n    const config = {\r\n      headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${loggedUser.token}` },\r\n    };\r\n    const { data } = await axios.put(`/api/products/${productId}/order/${orderId}/review`, review, config);\r\n    dispatch({ type: CREATE_REVIEW_SUCCESS, payload: data });\r\n    dispatch(getOrderAction(orderId));\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({\r\n      type: CREATE_REVIEW_FAIL,\r\n      payload: error.response?.data.message ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const placeOrderReset = () => (dispatch) => {\r\n  dispatch({ type: PLACE_ORDER_RESET });\r\n};\r\n","import React from \"react\";\r\nimport { Row, Col, ProgressBar } from \"react-bootstrap\";\r\n\r\nconst OrdersStatusBar = ({ order, size }) => {\r\n  const baseColSize = size === \"small\" ? 6 : 12;\r\n  const lgColSize = size === \"small\" ? 5 : 12;\r\n  const mdColSize = size === \"small\" ? 4 : 12;\r\n  return (\r\n    <Row className='mr-0'>\r\n      {size === \"small\" && (\r\n        <Col xl={6} lg={7} md={8} xs={6} className='mx-0'>\r\n          <i className='orange-font fas fa-spinner'></i>{\" \"}\r\n          {order.isDelivered ? (\r\n            <b className='text-success'>Delivered</b>\r\n          ) : order.isDispatched ? (\r\n            <b className='text-info'>Sent Out</b>\r\n          ) : order.isPaid ? (\r\n            <b>Paid</b>\r\n          ) : (\r\n            <b className='text-danger'> Not Paid</b>\r\n          )}\r\n        </Col>\r\n      )}\r\n\r\n      <Col\r\n        xl={baseColSize}\r\n        lg={lgColSize}\r\n        md={mdColSize}\r\n        xs={baseColSize}\r\n        className={`mx-0 pt-1 px-${size === \"small\" ? 0 : 5}`}>\r\n        <ProgressBar\r\n          style={{ maxHeight: size === \"small\" ? `0.75rem` : \"2rem\" }}\r\n          now={order.isDelivered ? 100 : order.isDispatched ? 75 : order.isPaid ? 50 : 25}\r\n          variant={\r\n            order.isDelivered ? \"success\" : order.isDispatched ? \"info\" : order.isPaid ? \"primary\" : \"danger\"\r\n          }></ProgressBar>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default OrdersStatusBar;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport { Row, Col, Form, Button, ListGroup, Image } from \"react-bootstrap\";\r\nimport { updateProfileAction } from \"../actions/userActions\";\r\nimport { getUserOrdersAction } from \"../actions/orderActions\";\r\nimport OrdersStatusBar from \"../components/OrdersStatusBar\";\r\nimport { FaUserCheck } from \"react-icons/fa\";\r\n\r\nconst ProfileScreen = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n  const loginUser = useSelector((state) => state.loginUser);\r\n  const { loggedUser, loading, error } = loginUser;\r\n\r\n  const updateProfile = useSelector((state) => state.updateProfile);\r\n  const { loading: updateLoading, success, error: updateError } = updateProfile;\r\n\r\n  const userOrdersGet = useSelector((state) => state.userOrdersGet);\r\n  const { ordersDetails, loading: loadingOrders, error: orderError } = userOrdersGet;\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n\r\n  const [passwordError, setPasswordError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (!loggedUser) history.push(\"/login\");\r\n    else setName(loggedUser.name);\r\n  }, [loggedUser, history]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getUserOrdersAction());\r\n  }, [dispatch]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (password !== confirmPassword) setPasswordError(\"Passwords do not match\");\r\n    else dispatch(updateProfileAction(name, password));\r\n  };\r\n\r\n  const showProfile = () => (\r\n    <>\r\n      <h1 className='text-center'>Edit Profile</h1>\r\n      <hr />\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group readOnly controlId='email'>\r\n          <Form.Label>Email address</Form.Label>\r\n          <Form.Control readOnly type='email' placeholder={loggedUser.email} />\r\n        </Form.Group>\r\n        <Form.Group controlId='name'>\r\n          <Form.Label>Name</Form.Label>\r\n          <Form.Control type='text' value={name} onChange={(e) => setName(e.target.value)} />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='formBasicPassword'>\r\n          <Form.Label>Change Password</Form.Label>\r\n          <Form.Control\r\n            type='password'\r\n            value={password}\r\n            placeholder='New Password'\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId='formBasicPassword'>\r\n          <Form.Label>Confirm Password</Form.Label>\r\n          <Form.Control\r\n            type='password'\r\n            value={confirmPassword}\r\n            placeholder='Confirm New Password'\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Button className='py-3 my-5 bigger' variant='primary' block type='submit'>\r\n          <FaUserCheck className='orange-font' style={{ fontSize: \"1.75rem\" }} /> Submit\r\n        </Button>\r\n      </Form>\r\n    </>\r\n  );\r\n\r\n  const showOrders = () => (\r\n    <Col className='mx-4'>\r\n      <h1 className='text-center'>Your Orders</h1>\r\n      <hr />\r\n      {loadingOrders && <Loader marginTop='5' />}\r\n      {ordersDetails.length > 0 && (\r\n        <ListGroup variant='flush'>\r\n          {ordersDetails.map((order) => (\r\n            <Link key={order._id} to={`/order/${order._id}`}>\r\n              <ListGroup.Item className='mb-0  pb-2 orange-border-hover'>\r\n                <Row style={{ height: \"12rem\" }}>\r\n                  <Col md='6' className='text-left my-0'>\r\n                    <i className='orange-font fas fa-fingerprint'> </i> ID: <b>{order._id}</b>\r\n                  </Col>\r\n                  <Col md='6' className='my-0'>\r\n                    <i className='orange-font far fa-clock'></i> Date:{\" \"}\r\n                    <b>{order.createdAt.substring(0, 19).replace(\"T\", \" \")}</b>\r\n                  </Col>\r\n                  <Col md='6' className='text-left my-0'>\r\n                    <i className='orange-font fas fa-money-bill-wave'></i> Value:{\" \"}\r\n                    <b>{order.totalPrice} PLN</b>\r\n                  </Col>\r\n                  <Col md='6' className='text-left my-0'>\r\n                    <OrdersStatusBar order={order} size='small'></OrdersStatusBar>\r\n                  </Col>\r\n                  <Row style={{ height: \"8rem\" }} className=' mx-4 py-0  d-flex align-items-center'>\r\n                    {order.orderItems.map(\r\n                      (orderItem, index) =>\r\n                        index <= 5 && (\r\n                          <Col key={orderItem._id} xs='2' className='py-0 m-0 px-1'>\r\n                            <Image className='mb-3' fluid src={orderItem.image}></Image>\r\n                          </Col>\r\n                        )\r\n                    )}\r\n                  </Row>\r\n                </Row>\r\n              </ListGroup.Item>\r\n            </Link>\r\n          ))}\r\n        </ListGroup>\r\n      )}\r\n    </Col>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {(loading || updateLoading) && <Loader />}\r\n      {(error || updateError || passwordError || orderError) && (\r\n        <Message>{error || updateError || passwordError || orderError}</Message>\r\n      )}\r\n      {success && <Message variant='success'>Profile Updated!</Message>}\r\n\r\n      {loggedUser && (\r\n        <Row className='py-5 px-4'>\r\n          <Col lg='5' md='12' className='border-right pr-5 mx-4'>\r\n            {showProfile()}\r\n          </Col>\r\n          {showOrders()}\r\n        </Row>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProfileScreen;\r\n","import React, { useState, useMemo, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Row, Col, Form, Button, Image } from \"react-bootstrap\";\r\nimport { placeOrderAction, placeOrderReset } from \"../actions/orderActions\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport OrderProgress from \"../components/OrderProgress\";\r\n\r\nconst PayAndShipScreen = ({ history }) => {\r\n  const [validated, setValidated] = useState(false);\r\n  const [paymentMethod, setPaymentMethod] = useState(\"\");\r\n\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const [city, setCity] = useState(\"\");\r\n  const [zipCode, setZipCode] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const freeShippingValue = 200;\r\n  const cartContentState = useSelector((state) => state.cartContent);\r\n  const { cartContent } = cartContentState;\r\n\r\n  const orderCreateState = useSelector((state) => state.orderCreate);\r\n  const { id, loading, error } = orderCreateState;\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      dispatch(placeOrderReset());\r\n      history.push(`/order/${id}`);\r\n    }\r\n  }, [id, history, dispatch]);\r\n\r\n  const itemsPrice = useMemo(\r\n    () => cartContent.reduce((prev, curr) => prev + curr.price * curr.count, 0).toFixed(2),\r\n    [cartContent]\r\n  );\r\n  const shippingPrice = useMemo(() => (itemsPrice > freeShippingValue ? 0 : 9.99), [itemsPrice]);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      event.stopPropagation();\r\n    }\r\n    setValidated(true);\r\n    const name = `${firstName} ${lastName}`;\r\n    const shippingAddress = { address, city, postalCode: zipCode, name };\r\n    dispatch(\r\n      placeOrderAction({\r\n        name,\r\n        shippingAddress,\r\n        paymentMethod,\r\n        itemsPrice,\r\n        totalPrice: (parseFloat(itemsPrice) + parseFloat(shippingPrice)).toFixed(2),\r\n        orderItems: cartContent,\r\n        shippingPrice,\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <OrderProgress ship />\r\n      <hr />\r\n      {error && <Message>{error}</Message>}\r\n      {loading ? (\r\n        <Loader marginTop={5} />\r\n      ) : (\r\n        <Row className='py-5 px-4'>\r\n          <Col lg={7} xl={8} sm={12} className='border-right text-center'>\r\n            <h2 className='mb-5'>Enter Your Address</h2>\r\n\r\n            <Form\r\n              noValidate\r\n              validated={validated}\r\n              onSubmit={handleSubmit}\r\n              id='ship-form'\r\n              style={{ fontSize: \"1rem\" }}>\r\n              <Form.Row className='py-3'>\r\n                <Form.Group as={Col} md='6' className='py-4'>\r\n                  <Form.Label>First name</Form.Label>\r\n                  <Form.Control\r\n                    required\r\n                    type='text'\r\n                    placeholder='First name'\r\n                    size='lg'\r\n                    value={firstName}\r\n                    onChange={(e) => setFirstName(e.target.value)}\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group as={Col} md='6' className='py-4'>\r\n                  <Form.Label>Last name</Form.Label>\r\n                  <Form.Control\r\n                    required\r\n                    type='text'\r\n                    placeholder='Last name'\r\n                    size='lg'\r\n                    onChange={(e) => setLastName(e.target.value)}\r\n                    value={lastName}\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group as={Col} lg='6' sm='12' className='py-4'>\r\n                  <Form.Label>Street Name and Number</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    placeholder='Street Name'\r\n                    required\r\n                    size='lg'\r\n                    onChange={(e) => setAddress(e.target.value)}\r\n                    value={address}\r\n                  />\r\n                  <Form.Control.Feedback type='invalid'>Please provide a valid city.</Form.Control.Feedback>\r\n                </Form.Group>\r\n                <Form.Group as={Col} lg='4' md='8' className='py-4'>\r\n                  <Form.Label>City</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    placeholder='City'\r\n                    required\r\n                    size='lg'\r\n                    onChange={(e) => setCity(e.target.value)}\r\n                    value={city}\r\n                  />\r\n                  <Form.Control.Feedback type='invalid'>Please provide a valid city.</Form.Control.Feedback>\r\n                </Form.Group>\r\n                <Form.Group as={Col} lg='2' md='4' className='py-4'>\r\n                  <Form.Label>Zip</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    placeholder='Zip'\r\n                    required\r\n                    size='lg'\r\n                    onChange={(e) => setZipCode(e.target.value)}\r\n                    value={zipCode}\r\n                  />\r\n                  <Form.Control.Feedback type='invalid'>Please provide a valid zip.</Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Form.Row>\r\n            </Form>\r\n          </Col>\r\n          <hr />\r\n          <Col xl={4} lg={5} sm={12} className='text-center'>\r\n            <h2 className='mb-5'>Payment Method</h2>\r\n            <Row\r\n              className={`payment-method m-4 ${paymentMethod === \"PayPal\" && \"active\"}`}\r\n              onClick={(e) => setPaymentMethod(\"PayPal\")}>\r\n              <Col className='my-auto'>\r\n                <Image\r\n                  style={{ maxHeight: \"45px\" }}\r\n                  src='https://logodownload.org/wp-content/uploads/2014/10/paypal-logo-2-1.png'\r\n                  fluid\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row\r\n              className={`payment-method m-4 ${paymentMethod === \"Stripe\" && \"active\"}`}\r\n              onClick={(e) => setPaymentMethod(\"Stripe\")}>\r\n              <Col className='my-auto'>\r\n                <Image\r\n                  style={{ maxHeight: \"60px\" }}\r\n                  src='https://www.przelewy24.pl/themes/base/assets/images/przelewy24_logo.svg'\r\n                  fluid\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Button type='submit' form='ship-form' block size='lg' className='m-4 pt-3 px-5'>\r\n              <h4>Submit Order</h4>\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PayAndShipScreen;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Modal, Button, Form, Image, Col, Row } from \"react-bootstrap\";\r\nimport { reviewProductAction } from \"../actions/orderActions\";\r\nimport { CREATE_REVIEW_RESET } from \"../constants/orderConstants\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Message from \"./Message\";\r\n\r\nconst ReviewModal = (props) => {\r\n  const product = props.product;\r\n  // const orderId = props.orderId;\r\n\r\n  const { id: orderId } = useParams();\r\n  const [reviewTitle, setReviewTitle] = useState(\"\");\r\n  const [reviewDetails, setReviewDetails] = useState(\"\");\r\n  const [rating, setRating] = useState(0);\r\n  const [tempRating, setTempRating] = useState(0);\r\n  const dispatch = useDispatch();\r\n  const reviewCreate = useSelector((state) => state.reviewCreate);\r\n  const { error: reviewError } = reviewCreate;\r\n\r\n  const setUserRating = () => (\r\n    <div className='text-center'>\r\n      <span\r\n        onClick={() => setRating(1)}\r\n        onMouseEnter={() => setTempRating(1)}\r\n        onMouseLeave={() => setTempRating(0)}>\r\n        {tempRating ? (tempRating >= 1 ? fullStar : emptyStar) : rating >= 1 ? fullStar : emptyStar}\r\n      </span>\r\n      <span\r\n        onClick={() => setRating(2)}\r\n        onMouseLeave={() => setTempRating(0)}\r\n        onMouseEnter={() => setTempRating(2)}>\r\n        {tempRating ? (tempRating >= 2 ? fullStar : emptyStar) : rating >= 2 ? fullStar : emptyStar}\r\n      </span>\r\n      <span\r\n        onClick={() => setRating(3)}\r\n        onMouseLeave={() => setTempRating(0)}\r\n        onMouseEnter={() => setTempRating(3)}>\r\n        {tempRating ? (tempRating >= 3 ? fullStar : emptyStar) : rating >= 3 ? fullStar : emptyStar}\r\n      </span>\r\n      <span\r\n        onClick={() => setRating(4)}\r\n        onMouseLeave={() => setTempRating(0)}\r\n        onMouseEnter={() => setTempRating(4)}>\r\n        {tempRating ? (tempRating >= 4 ? fullStar : emptyStar) : rating >= 4 ? fullStar : emptyStar}\r\n      </span>\r\n      <span\r\n        onClick={() => setRating(5)}\r\n        onMouseLeave={() => setTempRating(0)}\r\n        onMouseEnter={() => setTempRating(5)}>\r\n        {tempRating ? (tempRating >= 5 ? fullStar : emptyStar) : rating >= 5 ? fullStar : emptyStar}\r\n      </span>\r\n    </div>\r\n  );\r\n\r\n  const submitReview = (e) => {\r\n    e.preventDefault();\r\n\r\n    dispatch(\r\n      reviewProductAction(product._id, orderId, { name: reviewTitle, comment: reviewDetails, rating })\r\n    );\r\n  };\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch({ type: CREATE_REVIEW_RESET });\r\n    };\r\n  }, [dispatch]);\r\n\r\n  const fullStar = <i style={{ fontSize: \"2rem\" }} className='fas fa-star p-1 py-3'></i>;\r\n  const emptyStar = <i style={{ fontSize: \"2rem\" }} className='far fa-star p-1 py-3'></i>;\r\n\r\n  return (\r\n    <Modal {...props} size='lg' aria-labelledby='contained-modal-title-vcenter' centered>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id='contained-modal-title-vcenter'>\r\n          <Row>\r\n            <Col sm={2}>{<Image fluid src={product.image}></Image>}</Col>\r\n            <Col sm={10} className='my-auto'>\r\n              {product.name}\r\n            </Col>\r\n          </Row>\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Form onSubmit={submitReview} style={{ maxWidth: \"600px\" }} className='container'>\r\n          {reviewError && <Message>You already reviewed this item in some of previous orders!</Message>}\r\n          <h5 className='text-center'>Your Rating:</h5>\r\n          {setUserRating()}\r\n          <br />\r\n          <h5 className='text-center'>Review Title:</h5>\r\n          <Form.Group controlId='exampleForm.ControlTextarea1'>\r\n            <Form.Control\r\n              required\r\n              placeholder='Review Title'\r\n              value={reviewTitle}\r\n              onChange={(e) => setReviewTitle(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <h5 className='text-center'>Review Details:</h5>\r\n          <Form.Group controlId='exampleForm.ControlTextarea1'>\r\n            <Form.Control\r\n              required\r\n              as='textarea'\r\n              rows={3}\r\n              placeholder='Please Write Your Review Here'\r\n              value={reviewDetails}\r\n              onChange={(e) => setReviewDetails(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Button variant='primary' block type='submit'>\r\n            Submit\r\n          </Button>\r\n        </Form>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button onClick={props.onHide}>Close</Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ReviewModal;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getOrderAction } from \"../actions/orderActions\";\r\nimport { Row, Col, ListGroup, Image, Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Loader from \"../components/Loader\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport OrdersStatusBar from \"../components/OrdersStatusBar\";\r\nimport Message from \"../components/Message\";\r\nimport axios from \"axios\";\r\nimport { payOrderViaPaypalAction, updateOrderAction } from \"../actions/orderActions\";\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\nimport ReviewModal from \"../components/ReviewModal\";\r\n\r\nconst OrderScreen = ({ match }) => {\r\n  const dispatch = useDispatch();\r\n  const orderGet = useSelector((state) => state.orderGet);\r\n  const loginUser = useSelector((state) => state.loginUser);\r\n  const { loggedUser } = loginUser;\r\n  const { orderDetails, loading } = orderGet;\r\n\r\n  const [sdkReady, setSdkReady] = useState(false);\r\n  const [paymentLoading, setPaymentLoading] = useState(false);\r\n  const [modalShow, setModalShow] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const addPaypalScript = async () => {\r\n      const { data: clientId } = await axios.get(\"/api/config/paypal\");\r\n      const script = document.createElement(\"script\");\r\n      script.type = \"text/javascript\";\r\n      script.src = `https://www.paypal.com/sdk/js?client-id=${clientId}&currency=PLN`;\r\n      script.async = true;\r\n      script.onload = () => setSdkReady(true);\r\n      document.body.appendChild(script);\r\n    };\r\n\r\n    if (orderDetails) {\r\n      if (!orderDetails.isPaid) {\r\n        if (!window.paypal) addPaypalScript();\r\n        else setSdkReady(true);\r\n      }\r\n    }\r\n  }, [orderDetails, dispatch]);\r\n\r\n  const PayPalSuccessPay = (details, data) => {\r\n    console.log(\"success\");\r\n    // console.log(details);\r\n    // console.log(data);\r\n    setPaymentLoading(true);\r\n    dispatch(payOrderViaPaypalAction(orderDetails._id, details.id, details.create_time));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!loading) setPaymentLoading(false);\r\n    if (orderDetails) {\r\n      setModalShow(Array.from({ length: orderDetails.orderItems.length }, () => false));\r\n    }\r\n  }, [loading, orderDetails]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getOrderAction(match.params.id));\r\n  }, [dispatch, match]);\r\n\r\n  const stripePromise = loadStripe(\r\n    \"pk_test_51HxskkJe6gNNlKVJ5jshf7Hj0fX3nmmmiQzLz1fu4u7e6K6SorkOEXbzSaeeUCBGdf8QEAGbuSfT6vdQwVkqtj4500j6tBFuTm\"\r\n  );\r\n\r\n  const goToPayment = async () => {\r\n    const stripe = await stripePromise;\r\n    const { error } = await stripe.redirectToCheckout({\r\n      sessionId: orderDetails.stripeOrderId,\r\n    });\r\n    if (error) console.log(error);\r\n  };\r\n\r\n  const updateOrder = async (details) => {\r\n    dispatch(updateOrderAction(match.params.id, details));\r\n  };\r\n\r\n  const showOrderItems = () =>\r\n    orderDetails.orderItems.map((orderItem, index) => (\r\n      <ListGroup.Item key={orderItem._id}>\r\n        <Row className='d-flex align-items-center'>\r\n          <Col lg={3} xs={12} className='py-0 pr-4 d-flex justify-content-center'>\r\n            <Link to={`/product/${orderItem._id}`}>\r\n              <Image\r\n                fluid\r\n                rounded\r\n                src={orderItem.image}\r\n                style={{ height: \"10rem\", objectFit: \"scale-down\" }}></Image>\r\n            </Link>\r\n          </Col>\r\n          <Col lg={5} xs={7} className='pl-0 pr-0 text-left' style={{ fontSize: \"1.1rem\" }}>\r\n            <Link className='py-4' to={`/product/${orderItem._id}`}>\r\n              {orderItem.name}\r\n            </Link>\r\n          </Col>\r\n          <Col lg={4} xs={5} className='pr-0 text-right'>\r\n            <Col sm={12}>\r\n              <h5 style={{ fontSize: \"1.1rem\" }}>\r\n                {orderItem.price}  {orderItem.count} ={\" \"}\r\n                {((orderItem.price * orderItem.count * 100) / 100).toFixed(2)} PLN\r\n              </h5>\r\n            </Col>\r\n            {orderDetails.isDelivered && !loggedUser.isAdmin && (\r\n              <Col sm={12}>\r\n                {orderItem.isReviewed ? (\r\n                  <Button disabled> Product Already Reviewed</Button>\r\n                ) : (\r\n                  <Button\r\n                    onClick={() =>\r\n                      setModalShow((prev) => prev.map((value, i) => (index === i ? true : false)))\r\n                    }>\r\n                    Review the Product\r\n                  </Button>\r\n                )}\r\n                <ReviewModal\r\n                  product={orderItem}\r\n                  show={modalShow[index]}\r\n                  onHide={() => setModalShow((prev) => prev.map(() => false))}\r\n                />\r\n              </Col>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </ListGroup.Item>\r\n    ));\r\n  const showOrderDetails = () => (\r\n    <>\r\n      <hr />\r\n      <Row style={{ fontSize: \"1rem\" }}>\r\n        <Col md={12} className='text-left my-0'>\r\n          <i className='orange-font fas fa-fingerprint text-center'> </i> ID: <b>{orderDetails._id}</b>\r\n        </Col>\r\n        <Col md={12} className='my-0 text-left'>\r\n          <i className='orange-font far fa-clock text-center'></i> Date:{\" \"}\r\n          <b>{orderDetails.createdAt.substring(0, 19).replace(\"T\", \" \")}</b>\r\n        </Col>\r\n        <Col md={12} className='text-left my-0'>\r\n          <i className='orange-font fas fa-money-bill-wave text-center'></i> Products Value:{\" \"}\r\n          <b>{orderDetails.itemsPrice.toFixed(2)} PLN</b>\r\n        </Col>\r\n        <Col md={12} className='text-left my-0'>\r\n          <i className='orange-font fas fa-shipping-fast text-center'></i> Shipping:{\" \"}\r\n          <b>{orderDetails.shippingPrice > 0 ? `${orderDetails.shippingPrice} PLN` : \"Free!\"}</b>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n\r\n  const showAddress = () => (\r\n    <>\r\n      <h3 className='mt-3'>Shipping Address</h3>\r\n      <hr />\r\n      <Row className='mt-3 text-left' style={{ fontSize: \"1rem\" }}>\r\n        <Col md={12}>\r\n          <i className='orange-font fas fa-user text-center'></i> Name:{\" \"}\r\n          <b>{orderDetails.shippingAddress.name}</b>\r\n        </Col>\r\n        <Col md={12}>\r\n          <i className='orange-font fas fa-map-marker-alt text-center'></i> Address:{\" \"}\r\n          <b>{orderDetails.shippingAddress.address}</b>\r\n        </Col>\r\n        <Col md={12}>\r\n          <i className='orange-font fas fa-city text-center'></i> Postal Code & City:{\" \"}\r\n          <b>\r\n            {orderDetails.shippingAddress.postalCode}, {orderDetails.shippingAddress.city}\r\n          </b>\r\n        </Col>\r\n        <Col md={12}>\r\n          <i className='orange-font fas fa-globe-europe text-center'></i> Country:{\" \"}\r\n          <b>{orderDetails.shippingAddress.country}</b>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n\r\n  const showPaymentDetails = () => (\r\n    <>\r\n      <hr />\r\n      <h3 className='mt-3'>Payment</h3>\r\n      {!orderDetails.isPaid && <h4 className='mt-3'>Amount to Pay: {orderDetails.totalPrice} PLN</h4>}\r\n      <hr />\r\n      {orderDetails.isPaid ? (\r\n        <>\r\n          <Message variant='success'>Order Paid</Message>\r\n          <hr />\r\n          <h3 className='mt-3'>Shipment</h3>\r\n          <hr />\r\n          {orderDetails.isDelivered ? (\r\n            <Message variant='success'>Order Delivered</Message>\r\n          ) : orderDetails.isDispatched ? (\r\n            <Message variant='info'>Order Dispatched</Message>\r\n          ) : (\r\n            <Message variant='info'>In progress</Message>\r\n          )}\r\n        </>\r\n      ) : (\r\n        orderDetails.user === loggedUser._id &&\r\n        (orderDetails.paymentMethod === \"Stripe\" ? (\r\n          <>\r\n            <Message>Order Not Paid</Message>\r\n            <hr />\r\n            {loggedUser && !loggedUser.isAdmin && (\r\n              <Button block size='lg' onClick={goToPayment}>\r\n                Pay For Order\r\n              </Button>\r\n            )}\r\n          </>\r\n        ) : !(sdkReady && !paymentLoading) ? (\r\n          <Loader />\r\n        ) : (\r\n          <PayPalButton\r\n            currency='PLN'\r\n            amount={orderDetails.totalPrice}\r\n            onApprove={() => setPaymentLoading(true)}\r\n            onSuccess={PayPalSuccessPay}\r\n          />\r\n        ))\r\n      )}\r\n    </>\r\n  );\r\n  const showAdminDetails = () => (\r\n    <>\r\n      <hr />\r\n      <h3 className='mt-3'>Admin Actions</h3>\r\n      <hr />\r\n      {!orderDetails.isDispatched ? (\r\n        <Button block size='lg' onClick={() => updateOrder({ isDispatched: true })}>\r\n          Mark as Dispatched\r\n        </Button>\r\n      ) : (\r\n        !orderDetails.isDelivered && (\r\n          <Button block size='lg' onClick={() => updateOrder({ isDelivered: true })}>\r\n            Mark as Delivered\r\n          </Button>\r\n        )\r\n      )}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Row className='my-3'>\r\n        <Col md={8} className='text-center border-right'>\r\n          <h2>Order</h2>\r\n          <hr />\r\n          {loading && <Loader marginTop={5} />}\r\n          <ListGroup variant='flush'>\r\n            {orderDetails && showOrderItems()}\r\n            <hr />\r\n          </ListGroup>\r\n        </Col>\r\n        <Col md={4} className='text-center'>\r\n          <h2>Progress</h2>\r\n          <hr />\r\n          {orderDetails && (\r\n            <>\r\n              <div className='my-4'>\r\n                <OrdersStatusBar order={orderDetails} size='big'></OrdersStatusBar>\r\n              </div>\r\n              {showOrderDetails()}\r\n              {showAddress()}\r\n              {showPaymentDetails()}\r\n              {loggedUser?.isAdmin && orderDetails.isPaid && showAdminDetails()}\r\n            </>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrderScreen;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { getAllOrdersAction, updateOrderAction } from \"../actions/orderActions\";\r\nimport { Table, Button, Row, Col } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\n\r\nconst AllOrdersScreen = () => {\r\n  const [user, setUser] = useState(new URLSearchParams(window.location.search).get(\"user\") || \"\");\r\n  const [notPaidOnly, setNotPaidOnly] = useState(false);\r\n  const [notSentOnly, setNotSentOnly] = useState(false);\r\n  const [notDeliveredOnly, setNotDeliveredOnly] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const orderGetAll = useSelector((state) => state.orderGetAll);\r\n  const { loading, error, orders } = orderGetAll;\r\n  const orderGet = useSelector((state) => state.orderGet);\r\n  const { orderDetails } = orderGet;\r\n\r\n  useEffect(() => {\r\n    dispatch(getAllOrdersAction(user, notPaidOnly, notSentOnly, notDeliveredOnly));\r\n  }, [notPaidOnly, notSentOnly, notDeliveredOnly, user, dispatch, orderDetails]);\r\n\r\n  useEffect(() => {\r\n    setUser(new URLSearchParams(window.location.search).get(\"user\") || \"\");\r\n  }, [window.location.search]);\r\n\r\n  const successTick = <i style={{ fontSize: \"1.2rem\" }} className='text-success fas fa-check-circle'></i>;\r\n  const failureCross = <i style={{ fontSize: \"1.2rem\" }} className='text-danger fas fa-times-circle'></i>;\r\n  const trashIcon = <i style={{ fontSize: \"1.2rem\", cursor: \"pointer\" }} className=' fas fa-trash'></i>;\r\n\r\n  const toggleNotPaid = () => {\r\n    setNotPaidOnly((prev) => !prev);\r\n    setNotSentOnly(false);\r\n    setNotDeliveredOnly(false);\r\n  };\r\n  const toggleNotSent = () => {\r\n    setNotPaidOnly(false);\r\n    setNotSentOnly((prev) => !prev);\r\n    setNotDeliveredOnly(false);\r\n  };\r\n  const toggleNotDelivered = () => {\r\n    setNotPaidOnly(false);\r\n    setNotSentOnly(false);\r\n    setNotDeliveredOnly((prev) => !prev);\r\n  };\r\n\r\n  const deleteOrder = (id) => {\r\n    if (window.confirm(\"Are you sure to delete that order?\")) {\r\n      dispatch(updateOrderAction(id, { isDeleted: true }));\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <Row>\r\n        {user && (\r\n          <Col sm={1} className='py-3'>\r\n            <Button block onClick={() => history.push(\"/admin/orders\")}>\r\n              <i className='fas fa-arrow-left'></i>\r\n            </Button>\r\n          </Col>\r\n        )}\r\n        <Col sm={user ? 11 : 12}>\r\n          <h3 className='text-center'>\r\n            {notPaidOnly ? \"Not Paid\" : notSentOnly ? \"Not Sent\" : notDeliveredOnly ? \"Not Delivered\" : \"All\"}{\" \"}\r\n            Orders\r\n          </h3>\r\n        </Col>\r\n      </Row>\r\n      <Row className='pb-3'>\r\n        <Col sm={4}>\r\n          <Button block variant={notPaidOnly ? \"info\" : \"primary\"} onClick={toggleNotPaid}>\r\n            Show Not Paid Only\r\n          </Button>\r\n        </Col>\r\n        <Col sm={4}>\r\n          <Button block variant={notSentOnly ? \"info\" : \"primary\"} onClick={toggleNotSent}>\r\n            Show Not Sent Only\r\n          </Button>\r\n        </Col>\r\n        <Col sm={4}>\r\n          <Button block variant={notDeliveredOnly ? \"info\" : \"primary\"} onClick={toggleNotDelivered}>\r\n            Show Not Delivered Only\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n      {loading && <Loader marginTop={8} />}\r\n      {error && <Message>{error}</Message>}\r\n      {orders && (\r\n        <Table responsive striped hover size='sm' className='text-center'>\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>Order Date</th>\r\n              <th>User</th>\r\n              <th>Items</th>\r\n              <th>Total Value</th>\r\n              <th style={{ width: \"50px\" }}>Paid</th>\r\n              <th style={{ width: \"50px\" }}>Sent</th>\r\n              <th style={{ width: \"50px\" }}>Delivered</th>\r\n              <th style={{ width: \"50px\" }}></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders.map((order) => (\r\n              <tr key={order._id}>\r\n                <td>\r\n                  <Link to={`/order/${order._id}`}>{order._id}</Link>\r\n                </td>\r\n                <td>{order.createdAt.slice(0, 19).replace(\"T\", \" \")}</td>\r\n                <td>\r\n                  <Link to={`/admin/orders?user=${order.user._id}`}>{order.user.email}</Link>\r\n                </td>\r\n                <td>{order.orderItems.length}</td>\r\n                <td>\r\n                  <b>{order.totalPrice}</b> PLN\r\n                </td>\r\n                <td>{order.isPaid ? successTick : failureCross}</td>\r\n                <td>{order.isDispatched ? successTick : failureCross}</td>\r\n                <td>{order.isDelivered ? successTick : failureCross}</td>\r\n                <td className='border-left'>\r\n                  <span onClick={(e) => deleteOrder(order._id)}>{trashIcon}</span>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AllOrdersScreen;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getAllUsersAction } from \"../actions/userActions\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport SearchComponent from \"../components/SearchComponent\";\r\n\r\nconst AllUsersScreen = () => {\r\n  const [keyword, setKeyword] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getAllUsersAction());\r\n  }, [dispatch]);\r\n  const getAllUsers = useSelector((state) => state.getAllUsers);\r\n  const { loading, error, users } = getAllUsers;\r\n\r\n  const successTick = <i style={{ fontSize: \"1.2rem\" }} className='text-success fas fa-check-circle'></i>;\r\n  const failureCross = <i style={{ fontSize: \"1.2rem\" }} className='text-danger fas fa-times-circle'></i>;\r\n\r\n  const searchHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(getAllUsersAction(keyword));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <SearchComponent\r\n        keyword={keyword}\r\n        setKeyword={setKeyword}\r\n        placeholder={\"Search for Users by Email\"}\r\n        searchHandler={searchHandler}\r\n      />\r\n      <h3 className='text-center'>All Users</h3>\r\n      {loading && <Loader marginTop={8} />}\r\n      {error && <Message>{error}</Message>}\r\n      {users && (\r\n        <Table responsive striped hover size='sm' className='text-center'>\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>User Registration:</th>\r\n              <th>Email</th>\r\n              <th style={{ width: \"50px\" }}>Admin</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {users.map((user) => (\r\n              <tr key={user._id}>\r\n                <td>\r\n                  <Link to={`/admin/orders?user=${user._id}`}>{user._id}</Link>\r\n                </td>\r\n                <td>{user.createdAt.slice(0, 19).replace(\"T\", \" \")}</td>\r\n                <td>{user.email}</td>\r\n                <td>{user.isAdmin ? successTick : failureCross}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AllUsersScreen;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getProducts } from \"../actions/productActions\";\r\nimport { Button, Table } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport SearchComponent from \"../components/SearchComponent\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Paginate from \"../components/Paginate\";\r\n\r\nconst AllProductsScreen = () => {\r\n  const [page, setPage] = useState(1);\r\n  const [keyword, setKeyword] = useState(\"\");\r\n\r\n  const loginUser = useSelector((state) => state.loginUser);\r\n  const { loggedUser } = loginUser;\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const listProducts = useSelector((state) => state.listProducts);\r\n  const { loading, error, products, pagination } = listProducts;\r\n\r\n  const successTick = <i style={{ fontSize: \"1.2rem\" }} className='text-success fas fa-check-circle'></i>;\r\n  const failureCross = <i style={{ fontSize: \"1.2rem\" }} className='text-danger fas fa-times-circle'></i>;\r\n  const editIcon = (\r\n    <i className='far fa-edit text-warning' style={{ fontSize: \"1.2rem\", cursor: \"pointer\" }}></i>\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!loggedUser || !loggedUser.isAdmin) history.push(\"/login\");\r\n    else dispatch(getProducts({ hidden: true, page, limit: 50 }));\r\n  }, [dispatch, history, loggedUser, page]);\r\n\r\n  const searchHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(getProducts({ keyword, hidden: true }));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <SearchComponent\r\n        keyword={keyword}\r\n        setKeyword={setKeyword}\r\n        placeholder={\"Search for Products\"}\r\n        searchHandler={searchHandler}\r\n      />\r\n      {error && <Message>{error}</Message>}\r\n\r\n      <div className='add-new'>\r\n        <Link to='/admin/categories/add' className='mr-auto'>\r\n          <Button className='pt-3'>\r\n            <h5>\r\n              <i className='fas fa-plus'></i> Add New Category\r\n            </h5>\r\n          </Button>\r\n        </Link>\r\n        <h3 className='m-auto'>All Products</h3>\r\n        <Link to='/admin/products/add' className='ml-auto'>\r\n          <Button className='pt-3'>\r\n            <h5>\r\n              <i className='fas fa-plus'></i> Add New Product\r\n            </h5>\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n      {loading && <Loader marginTop={8} />}\r\n      {products?.length > 0 && (\r\n        <Table responsive striped hover size='sm' className='text-center'>\r\n          <thead>\r\n            <tr style={{ fontSize: \"1rem\" }}>\r\n              <th className='text-left'>Name</th>\r\n              <th>Price</th>\r\n              <th>Category</th>\r\n              <th>In Stock</th>\r\n              <th>Rating</th>\r\n              <th>Reviews</th>\r\n              <th>ID</th>\r\n              <th>Added</th>\r\n              <th style={{ width: \"60px\" }}>Visible</th>\r\n              <th style={{ width: \"60px\" }} className='border-left'>\r\n                Edit\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {products.map((product) => (\r\n              <tr key={product._id}>\r\n                <td className='text-left'>\r\n                  <Link to={`/product/${product._id}`}>{product.name}</Link>\r\n                </td>\r\n                <td>\r\n                  <b>{product.price}</b> PLN\r\n                </td>\r\n                <td>{product.category ? product.category.name : failureCross}</td>\r\n                <td>{product.countInStock > 0 ? <b>{product.countInStock}</b> : failureCross}</td>\r\n                <td>{product.rating.toFixed(2)}</td>\r\n                <td>{product.numReviews}</td>\r\n\r\n                <td>{product._id}</td>\r\n                <td>{product.createdAt.slice(0, 19).replace(\"T\", \" \")}</td>\r\n                <td>{product.hidden ? failureCross : successTick}</td>\r\n                <td className='border-left'>\r\n                  <span onClick={() => history.push(`/admin/products/edit/${product._id}`)}> {editIcon}</span>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      )}\r\n      <Paginate pagination={pagination} setPage={setPage}></Paginate>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AllProductsScreen;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Row, Col, Form, Button, Image, Modal } from \"react-bootstrap\";\r\nimport {\r\n  createProductAction,\r\n  updateProductAction,\r\n  getProduct,\r\n  updateProductResetAction,\r\n} from \"../actions/productActions\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport CategoryComponent from \"../components/CategoryComponent\";\r\n\r\nconst AddProductScreen = ({ history }) => {\r\n  const [modalShow, setModalShow] = useState(false);\r\n  const onHide = () => setModalShow(false);\r\n\r\n  const { id } = useParams();\r\n  const [validated, setValidated] = useState(false);\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [countInStock, setCountInStock] = useState(0);\r\n  const [image, setImage] = useState(\"\");\r\n  const [brand, setBrand] = useState(\"\");\r\n  const [category, setCategory] = useState({});\r\n  const [price, setPrice] = useState(0);\r\n  const [hidden, setHidden] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const createProductState = useSelector((state) => state.createProduct);\r\n  const { product, loading, error } = createProductState;\r\n\r\n  const listProduct = useSelector((state) => state.listProduct);\r\n  const { product: productToEdit, loading: loadingProduct, error: errorProduct } = listProduct;\r\n\r\n  useEffect(() => {\r\n    if (id) dispatch(getProduct(id));\r\n    return () => dispatch(updateProductResetAction());\r\n  }, [dispatch, id]);\r\n\r\n  useEffect(() => {\r\n    if (id && productToEdit) {\r\n      setName(productToEdit.name);\r\n      setDescription(productToEdit.description);\r\n      setCountInStock(productToEdit.countInStock);\r\n      setImage(productToEdit.image);\r\n      setBrand(productToEdit.brand);\r\n      if (productToEdit.category) setCategory(productToEdit.category);\r\n      setPrice(productToEdit.price);\r\n      setHidden(productToEdit.hidden);\r\n    }\r\n  }, [productToEdit, id]);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      event.stopPropagation();\r\n    }\r\n    setValidated(true);\r\n    const product = { name, description, countInStock, image, brand, category, price, hidden };\r\n    if (productToEdit) product._id = productToEdit._id;\r\n    if (id) dispatch(updateProductAction(id, product));\r\n    else dispatch(createProductAction(product));\r\n  };\r\n\r\n  const imagePlaceholder = \"https://lunawood.com/wp-content/uploads/2018/02/placeholder-image.png\";\r\n  const showFields = () => (\r\n    <>\r\n      <h2 className='text-center my-4'>{id ? \"Edit Product\" : \"Add Product\"}</h2>\r\n      <Row className='py-5 px-4'>\r\n        <Col sm='5' className='py-5 border-right'>\r\n          <Image rounded style={{ maxHeight: \"600px\" }} fluid src={image || imagePlaceholder}></Image>\r\n          <Form.Group sm='12' className='py-4 px-0 mx-0 align-self-end'>\r\n            <Form.Control\r\n              type='text'\r\n              placeholder='Image'\r\n              required\r\n              size='lg'\r\n              onChange={(e) => setImage(e.target.value)}\r\n              value={image}\r\n            />\r\n          </Form.Group>\r\n        </Col>\r\n        <Col lg={7} xl={7} sm={7} className='text-center'>\r\n          <Form\r\n            noValidate\r\n            validated={validated}\r\n            onSubmit={handleSubmit}\r\n            id='ship-form'\r\n            style={{ fontSize: \"1rem\" }}>\r\n            <Form.Row className='py-3'>\r\n              <Form.Group as={Col} md='7' className='py-4'>\r\n                <Form.Label>Name</Form.Label>\r\n                <Form.Control\r\n                  required\r\n                  type='text'\r\n                  placeholder='Name'\r\n                  size='lg'\r\n                  value={name}\r\n                  onChange={(e) => setName(e.target.value)}\r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group as={Col} md='3' className='py-4'>\r\n                <Form.Label>Price (PLN)</Form.Label>\r\n                <Form.Control\r\n                  required\r\n                  type='number'\r\n                  placeholder='Price (PLN)'\r\n                  size='lg'\r\n                  onChange={(e) => setPrice(e.target.value)}\r\n                  value={price}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group as={Col} lg='2' sm='2' className='py-4'>\r\n                <Form.Label>In Stock</Form.Label>\r\n                <Form.Control\r\n                  type='number'\r\n                  placeholder='In Stock'\r\n                  required\r\n                  size='lg'\r\n                  onChange={(e) => setCountInStock(e.target.value)}\r\n                  value={countInStock}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group as={Col} md='7' className='py-4 '>\r\n                <Form.Label>Category</Form.Label>\r\n                <Form.Control\r\n                  className='pointer'\r\n                  required\r\n                  placeholder='Category'\r\n                  size='lg'\r\n                  onChange={(e) => setCategory(e.target.value)}\r\n                  onClick={() => setModalShow(true)}\r\n                  value={category.name || \"\"}\r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group as={Col} lg='3' md='3' className='py-4'>\r\n                <Form.Label>Brand</Form.Label>\r\n                <Form.Control\r\n                  type='text'\r\n                  placeholder='Brand'\r\n                  required\r\n                  size='lg'\r\n                  onChange={(e) => setBrand(e.target.value)}\r\n                  value={brand}\r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group className='py-4' as={Col} lg='2' md='2'>\r\n                <Form.Label>Visible</Form.Label>\r\n                <Form.Switch\r\n                  onChange={() => setHidden((prev) => !prev)}\r\n                  checked={!hidden}\r\n                  type='switch'\r\n                  id='custom-switch'\r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group as={Col} md='12' className='py-4'>\r\n                <Form.Label>Description</Form.Label>\r\n                <Form.Control\r\n                  style={{ height: \"200px\" }}\r\n                  required\r\n                  as='textarea'\r\n                  placeholder='Description'\r\n                  size='lg'\r\n                  onChange={(e) => setDescription(e.target.value)}\r\n                  value={description}\r\n                />\r\n              </Form.Group>\r\n            </Form.Row>\r\n            <Button type='submit' form='ship-form' block size='lg' className='m-0 pt-3 px-0'>\r\n              <h4>Submit Product</h4>\r\n            </Button>\r\n          </Form>\r\n        </Col>\r\n        <hr />\r\n      </Row>\r\n    </>\r\n  );\r\n\r\n  const chooseCategoryModal = () => (\r\n    <Modal\r\n      onHide={onHide}\r\n      show={modalShow}\r\n      size='lg'\r\n      aria-labelledby='contained-modal-title-vcenter'\r\n      centered>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id='contained-modal-title-vcenter'>Choose Category</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <CategoryComponent startCategory={category._id} setCategory={setCategory}></CategoryComponent>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button onClick={onHide}>Submit</Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        {id && (\r\n          <Col sm={1} className='pr-0'>\r\n            <Button block size='lg' onClick={() => history.push(\"/admin/products\")}>\r\n              <i className='fas fa-arrow-left'></i>\r\n            </Button>\r\n          </Col>\r\n        )}\r\n        <Col sm={id ? 11 : 12}>\r\n          {loading && <Loader small />}\r\n          {(error || errorProduct) && <Message>{error || errorProduct}</Message>}\r\n          {product && (\r\n            <Link to={`/product/${product._id}`}>\r\n              <Message variant='success'>\r\n                Product {id ? \"updated\" : \"created\"}! ID: {product._id}\r\n              </Message>\r\n            </Link>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n      {loadingProduct ? <Loader marginTop={8} /> : showFields()}\r\n      {chooseCategoryModal()}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddProductScreen;\r\n","import React, { useEffect } from \"react\";\r\nimport { Navbar, Nav, NavDropdown } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { logoutAction } from \"../actions/userActions\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst NavbarComponent = () => {\r\n  const dispatch = useDispatch();\r\n  const loginUser = useSelector((state) => state.loginUser);\r\n  const { loggedUser } = loginUser;\r\n  useEffect(() => {}, [loginUser]);\r\n\r\n  const logoutHandler = () => {\r\n    dispatch(logoutAction());\r\n  };\r\n\r\n  const showCartIcon = (\r\n    <LinkContainer className='ml-auto' to='/cart' style={{ paddingLeft: \"2rem\" }}>\r\n      <Nav.Link className='hover-orange text-white text-center'>\r\n        <i className='fas fa-shopping-cart'></i> Cart\r\n      </Nav.Link>\r\n    </LinkContainer>\r\n  );\r\n\r\n  return (\r\n    <Navbar expand='lg' bg='primary' variant='dark' style={{ fontSize: \"1rem\" }}>\r\n      <LinkContainer to='/'>\r\n        <Navbar.Brand>BestShop!</Navbar.Brand>\r\n      </LinkContainer>\r\n      <span className='d-lg-none '>{showCartIcon}</span>\r\n      <Navbar.Toggle aria-controls='basic-navbar-nav' />\r\n      <Navbar.Collapse id='basic-navbar-nav ' style={{ width: \"auto\" }}>\r\n        <Nav className='ml-auto'>\r\n          {loggedUser?.isAdmin && (\r\n            <NavDropdown\r\n              className='hover-orange pr-4 text-center'\r\n              title='Admin Settings'\r\n              id='basic-nav-dropdown'\r\n              variant='primary'>\r\n              <NavDropdown.Divider className='my-0' />\r\n              <LinkContainer className='text-center' to='/admin/products'>\r\n                <NavDropdown.Item>\r\n                  <i className='fas fa-list'></i> Products\r\n                </NavDropdown.Item>\r\n              </LinkContainer>\r\n              <NavDropdown.Divider className='my-0' />\r\n              {/* <LinkContainer to='/admin/categories'>\r\n                <NavDropdown.Item>\r\n                  <i className='fas fa-layer-group'></i> Categories\r\n                </NavDropdown.Item>\r\n              </LinkContainer> */}\r\n\r\n              <LinkContainer to='/admin/orders'>\r\n                <NavDropdown.Item>\r\n                  <i className='fas fa-book-open'></i> Orders\r\n                </NavDropdown.Item>\r\n              </LinkContainer>\r\n              <NavDropdown.Divider className='my-0' />\r\n              <LinkContainer to='/admin/users'>\r\n                <NavDropdown.Item>\r\n                  <i className='fas fa-users'></i> Users\r\n                </NavDropdown.Item>\r\n              </LinkContainer>\r\n              <NavDropdown.Divider className='my-0' />\r\n              <NavDropdown.Item onClick={logoutHandler}>\r\n                <i className='fas fa-sign-out-alt'></i> Logout\r\n              </NavDropdown.Item>\r\n            </NavDropdown>\r\n          )}\r\n\r\n          {loggedUser && (\r\n            <>\r\n              <span className='d-none d-md-block'>{showCartIcon}</span>\r\n              <NavDropdown\r\n                className='hover-orange pl-4 text-center'\r\n                title={\r\n                  <>\r\n                    <i className='fas fa-user-alt'></i> {loggedUser.name}\r\n                  </>\r\n                }\r\n                id='basic-nav-dropdown'\r\n                variant='primary'>\r\n                <NavDropdown.Divider className='my-0' />\r\n                <LinkContainer to='/profile'>\r\n                  <NavDropdown.Item>\r\n                    <i className='fas fa-user-alt'></i> Profile & Orders\r\n                  </NavDropdown.Item>\r\n                </LinkContainer>\r\n                {/* <NavDropdown.Divider className='my-0' />\r\n                <LinkContainer to='/settings'>\r\n                  <NavDropdown.Item>\r\n                    <i className='fas fa-cog'></i> Settings\r\n                  </NavDropdown.Item>\r\n                </LinkContainer> */}\r\n                <NavDropdown.Divider className='my-0' />\r\n                <NavDropdown.Item onClick={logoutHandler}>\r\n                  <i className='fas fa-sign-out-alt'></i> Logout\r\n                </NavDropdown.Item>\r\n              </NavDropdown>\r\n            </>\r\n          )}\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n      {!loggedUser && (\r\n        <>\r\n          {showCartIcon}\r\n          <LinkContainer\r\n            to='/login'\r\n            style={{ paddingLeft: \"2rem\" }}\r\n            className='text-center text-white hover-orange'>\r\n            <Nav.Link href='/login'>\r\n              <i className='fas fa-sign-in-alt'></i> Sign In\r\n            </Nav.Link>\r\n          </LinkContainer>\r\n          {/* <LinkContainer\r\n                to='/register'\r\n                style={{ paddingLeft: \"2rem\" }}\r\n                className='text-center hover-orange'>\r\n                <Nav.Link href='/register'>\r\n                  <i style={{ fontSize: \"0.9rem\" }} className='fas fa-user-plus'></i> Register\r\n                </Nav.Link>\r\n              </LinkContainer> */}\r\n        </>\r\n      )}\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default NavbarComponent;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  getCategoriesAction,\r\n  getCategoryAction,\r\n  resetCategoryAction,\r\n  createCategoryAction,\r\n  removeCategoryAction,\r\n} from \"../actions/productActions\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport FadeIn from \"react-fade-in\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\n\r\nconst AddCategoriesScreen = ({ history }) => {\r\n  const [newCategoryName, setNewCategoryName] = useState(\"\");\r\n  const [parentCategory, setParentCategory] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getCategoriesAction());\r\n  }, [dispatch]);\r\n\r\n  const getCategories = useSelector((state) => state.getCategories);\r\n  const { loading, error, categories } = getCategories;\r\n  const getCategory = useSelector((state) => state.getCategory);\r\n  const { loading: loadingCategory, error: errorCategory, category } = getCategory;\r\n  const createCategory = useSelector((state) => state.createCategory);\r\n  const { loading: loadingCreate, error: errorCreate, success } = createCategory;\r\n  const removeCategory = useSelector((state) => state.removeCategory);\r\n  const { loading: loadingRemove, error: errorRemove, success: successRemove } = removeCategory;\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(createCategoryAction({ name: newCategoryName, parentId: parentCategory }));\r\n  };\r\n  const removeHandler = (e, id) => {\r\n    if (window.confirm(\"Are you sure to delete this category with all it's subcategories?\")) {\r\n      e.stopPropagation();\r\n      dispatch(removeCategoryAction(id));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (success || successRemove) {\r\n      if (parentCategory) dispatch(getCategoryAction(parentCategory));\r\n      else dispatch(getCategoriesAction());\r\n      setNewCategoryName(\"\");\r\n    }\r\n  }, [dispatch, success, parentCategory, successRemove]);\r\n\r\n  const getSelectedCategory = (id) => {\r\n    if (id) {\r\n      setParentCategory(id);\r\n      dispatch(getCategoryAction(id));\r\n    } else {\r\n      setParentCategory(null);\r\n      dispatch(resetCategoryAction());\r\n      dispatch(getCategoriesAction());\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {(error || errorCategory || errorCreate) && <Message>{errorCategory || errorCreate || error}</Message>}\r\n      <div className='d-flex justify-content-center'>\r\n        <div className='mt-3'>\r\n          <Form.Label>Choose Parent Category</Form.Label>\r\n          <nav className='border px-3 py-3' style={{ minHeight: \"300px\", width: \"300px\", fontSize: \"1rem\" }}>\r\n            {!loading && !loadingCategory && (\r\n              <FadeIn delay={20}>\r\n                {!category && categories.length > 0 && (\r\n                  <>\r\n                    <div>\r\n                      <b>Categories</b>\r\n                    </div>\r\n                    <hr className='py-0 my-1' />\r\n                    {categories.map((category) => (\r\n                      <div\r\n                        key={category._id}\r\n                        className='category-elem pointer pl-1 py-1'\r\n                        onClick={() => getSelectedCategory(category._id)}>\r\n                        <span>{category.name}</span>{\" \"}\r\n                        <span>\r\n                          <i onClick={(e) => removeHandler(e, category._id)} className='fas fa-trash'></i>\r\n                        </span>\r\n                      </div>\r\n                    ))}\r\n                  </>\r\n                )}\r\n              </FadeIn>\r\n            )}\r\n\r\n            {category && (\r\n              <>\r\n                {loadingCreate ? (\r\n                  <Loader marginTop={3} />\r\n                ) : (\r\n                  <FadeIn delay={20}>\r\n                    <div\r\n                      className='pointer'\r\n                      onClick={() =>\r\n                        getSelectedCategory(\r\n                          category.parents && category.parents[0] ? category.parents[0]._id : null\r\n                        )\r\n                      }>\r\n                      <i className='fas fa-chevron-left orange-font'></i> Go Back\r\n                    </div>\r\n                    <hr className='py-0 my-1' />\r\n                    <div className='category-elem pl-1 py-1'>\r\n                      <b>{category.name}</b>\r\n                    </div>\r\n                    {category.subcategories &&\r\n                      category.subcategories.map((category) => (\r\n                        <div\r\n                          key={category._id}\r\n                          className='category-elem pointer pl-3 py-1'\r\n                          onClick={() => getSelectedCategory(category._id)}>\r\n                          <span>{category.name}</span>{\" \"}\r\n                          <span>\r\n                            <i onClick={(e) => removeHandler(e, category._id)} className='fas fa-trash'></i>\r\n                          </span>\r\n                        </div>\r\n                      ))}\r\n                  </FadeIn>\r\n                )}\r\n              </>\r\n            )}\r\n          </nav>\r\n          <Form onSubmit={submitHandler}>\r\n            <Form.Group className='mt-3' style={{ width: \"300px\" }}>\r\n              <Form.Label>Category Name</Form.Label>\r\n              <Form.Control\r\n                value={newCategoryName}\r\n                onChange={(e) => setNewCategoryName(e.target.value)}\r\n                size='lg'\r\n                type='text'\r\n                placeholder='Category Name'\r\n              />\r\n              <br />\r\n            </Form.Group>\r\n            <Button type='submit' block size='lg'>\r\n              Submit\r\n            </Button>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddCategoriesScreen;\r\n","import React from \"react\";\nimport HomeScreen from \"./screens/HomeScreen\";\nimport ProductScreen from \"./screens/ProductScreen\";\nimport LoginScreen from \"./screens/LoginScreen\";\nimport RegisterScreen from \"./screens/RegisterScreen\";\nimport CartScreen from \"./screens/CartScreen\";\nimport ProfileScreen from \"./screens/ProfileScreen\";\nimport PayAndShipScreen from \"./screens/PayAndShipScreen\";\nimport OrderScreen from \"./screens/OrderScreen\";\nimport AllOrdersScreen from \"./screensAdmin/AllOrdersScreen\";\nimport AllUsersScreen from \"./screensAdmin/AllUsersScreen\";\nimport AllProductsScreen from \"./screensAdmin/AllProductsScreen\";\nimport AddProductScreen from \"./screensAdmin/AddProductScreen\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport NavbarComponent from \"./components/NavbarComponent\";\nimport AddCategoriesScreen from \"./screensAdmin/AddCategoriesScreen\";\n\nconst App = () => {\n  return (\n    <div className='container'>\n      <Router>\n        <NavbarComponent />\n        <Route exact path='/' component={HomeScreen}></Route>\n        <Route exact path='/search/:keyword/category/:category' component={HomeScreen}></Route>\n        <Route exact path='/search/:keyword' component={HomeScreen}></Route>\n        <Route exact path='/category/:category' component={HomeScreen}></Route>\n        <Route exact path='/product/:id' component={ProductScreen}></Route>\n        <Route exact path='/login' component={LoginScreen}></Route>\n        <Route exact path='/register' component={RegisterScreen}></Route>\n        <Route exact path='/cart' component={CartScreen}></Route>\n        <Route exact path='/profile' component={ProfileScreen}></Route>\n        <Route exact path='/checkout' component={PayAndShipScreen}></Route>\n        <Route exact path='/order/:id' component={OrderScreen}></Route>\n        <Route exact path='/admin/orders' component={AllOrdersScreen}></Route>\n        <Route exact path='/admin/users' component={AllUsersScreen}></Route>\n        <Route exact path='/admin/products' component={AllProductsScreen}></Route>\n        <Route exact path='/admin/products/add' component={AddProductScreen}></Route>\n        <Route exact path='/admin/products/edit/:id' component={AddProductScreen}></Route>\n        <Route exact path='/admin/categories/add' component={AddCategoriesScreen}></Route>\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport {\r\n  listProductReducer,\r\n  listProductsReducer,\r\n  createProductReducer,\r\n  getCategoriesReducer,\r\n  getCategoryReducer,\r\n  createCategoryReducer,\r\n  removeCategoryReducer,\r\n} from \"./reducers/productsReducers\";\r\nimport {\r\n  loginUserReducer,\r\n  registerUserReducer,\r\n  updateProfileReducer,\r\n  getAllUsersReducer,\r\n} from \"./reducers/userReducers\";\r\nimport { cartReducer } from \"./reducers/cartReducers\";\r\nimport {\r\n  orderCreateReducer,\r\n  orderGetReducer,\r\n  userOrdersGetReducer,\r\n  reviewCreateReducer,\r\n  orderGetAllReducer,\r\n} from \"./reducers/orderReducers.js\";\r\n\r\nconst reducer = combineReducers({\r\n  createProduct: createProductReducer,\r\n  listProducts: listProductsReducer,\r\n  listProduct: listProductReducer,\r\n  getCategories: getCategoriesReducer,\r\n  getCategory: getCategoryReducer,\r\n  createCategory: createCategoryReducer,\r\n  removeCategory: removeCategoryReducer,\r\n  loginUser: loginUserReducer,\r\n  registerUser: registerUserReducer,\r\n  getAllUsers: getAllUsersReducer,\r\n  updateProfile: updateProfileReducer,\r\n  cartContent: cartReducer,\r\n  orderCreate: orderCreateReducer,\r\n  orderGet: orderGetReducer,\r\n  userOrdersGet: userOrdersGetReducer,\r\n  orderGetAll: orderGetAllReducer,\r\n  reviewCreate: reviewCreateReducer,\r\n});\r\n\r\nconst userLoginFromStorage = localStorage.getItem(\"userLogin\")\r\n  ? JSON.parse(localStorage.getItem(\"userLogin\"))\r\n  : null;\r\n\r\nconst cartFromStorage = localStorage.getItem(\"cartContent\")\r\n  ? JSON.parse(localStorage.getItem(\"cartContent\"))\r\n  : [];\r\nconst initialState = {\r\n  loginUser: { loggedUser: userLoginFromStorage },\r\n  cartContent: { cartContent: cartFromStorage },\r\n};\r\nconst middleware = [thunk];\r\nconst store = createStore(reducer, initialState, composeWithDevTools(applyMiddleware(...middleware)));\r\n\r\nexport default store;\r\n","import {\r\n  GET_PRODUCTS_FAIL,\r\n  GET_PRODUCTS_REQUEST,\r\n  GET_PRODUCTS_SUCCESS,\r\n  GET_PRODUCT_FAIL,\r\n  GET_PRODUCT_REQUEST,\r\n  GET_PRODUCT_SUCCESS,\r\n  CREATE_PRODUCT_FAIL,\r\n  CREATE_PRODUCT_REQUEST,\r\n  CREATE_PRODUCT_SUCCESS,\r\n  UPDATE_PRODUCT_FAIL,\r\n  UPDATE_PRODUCT_REQUEST,\r\n  UPDATE_PRODUCT_SUCCESS,\r\n  REMOVE_PRODUCT_FAIL,\r\n  REMOVE_PRODUCT_REQUEST,\r\n  REMOVE_PRODUCT_SUCCESS,\r\n  UPDATE_PRODUCT_RESET,\r\n  GET_CATEGORIES_FAIL,\r\n  GET_CATEGORIES_REQUEST,\r\n  GET_CATEGORIES_SUCCESS,\r\n  GET_CATEGORY_FAIL,\r\n  GET_CATEGORY_REQUEST,\r\n  GET_CATEGORY_SUCCESS,\r\n  RESET_CATEGORY,\r\n  CREATE_CATEGORY_FAIL,\r\n  CREATE_CATEGORY_REQUEST,\r\n  CREATE_CATEGORY_SUCCESS,\r\n  REMOVE_CATEGORY_FAIL,\r\n  REMOVE_CATEGORY_REQUEST,\r\n  REMOVE_CATEGORY_SUCCESS,\r\n} from \"../constants/productContants\";\r\n\r\nexport const createProductReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case CREATE_PRODUCT_REQUEST:\r\n    case UPDATE_PRODUCT_REQUEST:\r\n      return { loading: true };\r\n    case CREATE_PRODUCT_SUCCESS:\r\n    case UPDATE_PRODUCT_SUCCESS:\r\n      return { loading: false, product: action.payload };\r\n    case CREATE_PRODUCT_FAIL:\r\n    case UPDATE_PRODUCT_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case UPDATE_PRODUCT_RESET:\r\n      return { loading: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const listProductsReducer = (state = { products: [], pagination: {} }, action) => {\r\n  switch (action.type) {\r\n    case GET_PRODUCTS_REQUEST:\r\n      return { loading: true, products: [], pagination: {} };\r\n    case GET_PRODUCTS_SUCCESS:\r\n      return { loading: false, products: action.payload.data, pagination: action.payload.pagination };\r\n    case GET_PRODUCTS_FAIL:\r\n      return { loading: false, error: action.payload, pagination: {} };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const listProductReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case GET_PRODUCT_REQUEST:\r\n      return { loading: true };\r\n    case GET_PRODUCT_SUCCESS:\r\n      return { loading: false, product: action.payload };\r\n    case GET_PRODUCT_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const removeProductReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case REMOVE_PRODUCT_REQUEST:\r\n      return { loading: true };\r\n    case REMOVE_PRODUCT_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case REMOVE_PRODUCT_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getCategoriesReducer = (state = { categories: [] }, action) => {\r\n  switch (action.type) {\r\n    case GET_CATEGORIES_REQUEST:\r\n      return { loading: true, categories: [] };\r\n    case GET_CATEGORIES_SUCCESS:\r\n      return { loading: false, categories: action.payload };\r\n    case GET_CATEGORIES_FAIL:\r\n      return { loading: false, error: action.payload, categories: [] };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getCategoryReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case GET_CATEGORY_REQUEST:\r\n      return { loading: true };\r\n    case GET_CATEGORY_SUCCESS:\r\n      return { loading: false, category: action.payload };\r\n    case GET_CATEGORY_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case RESET_CATEGORY:\r\n      return { loading: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const createCategoryReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case CREATE_CATEGORY_REQUEST:\r\n      return { loading: true };\r\n    case CREATE_CATEGORY_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case CREATE_CATEGORY_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const removeCategoryReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case REMOVE_CATEGORY_REQUEST:\r\n      return { loading: true };\r\n    case REMOVE_CATEGORY_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case REMOVE_CATEGORY_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  LOGIN_USER_FAIL,\r\n  LOGIN_USER_REQUEST,\r\n  LOGIN_USER_SUCCESS,\r\n  LOGOUT_USER,\r\n  REGISTER_USER_FAIL,\r\n  REGISTER_USER_REQUEST,\r\n  REGISTER_USER_SUCCESS,\r\n  UPDATE_PROFILE_FAIL,\r\n  UPDATE_PROFILE_REQUEST,\r\n  UPDATE_PROFILE_SUCCESS,\r\n  GET_ALL_USERS_FAIL,\r\n  GET_ALL_USERS_REQUEST,\r\n  GET_ALL_USERS_SUCCESS,\r\n} from \"../constants/userConstants\";\r\n\r\nexport const loginUserReducer = (state = { loggedUser: null }, action) => {\r\n  switch (action.type) {\r\n    case LOGIN_USER_REQUEST:\r\n      return { loading: true, loggedUser: null };\r\n    case LOGIN_USER_SUCCESS:\r\n      return { loading: false, loggedUser: action.payload };\r\n    case LOGIN_USER_FAIL:\r\n      return { loading: false, error: action.payload, loggedUser: null };\r\n    case LOGOUT_USER:\r\n      return { loading: false, loggedUser: null };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const registerUserReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case REGISTER_USER_REQUEST:\r\n      return { loading: true };\r\n    case REGISTER_USER_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case REGISTER_USER_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const updateProfileReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case UPDATE_PROFILE_REQUEST:\r\n      return { loading: true };\r\n    case UPDATE_PROFILE_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case UPDATE_PROFILE_FAIL:\r\n      return { loading: false, success: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getAllUsersReducer = (state = { users: [] }, action) => {\r\n  switch (action.type) {\r\n    case GET_ALL_USERS_REQUEST:\r\n      return { loading: true };\r\n    case GET_ALL_USERS_SUCCESS:\r\n      return { loading: false, users: action.payload };\r\n    case GET_ALL_USERS_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_REMOVE_ALL } from \"../constants/cartConstants\";\r\n\r\nexport const cartReducer = (state = { cartContent: [] }, action) => {\r\n  const { payload } = action;\r\n  switch (action.type) {\r\n    case CART_ADD_ITEM:\r\n      return { cartContent: payload };\r\n    case CART_REMOVE_ITEM:\r\n      return { cartContent: state.cartContent.filter((product) => product._id !== payload._id) };\r\n    case CART_REMOVE_ALL:\r\n      return { cartContent: [] };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  PLACE_ORDER_FAIL,\r\n  PLACE_ORDER_REQUEST,\r\n  PLACE_ORDER_SUCCESS,\r\n  PLACE_ORDER_RESET,\r\n  GET_ORDER_FAIL,\r\n  GET_ORDER_REQUEST,\r\n  GET_ORDER_SUCCESS,\r\n  GET_USER_ORDERS_REQUEST,\r\n  GET_USER_ORDERS_FAIL,\r\n  GET_USER_ORDERS_SUCCESS,\r\n  CREATE_REVIEW_FAIL,\r\n  CREATE_REVIEW_REQUEST,\r\n  CREATE_REVIEW_SUCCESS,\r\n  CREATE_REVIEW_RESET,\r\n  GET_ALL_ORDERS_FAIL,\r\n  GET_ALL_ORDERS_REQUEST,\r\n  GET_ALL_ORDERS_SUCCESS,\r\n  UPDATE_ORDER_FAIL,\r\n  UPDATE_ORDER_REQUEST,\r\n  UPDATE_ORDER_SUCCESS,\r\n} from \"../constants/orderConstants\";\r\n\r\nexport const orderCreateReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case PLACE_ORDER_REQUEST:\r\n      return { loading: true };\r\n    case PLACE_ORDER_SUCCESS:\r\n      return { loading: false, id: action.payload._id, stripeOrder: action.payload.stripeOrder };\r\n    case PLACE_ORDER_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case PLACE_ORDER_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderGetReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case GET_ORDER_REQUEST:\r\n    case UPDATE_ORDER_REQUEST:\r\n      return { loading: true };\r\n    case GET_ORDER_SUCCESS:\r\n    case UPDATE_ORDER_SUCCESS:\r\n      return { loading: false, orderDetails: action.payload };\r\n    case GET_ORDER_FAIL:\r\n    case UPDATE_ORDER_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderGetAllReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case GET_ALL_ORDERS_REQUEST:\r\n      return { loading: true };\r\n    case GET_ALL_ORDERS_SUCCESS:\r\n      return { loading: false, orders: action.payload };\r\n    case GET_ALL_ORDERS_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userOrdersGetReducer = (state = { ordersDetails: [] }, action) => {\r\n  switch (action.type) {\r\n    case GET_USER_ORDERS_REQUEST:\r\n      return { loading: true, ordersDetails: [] };\r\n    case GET_USER_ORDERS_SUCCESS:\r\n      return { loading: false, ordersDetails: action.payload };\r\n    case GET_USER_ORDERS_FAIL:\r\n      return { loading: false, ordersDetails: [], error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const reviewCreateReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case CREATE_REVIEW_REQUEST:\r\n      return { loading: true };\r\n    case CREATE_REVIEW_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case CREATE_REVIEW_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case CREATE_REVIEW_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./bootstrap.min.css\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport { IconContext } from \"react-icons\";\n\nReactDOM.render(\n  <IconContext.Provider value={{ className: \"react-icons\" }}>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </IconContext.Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}