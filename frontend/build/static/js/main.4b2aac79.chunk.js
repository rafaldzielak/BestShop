(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{109:function(e,t,a){},110:function(e,t,a){},142:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(1),n=a(21),s=a.n(n),i=(a(109),a(110),a(9)),o=a(147),l=function(e){var t=e.marginTop,a=void 0===t?0:t,r=e.small,n=e.medium;return Object(c.jsx)(o.a,{animation:"border",role:"status",variant:"warning",style:{width:r?"40px":n?"75px":"150px",height:r?"40px":n?"75px":"150px",margin:"auto",display:"block",marginTop:"".concat(a,"rem")},children:Object(c.jsx)("span",{className:"sr-only",children:" Loading..."})})},d=a(8),j=a(148),u=a(98),b=a(149),p=a(33),h=a(163),x=a(17),O=a(11),m=function(e){var t=e.rating,a=e.numReviews,r=Object(c.jsx)("i",{className:"fas fa-star"}),n=Object(c.jsx)("i",{className:"fas fa-star-half-alt"}),s=Object(c.jsx)("i",{className:"far fa-star"});return Object(c.jsxs)(c.Fragment,{children:[t>=.8?r:t>=.3?n:s,t>=1.8?r:t>=1.3?n:s,t>=2.8?r:t>=2.3?n:s,t>=3.8?r:t>=3.3?n:s,t>=4.8?r:t>=4.3?n:s," ",a||""]})},f=a(10),g=a.n(f),y=a(12),v="GET_PRODUCTS_REQUEST",N="GET_PRODUCTS_SUCCESS",C="GET_PRODUCTS_FAIL",S="GET_PRODUCT_REQUEST",k="GET_PRODUCT_SUCCESS",E="GET_PRODUCT_FAIL",w="CREATE_PRODUCT_REQUEST",_="CREATE_PRODUCT_SUCCESS",T="CREATE_PRODUCT_FAIL",R="UPDATE_PRODUCT_REQUEST",P="UPDATE_PRODUCT_SUCCESS",L="UPDATE_PRODUCT_FAIL",I="UPDATE_PRODUCT_RESET",U="GET_CATEGORIES_REQUEST",A="GET_CATEGORIES_SUCCESS",D="GET_CATEGORIES_FAIL",F="GET_CATEGORY_REQUEST",z="GET_CATEGORY_SUCCESS",G="GET_CATEGORY_FAIL",B="RESET_CATEGORY",M="CREATE_CATEGORY_REQUEST",H="CREATE_CATEGORY_SUCCESS",Q="CREATE_CATEGORY_FAIL",V="REMOVE_CATEGORY_REQUEST",Y="REMOVE_CATEGORY_SUCCESS",q="REMOVE_CATEGORY_FAIL",J=a(14),W=a.n(J),K=function(e){return function(){var t=Object(y.a)(g.a.mark((function t(a){var c,r,n,s,i,o,l,d;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.keyword||"",r=e.sort||"",n=e.hidden||!1,s=e.category||"",i=e.page||1,o=e.limit||12,t.prev=6,a({type:v}),t.next=10,W.a.get("/api/products/?keyword=".concat(c,"&sort=").concat(r,"&hidden=").concat(n,"&category=").concat(s,"&page=").concat(i,"&limit=").concat(o));case 10:l=t.sent,d=l.data,a({type:N,payload:d}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(6),a({type:C,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 18:case"end":return t.stop()}}),t,null,[[6,15]])})));return function(e){return t.apply(this,arguments)}}()},X=function(e){return function(){var t=Object(y.a)(g.a.mark((function t(a){var c,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:S}),t.next=4,W.a.get("/api/products/".concat(e));case 4:c=t.sent,r=c.data,a({type:k,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:E,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Z=function(){return function(){var e=Object(y.a)(g.a.mark((function e(t){var a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:U}),e.next=4,W.a.get("/api/products/categories?level=0");case 4:a=e.sent,c=a.data,t({type:A,payload:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:D,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},$=function(e){return function(){var t=Object(y.a)(g.a.mark((function t(a){var c,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:F}),t.next=4,W.a.get("/api/products/categories/".concat(e));case 4:c=t.sent,r=c.data,a({type:z,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:G,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ee=function(){return function(e){e({type:B})}},te=a(158),ae=a(97),ce=a(99),re=function(e){var t=e.keyword,a=e.setKeyword,r=e.searchHandler,n=e.placeholder;return Object(c.jsxs)(te.a,{inline:!0,onSubmit:r,className:"my-2 justify-content-center",children:[Object(c.jsx)(u.a,{sm:10,xl:10,xs:7,className:"m-0 p-0",children:Object(c.jsx)(ae.a,{size:"lg",style:{width:"100%"},type:"text",placeholder:n,value:t,onChange:function(e){return a(e.target.value)},className:"mr-3"})}),Object(c.jsx)(u.a,{xs:3,sm:2,xl:2,children:Object(c.jsx)(ce.a,{block:!0,type:"submit",variant:"primary",size:"lg",style:{minWidth:"4rem",maxWidth:"9rem"},children:Object(c.jsx)("i",{className:"fas fa-search pt-1",style:{fontSize:"1.5rem"}})})})]})},ne=a(40),se=a.n(ne),ie=function(e){var t=e.startCategory,a=e.keyword,n=e.setCategory,s=Object(x.k)(),i=Object(d.b)();Object(r.useEffect)((function(){return t&&i($(t)),i(Z()),function(){return i(ee())}}),[i,t]);var o=Object(d.c)((function(e){return e.getCategories})),l=o.loading,j=o.categories,u=Object(d.c)((function(e){return e.getCategory})),b=u.loading,p=u.category,h=function(e){var t=e._id;if(t)if(i($(t)),n)n(e);else{a&&({category:t}.keyword=a);var c=a?"/search/".concat(a,"/category/").concat(t):"/category/".concat(t);s.push(c)}else i(ee()),i(Z()),n?n(e):(i(K({})),s.push("/"))};return Object(c.jsxs)("nav",{className:"border px-3 py-3 mt-2 mx-0",style:{minHeight:"300px",width:"100%",fontSize:"1.05rem"},children:[!l&&!b&&Object(c.jsx)(se.a,{delay:20,children:!p&&j.length>0&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{children:Object(c.jsx)("b",{children:"Categories"})}),Object(c.jsx)("hr",{className:"py-0 my-1"}),j.map((function(e){return Object(c.jsx)("div",{className:"category-elem pointer pl-1 py-1",onClick:function(){return h(e)},children:e.name},e._id)}))]})}),p&&Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(se.a,{delay:20,children:[Object(c.jsxs)("div",{className:"pointer",onClick:function(){return h(p.parents.length>0?p.parents[p.parents.length-1]:"")},children:[Object(c.jsx)("i",{className:"fas fa-chevron-left orange-font"})," Go Back"]}),Object(c.jsx)("hr",{className:"py-0 my-1"}),Object(c.jsx)("div",{className:"category-elem pl-1 py-1",children:Object(c.jsx)("b",{children:p.name})}),p.subcategories.map((function(e){return Object(c.jsx)("div",{className:"category-elem pointer pl-3 py-1",onClick:function(){return h(e)},children:e.name},e._id)}))]})})]})},oe=function(){var e=Object(x.k)(),t=Object(d.b)(),a=Object(d.c)((function(e){return e.getCategory})).category,r=function(a){a?(t($(a)),t(K({category:a})),e.push("/category/".concat(a))):(t(ee()),t(Z()),t(K({})),e.push("/"))},n=Object(c.jsx)("i",{className:"fas fa-chevron-right"});return Object(c.jsx)(se.a,{children:Object(c.jsx)("nav",{className:"mt-3",style:{fontSize:"1rem"},children:a&&Object(c.jsxs)("nav",{children:[Object(c.jsx)("span",{onClick:function(){return r()},className:"pr-3 pointer",children:"BestShop"}),n," ",a.parents.reverse().map((function(e){return Object(c.jsxs)("span",{children:[Object(c.jsx)("span",{onClick:function(){return r(e._id)},className:"pr-3 pointer",children:e.name}),n," "]},e._id)})),Object(c.jsx)("span",{onClick:function(){return r(a._id)},className:"pr-3 pointer",children:a.name}),Object(c.jsx)("hr",{})]})})})},le=a(162),de=function(e){var t=e.pagination,a=e.setPage,r=t.page,n=t.next,s=t.prev,i=t.total,o=t.limit;return Object(c.jsx)(le.a,{className:"justify-content-center ",size:"lg",children:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(le.a.Item,{onClick:function(){return a(r-1)},disabled:!s,children:Object(c.jsx)("i",{className:"fas fa-chevron-left"})}),r>1&&Object(c.jsx)(le.a.Item,{onClick:function(){return a(1)},children:"1"}),3===r?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(le.a.Item,{onClick:function(){return a(2)},children:"2"})}):r>3&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(le.a.Ellipsis,{}),Object(c.jsx)(le.a.Item,{onClick:function(){return a(s)},children:s})]}),Object(c.jsx)(le.a.Item,{active:!0,children:r}),n&&Object(c.jsx)(le.a.Item,{onClick:function(){return a(n)},children:n}),i>(r+2)*o?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(le.a.Ellipsis,{}),Object(c.jsx)(le.a.Item,{onClick:function(){return a(i/o)},children:i/o})]}):i>(r+1)*o&&Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(le.a.Item,{onClick:function(){return a(r+2)},children:r+2})}),Object(c.jsx)(le.a.Item,{disabled:!n,onClick:function(){return a(r+1)},children:Object(c.jsx)("i",{className:"fas fa-chevron-right"})})]})})},je=function(){var e=Object(x.m)().keyword,t=Object(x.m)().category,a=Object(x.k)(),n=Object(d.b)(),s=Object(r.useState)(e||""),o=Object(i.a)(s,2),f=o[0],g=o[1],y=Object(r.useState)(1),v=Object(i.a)(y,2),N=v[0],C=v[1],S=Object(r.useState)(""),k=Object(i.a)(S,2),E=k[0],w=k[1],_=Object(d.c)((function(e){return e.listProducts})),T=_.loading,R=_.products,P=_.pagination,L=Object(r.useState)(R),I=Object(i.a)(L,2),U=I[0],A=I[1],D=Object(r.useState)(3),F=Object(i.a)(D,2),z=F[0],G=F[1];Object(r.useEffect)((function(){n(K({keyword:e||"",sort:E,category:t,page:N}))}),[n,E,e,t,N]),Object(r.useEffect)((function(){A(R)}),[R]);var B=function(e){e.preventDefault(),n(K({keyword:f,sort:E})),f?a.push("/search/".concat(f)):a.push("/")};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(j.a,{className:"flex-sort mx-0",children:[Object(c.jsx)(u.a,{className:"px-0",lg:10,xs:9,md:7,sm:8,children:Object(c.jsx)(re,{keyword:f,setKeyword:g,placeholder:"Search for Products",searchHandler:B})}),Object(c.jsx)(u.a,{lg:1,sm:2,xs:0,className:"d-none d-sm-block",children:Object(c.jsx)("i",{onClick:function(){G(3===z?4:3)},className:"fas fa-3x ".concat(3===z?"fa-th-large":"fa-th")})}),Object(c.jsx)(u.a,{lg:1,sm:2,xs:3,children:Object(c.jsxs)(b.a,{id:"dropdown-variants-primary",variant:"",title:Object(c.jsx)("i",{className:"fas fa-filter"}),children:[Object(c.jsxs)(p.a.Item,{className:"border-bottom",onClick:function(){return w("price")},children:[Object(c.jsx)("i",{className:"fas fa-dollar-sign"})," ",Object(c.jsx)("i",{className:"fas fa-dollar-sign"})," ",Object(c.jsx)("i",{className:"fas fa-dollar-sign"})]}),Object(c.jsxs)(p.a.Item,{style:{fontSize:"1.6rem"},onClick:function(){return w("rating")},children:[Object(c.jsx)("i",{className:"fas fa-star"})," ",Object(c.jsx)("i",{className:"fas fa-star"})," ",Object(c.jsx)("i",{className:"fas fa-star"})]})]})})]}),Object(c.jsx)(oe,{}),Object(c.jsxs)(j.a,{children:[Object(c.jsx)(u.a,{lg:2,md:3,className:"pr-0",children:Object(c.jsx)(ie,{startCategory:t,keyword:f})}),Object(c.jsx)(u.a,{lg:10,md:9,children:T?Object(c.jsx)(l,{marginTop:10,animation:"border",variant:"warning"}):Object(c.jsx)(j.a,{className:"mx-0 px-0",children:R&&U.map((function(e){return Object(c.jsx)(u.a,{className:"mx-0 px-2",sm:12,md:3===z?z+3:12,lg:3===z?z+1:z+2,xl:z,children:Object(c.jsx)(O.Link,{to:"/product/".concat(e._id),children:Object(c.jsxs)(h.a,{className:"my-2 py-2 rounded bg-light border-hover",children:[Object(c.jsx)(h.a.Img,{className:"px-1 py-1",src:e.image,variant:"top",style:{height:"250px",objectFit:"scale-down"}}),Object(c.jsxs)(h.a.Body,{children:[Object(c.jsx)(h.a.Title,{as:"div",className:"py-0  text-center",children:Object(c.jsx)("strong",{className:"two-lines",style:{fontSize:"1rem"},children:e.name})}),Object(c.jsx)(h.a.Text,{as:"div",className:"py-0  text-center",children:Object(c.jsx)(m,{rating:e.rating,numReviews:"".concat(e.numReviews," ").concat(1===e.numReviews?"review":"reviews")})}),Object(c.jsxs)(h.a.Text,{as:"h4",className:"py-1  text-center",children:[e.price," PLN"]})]})]})})},e._id)}))})})]}),!T&&Object(c.jsxs)(u.a,{sm:12,md:{span:9,offset:3},children:[Object(c.jsx)(de,{setPage:C,pagination:P})," "]})]})},ue=function(){return Object(c.jsx)("div",{children:Object(c.jsx)(je,{})})},be=a(150),pe=a(161),he=a(160),xe=a(53),Oe="CART_ADD_ITEM",me="CART_REMOVE_ITEM",fe="CART_REMOVE_ALL",ge=function(e,t){return function(a){var c=localStorage.getItem("cartContent")?JSON.parse(localStorage.getItem("cartContent")):[],r=c?c.find((function(t){return t._id===e._id})):0;r?(r.count=r.count+t,r.count>r.countInStock&&(r.count=r.countInStock),r.count<=1&&r.countInStock>0?r.count=1:r.coun=0):(r=Object(xe.a)(Object(xe.a)({},e),{},{count:t}),0===c.length?c=[r]:c.push(r)),console.log(r),console.log(c),a({type:Oe,payload:c}),localStorage.setItem("cartContent",JSON.stringify(c))}},ye=function(e){return function(t){t(ge(e,1))}},ve=function(e){var t=e.product,a=e.numberOfProducts,n=void 0===a?1:a,s=e.updateOnClick,o=void 0!==s&&s,l=Object(d.b)(),b=Object(r.useState)(t.count||n),p=Object(i.a)(b,2),h=p[0],x=p[1],O=Object(r.useState)(!1),m=Object(i.a)(O,2),f=m[0],v=m[1],N=o?10:5,C=function(){_(),l(ge(t,h))},S=function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h<t.countInStock&&(x((function(e){return e+1})),o&&l(ye(t)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=o?"2.5rem":"3.5rem",E=o?"1.4rem":"2rem",w=Object(c.jsx)(pe.a,{id:"popover-basic",className:"my-2",children:Object(c.jsx)(pe.a.Content,{className:"bg-success",children:Object(c.jsx)("h5",{children:"Added to Cart!"})})}),_=function(){v(!0),setTimeout((function(){v(!1)}),1500)};return Object(c.jsxs)(j.a,{className:"align-items-end ".concat(!o&&"mx-5"),children:[t.countInStock>0&&Object(c.jsx)(u.a,{sm:N,children:Object(c.jsxs)(j.a,{className:"ml-1",children:[Object(c.jsx)(u.a,{sm:4,className:"px-2",children:Object(c.jsx)(ce.a,{onClick:function(){h>1&&(x((function(e){return e-1})),o&&l(function(e){return function(t){t(ge(e,-1))}}(t)))},variant:"primary",className:"orange ".concat(1===h&&"disabled"),block:!0,style:{height:k,fontSize:E},children:Object(c.jsx)("b",{children:"\u2212"})})}),Object(c.jsx)(u.a,{sm:4,className:"px-2",children:Object(c.jsx)("h1",{style:{height:k,lineHeight:k,fontSize:E},className:"item-counter ml-auto",children:t.count||h})}),Object(c.jsx)(u.a,{sm:4,className:"px-2",children:Object(c.jsx)(ce.a,{className:"orange ".concat(t.countInStock<=h&&"disabled"),onClick:S,variant:"primary",block:!0,style:{height:k,fontSize:E},children:"+"})})]})}),!o&&t.countInStock>0&&Object(c.jsx)(u.a,{sm:7,className:"px-4 orange",children:Object(c.jsx)(he.a,{trigger:"click",placement:"top",overlay:w,show:f,children:Object(c.jsx)(ce.a,{onClick:C,variant:"primary",block:!0,style:{height:k,fontSize:"1.6rem"},children:"Add To Cart"})})}),!o&&0===t.countInStock&&Object(c.jsx)(u.a,{sm:12,className:"px-4 ",children:Object(c.jsx)(ce.a,{disabled:!0,onClick:C,variant:"primary",block:!0,style:{height:"4rem",fontSize:"1.8rem"},children:"Out of Stock"})})]})},Ne=function(e){var t=e.match.params.id,a=Object(d.b)();Object(r.useEffect)((function(){a(X(t))}),[a,t]);var n=Object(d.c)((function(e){return e.listProduct})),s=n.error,i=n.loading,o=n.product;return Object(r.useEffect)((function(){return o&&o.category&&a($(o.category._id)),function(){return a(ee())}}),[a,o]),Object(c.jsxs)(c.Fragment,{children:[i&&Object(c.jsx)(l,{marginTop:10}),s&&Object(c.jsx)("div",{children:s}),o&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(oe,{}),Object(c.jsx)(j.a,{className:"px-3 py-2 justify-content-center"}),Object(c.jsxs)(j.a,{className:"d-flex align-content-center",children:[Object(c.jsx)(u.a,{xl:6,lg:5,sm:12,className:"d-flex align-content-center",children:Object(c.jsx)(be.a,{src:o.image,fluid:!0,rounded:!0,style:{objectFit:"scale-down"}})}),Object(c.jsx)(u.a,{xl:6,lg:7,sm:12,children:Object(c.jsx)(h.a,{style:{height:"100%"},children:Object(c.jsxs)(h.a.Body,{className:"flex-spread",style:{minHeight:"40vh"},children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{className:"text-center",children:o.name})," ",Object(c.jsx)("hr",{}),Object(c.jsxs)("h3",{className:"text-center",children:[o.price," PLN"]}),Object(c.jsx)("hr",{}),Object(c.jsx)("p",{className:"mx-2 px-3 py-2 desc text-justify",style:{maxHeight:"40vh",overflow:"auto"},children:o.description})]}),Object(c.jsx)(ve,{product:o})]})})})]}),Object(c.jsx)("hr",{}),Object(c.jsxs)(j.a,{children:[Object(c.jsx)(u.a,{sm:12,className:"text-center",children:Object(c.jsx)("h2",{children:"Reviews"})}),Object(c.jsx)(u.a,{sm:12,className:"text-center",children:o.reviews.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("hr",{style:{marginTop:"0.5rem",marginBottom:"0.5rem",width:"90%"}}),Object(c.jsxs)(j.a,{className:"container",children:[Object(c.jsxs)(u.a,{md:4,lg:4,children:[Object(c.jsx)(u.a,{sm:12,children:Object(c.jsx)("h5",{style:{fontWeight:"bold"},children:e.name})}),Object(c.jsx)(u.a,{sm:12,children:Object(c.jsx)(m,{rating:e.rating})})]}),Object(c.jsx)(u.a,{md:8,lg:8,className:"my-auto",children:Object(c.jsx)("p",{children:e.comment})})]}),Object(c.jsx)("br",{})]},e._id)}))})]})]})]})},Ce="LOGIN_USER_REQUEST",Se="LOGIN_USER_SUCCESS",ke="LOGIN_USER_FAIL",Ee="REGISTER_USER_REQUEST",we="REGISTER_USER_SUCCESS",_e="REGISTER_USER_FAIL",Te="LOGOUT_USER",Re="UPDATE_PROFILE_REQUEST",Pe="UPDATE_PROFILE_SUCCESS",Le="UPDATE_PROFILE_FAIL",Ie="GET_ALL_USERS_REQUEST",Ue="GET_ALL_USERS_SUCCESS",Ae="GET_ALL_USERS_FAIL",De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(y.a)(g.a.mark((function t(a,c){var r,n,s,i,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c(),n=r.loginUser.loggedUser,t.prev=1,a({type:Ie}),s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,W.a.get("/api/auth/users?keyword=".concat(e),s);case 6:i=t.sent,o=i.data,a({type:Ue,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a({type:Ae,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()},Fe=a(151),ze=function(e){var t=e.children,a=e.variant,r=void 0===a?"danger":a;return Object(c.jsx)(Fe.a,{variant:r,children:t})},Ge=a(152),Be=function(e){var t=e.children;return Object(c.jsx)(Ge.a,{children:Object(c.jsx)(j.a,{className:"justify-content-md-center",children:Object(c.jsx)(u.a,{xs:12,md:5,className:"py-4",children:t})})})},Me=function(e){var t=e.history,a=Object(d.b)(),n=Object(r.useState)(""),s=Object(i.a)(n,2),o=s[0],j=s[1],u=Object(r.useState)(""),b=Object(i.a)(u,2),p=b[0],h=b[1],x=Object(d.c)((function(e){return e.loginUser})),m=x.loggedUser,f=x.loading,v=x.error;Object(r.useEffect)((function(){m&&t.push("/")}),[m,t]);return Object(c.jsx)(Be,{children:Object(c.jsxs)(te.a,{onSubmit:function(e){e.preventDefault(),a(function(e,t){return function(){var a=Object(y.a)(g.a.mark((function a(c){var r,n,s;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c({type:Ce}),r={headers:{"Content-Type":"application/json"}},a.next=5,W.a.post("/api/auth/login",{email:e,password:t},r);case 5:n=a.sent,s=n.data,c({type:Se,payload:s}),localStorage.setItem("userLogin",JSON.stringify(s)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),c({type:ke,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(o,p))},children:[f&&Object(c.jsx)(l,{}),v&&Object(c.jsx)(ze,{children:v}),Object(c.jsxs)(te.a.Check,{className:"pt-5 px-0",children:[Object(c.jsxs)(te.a.Group,{controlId:"email",children:[Object(c.jsx)(te.a.Label,{children:"Email address"}),Object(c.jsx)(te.a.Control,{type:"email",placeholder:"Enter email",value:o,onChange:function(e){return j(e.target.value)}})]}),Object(c.jsxs)(te.a.Group,{controlId:"password",children:[Object(c.jsx)(te.a.Label,{children:"Password"}),Object(c.jsx)(te.a.Control,{type:"password",placeholder:"Password",value:p,onChange:function(e){return h(e.target.value)}})]}),Object(c.jsx)(te.a.Group,{controlId:"rememberMe",children:Object(c.jsx)(te.a.Check,{type:"checkbox",label:"Remember Me"})}),Object(c.jsx)(ce.a,{block:!0,variant:"primary",size:"lg",type:"submit",children:"Log In"}),Object(c.jsx)("br",{}),"Not registered? ",Object(c.jsx)(O.Link,{to:"/register",children:"Register"})]})]})})},He=function(e){var t=e.history,a=Object(d.b)(),n=Object(r.useState)(""),s=Object(i.a)(n,2),o=s[0],j=s[1],u=Object(r.useState)(""),b=Object(i.a)(u,2),p=b[0],h=b[1],x=Object(r.useState)(""),m=Object(i.a)(x,2),f=m[0],v=m[1],N=Object(r.useState)(""),C=Object(i.a)(N,2),S=C[0],k=C[1],E=Object(r.useState)(""),w=Object(i.a)(E,2),_=w[0],T=w[1],R=Object(d.c)((function(e){return e.loginUser})).loggedUser,P=Object(d.c)((function(e){return e.registerUser})),L=P.loading,I=P.error;Object(r.useEffect)((function(){R&&t.push("/")}),[R,t]);return Object(c.jsx)("div",{className:"d-flex justify-content-center ",children:Object(c.jsxs)(te.a,{style:{width:"400px",paddingTop:"2rem"},onSubmit:function(e){e.preventDefault(),f!==S?T("Passwords do not match"):a(function(e,t,a){return function(){var c=Object(y.a)(g.a.mark((function c(r){var n,s,i;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r({type:Ee}),n={headers:{"Content-Type":"application/json"}},c.next=5,W.a.post("/api/auth/register",{name:e,email:t,password:a},n);case 5:s=c.sent,i=s.data,r({type:we,payload:i}),r({type:Se,payload:i}),localStorage.setItem("userLogin",JSON.stringify(i)),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),r({type:_e,payload:c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message});case 15:case"end":return c.stop()}}),c,null,[[0,12]])})));return function(e){return c.apply(this,arguments)}}()}(o,p,f))},children:[L&&Object(c.jsx)(l,{}),I&&Object(c.jsx)(ze,{children:I}),_&&Object(c.jsx)(ze,{children:_}),Object(c.jsxs)(te.a.Group,{controlId:"name",children:[Object(c.jsx)(te.a.Label,{children:"Name"}),Object(c.jsx)(te.a.Control,{type:"text",placeholder:"Enter name",value:o,onChange:function(e){return j(e.target.value)}})]}),Object(c.jsxs)(te.a.Group,{controlId:"email",children:[Object(c.jsx)(te.a.Label,{children:"Email address"}),Object(c.jsx)(te.a.Control,{type:"email",placeholder:"Enter email",value:p,onChange:function(e){return h(e.target.value)}})]}),Object(c.jsxs)(te.a.Group,{controlId:"password",children:[Object(c.jsx)(te.a.Label,{children:"Password"}),Object(c.jsx)(te.a.Control,{type:"password",placeholder:"Password",value:f,onChange:function(e){return v(e.target.value)}})]}),Object(c.jsxs)(te.a.Group,{controlId:"confirmpassword",children:[Object(c.jsx)(te.a.Label,{children:"Confirm Password"}),Object(c.jsx)(te.a.Control,{type:"password",placeholder:"Confirm Password",value:S,onChange:function(e){return k(e.target.value)}})]}),Object(c.jsx)(te.a.Group,{controlId:"rememberMe",children:Object(c.jsx)(te.a.Check,{type:"checkbox",label:"Remember Me"})}),Object(c.jsx)(ce.a,{block:!0,variant:"primary",type:"submit",children:"Log In"}),Object(c.jsx)("br",{}),"Have an account? ",Object(c.jsx)(O.Link,{to:"/login",children:"Login"})]})})},Qe=a(164),Ve=a(153),Ye=function(e){var t=e.ship,a=Object(c.jsx)("i",{className:"d-none d-sm-block grey-font fas fa-long-arrow-alt-right fa-3x"});return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("nav",{className:"d-flex justify-content-center",children:Object(c.jsxs)(j.a,{style:{maxWidth:"500px"},className:"mt-4 mb-0",children:[Object(c.jsx)(u.a,{className:"text-center mx-0 px-0",style:{width:"100px"},children:Object(c.jsx)(O.Link,{to:"/cart",children:Object(c.jsx)("i",{className:"orange-font fas fa-shopping-cart fa-3x"})})}),a,Object(c.jsx)(u.a,{className:"text-center  mx-0 px-0",style:{width:"100px"},children:Object(c.jsx)("i",{className:"".concat(t?"orange":"grey","-font fas fa-shipping-fast fa-3x")})}),a,Object(c.jsx)(u.a,{className:"text-center  mx-0 px-0",style:{width:"100px"},children:Object(c.jsx)("i",{className:"grey-font fas fa-check-circle fa-3x"})})]})})})},qe=function(){var e=Object(d.c)((function(e){return e.cartContent})).cartContent,t=Object(d.b)(),a=Object(d.c)((function(e){return e.loginUser})).loggedUser,n=Object(r.useMemo)((function(){return e.reduce((function(e,t){return e+t.count}),0)}),[e]),s=Object(r.useMemo)((function(){return e.reduce((function(e,t){return e+t.price*t.count}),0)}),[e]),i=Object(r.useMemo)((function(){return s>200?0:9.99}),[s]);Object(r.useEffect)((function(){t(function(){var e=Object(y.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=localStorage.getItem("cartContent")?JSON.parse(localStorage.getItem("cartContent")):[],Promise.all(a.map(function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W.a.get("/api/products/".concat(t._id)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){a.forEach((function(t,a){t.countInStock=e[a].data.countInStock,t.count>t.countInStock&&(t.count=t.countInStock)})),localStorage.setItem("cartContent",JSON.stringify(a)),t({type:Oe,payload:a})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t]);var o=function(e){return t(function(e){return function(t){var a=localStorage.getItem("cartContent")?JSON.parse(localStorage.getItem("cartContent")):[];a=a.filter((function(t){return t._id!==e._id})),localStorage.setItem("cartContent",JSON.stringify(a)),t({type:me,payload:e})}}(e))};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Ye,{cart:!0}),Object(c.jsx)("hr",{}),Object(c.jsx)(j.a,{children:e.length>0?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(u.a,{lg:9,className:"px-0",children:[Object(c.jsx)(Qe.a,{variant:"flush",children:e.map((function(e){return Object(c.jsx)(Qe.a.Item,{children:Object(c.jsxs)(j.a,{className:"d-flex align-items-center",children:[Object(c.jsx)(u.a,{lg:{span:3,order:1},xs:{span:3,order:1},className:"py-0 pr-4 d-flex justify-content-center",children:Object(c.jsx)(O.Link,{to:"/product/".concat(e._id),children:Object(c.jsx)(be.a,{fluid:!0,rounded:!0,src:e.image,style:{height:"10rem",objectFit:"scale-down"}})})}),Object(c.jsx)(u.a,{lg:{span:4,order:2},xs:{span:8,order:2},className:"pl-0 pr-0",style:{fontSize:"1.1rem"},children:Object(c.jsx)(O.Link,{to:"/product/".concat(e._id),children:e.name})}),Object(c.jsx)(u.a,{lg:{span:2,order:3},xs:{span:6,order:4},className:"pl-0 pr-4",children:e.countInStock>0?Object(c.jsx)(ve,{product:e,updateOnClick:!0}):Object(c.jsx)("h5",{className:"text-center",children:"Out of Stock"})}),Object(c.jsx)(u.a,{lg:{span:2,order:4},xs:{span:6,order:5},className:"px-1",children:Object(c.jsxs)("h5",{style:{fontSize:"1.1rem"},children:[(e.price*e.count*100/100).toFixed(2)," PLN"]})}),Object(c.jsx)(u.a,{lg:{span:1,order:5},xs:{span:1,order:3},className:"px-0 ",onClick:function(t){return o(e)},children:Object(c.jsx)(he.a,{placement:"top",overlay:Object(c.jsx)(Ve.a,{id:"tooltip-top",className:"my-1 orange-border",children:Object(c.jsx)("p",{className:"m-2",style:{fontSize:"1rem"},children:"Remove Item From Cart"})}),children:Object(c.jsx)("i",{className:"fas fa-times orange-border-hover"})},"top")})]})},e._id)}))}),Object(c.jsx)("hr",{}),Object(c.jsx)("h3",{style:{textAlign:"center"},children:s>200?"You Qualify For Free Shipping!":"You miss ".concat((200-s).toFixed(2)," PLN To Get Free Shipping")})]}),Object(c.jsx)(u.a,{lg:3,md:12,className:"px-3",children:Object(c.jsx)(h.a,{style:{},className:"py-3",children:Object(c.jsxs)(h.a.Body,{children:[Object(c.jsx)(h.a.Title,{className:"text-center",children:Object(c.jsx)("h3",{children:"Summary"})}),Object(c.jsx)("hr",{}),Object(c.jsx)(h.a.Text,{children:Object(c.jsxs)("span",{children:["Items: ",n]})}),Object(c.jsx)(h.a.Text,{children:Object(c.jsxs)("span",{children:["Price: ",s.toFixed(2)," PLN "]})}),Object(c.jsx)(h.a.Text,{children:Object(c.jsxs)("span",{children:["Shipping: ",i.toFixed(2)," PLN "]})}),Object(c.jsx)("hr",{}),Object(c.jsx)(h.a.Text,{children:Object(c.jsxs)("span",{children:["Total Price: ",(s+i).toFixed(2)," PLN"]})}),Object(c.jsxs)(O.Link,{to:"/checkout",children:[!a&&Object(c.jsx)(O.Link,{to:"/login",children:Object(c.jsx)(ce.a,{block:!0,variant:"primary",size:"lg",className:"mt-4 py-3 proceed",children:"Log In To Proceed"})}),Object(c.jsx)(ce.a,{disabled:!a,block:!0,variant:"primary",size:"lg",className:"mt-4 py-3 proceed",children:"Proceed To Checkout"})]})]})})})]}):Object(c.jsx)("h2",{className:"text-align-center my-5 mx-auto",children:Object(c.jsxs)("p",{className:"my-5",children:["Items added to cart will appear here,"," ",Object(c.jsx)(O.Link,{className:"text-dark",to:"/",children:"Go Shopping"})]})})})]})},Je="PLACE_ORDER_REQUEST",We="PLACE_ORDER_SUCCESS",Ke="PLACE_ORDER_FAIL",Xe="PLACE_ORDER_RESET",Ze="GET_ORDER_REQUEST",$e="GET_ORDER_SUCCESS",et="GET_ORDER_FAIL",tt="UPDATE_ORDER_REQUEST",at="UPDATE_ORDER_SUCCESS",ct="UPDATE_ORDER_FAIL",rt="GET_USER_ORDERS_REQUEST",nt="GET_USER_ORDERS_SUCCESS",st="GET_USER_ORDERS_FAIL",it="CREATE_REVIEW_REQUEST",ot="CREATE_REVIEW_SUCCESS",lt="CREATE_REVIEW_FAIL",dt="CREATE_REVIEW_RESET",jt="GET_ALL_ORDERS_REQUEST",ut="GET_ALL_ORDERS_SUCCESS",bt="GET_ALL_ORDERS_FAIL",pt=function(e){return function(){var t=Object(y.a)(g.a.mark((function t(a,c){var r,n,s,i,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c(),n=r.loginUser.loggedUser,t.prev=1,a({type:Ze}),s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,W.a.get("/api/orders/".concat(e),s);case 6:i=t.sent,o=i.data,a({type:$e,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a({type:et,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()},ht=function(e,t){return function(){var a=Object(y.a)(g.a.mark((function a(c,r){var n,s,i,o,l;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=r(),s=n.loginUser.loggedUser,a.prev=1,c({type:tt}),i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},a.next=6,W.a.put("/api/orders/".concat(e),t,i);case 6:o=a.sent,l=o.data,c({type:at,payload:l}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),c({type:ct,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e,t){return a.apply(this,arguments)}}()},xt=a(165),Ot=function(e){var t=e.order,a=e.size,r="small"===a?6:12,n="small"===a?5:12,s="small"===a?4:12;return Object(c.jsxs)(j.a,{className:"mr-0",children:["small"===a&&Object(c.jsxs)(u.a,{xl:6,lg:7,md:8,xs:6,className:"mx-0",children:[Object(c.jsx)("i",{className:"orange-font fas fa-spinner"})," ",t.isDelivered?Object(c.jsx)("b",{className:"text-success",children:"Delivered"}):t.isDispatched?Object(c.jsx)("b",{className:"text-info",children:"Sent Out"}):t.isPaid?Object(c.jsx)("b",{children:"Paid"}):Object(c.jsx)("b",{className:"text-danger",children:" Not Paid"})]}),Object(c.jsx)(u.a,{xl:r,lg:n,md:s,xs:r,className:"mx-0 pt-1 px-".concat("small"===a?0:5),children:Object(c.jsx)(xt.a,{style:{maxHeight:"small"===a?"0.75rem":"2rem"},now:t.isDelivered?100:t.isDispatched?75:t.isPaid?50:25,variant:t.isDelivered?"success":t.isDispatched?"info":t.isPaid?"primary":"danger"})})]})},mt=function(e){var t=e.history,a=Object(d.b)(),n=Object(d.c)((function(e){return e.loginUser})),s=n.loggedUser,o=n.loading,b=n.error,p=Object(d.c)((function(e){return e.updateProfile})),h=p.loading,x=p.success,m=p.error,f=Object(d.c)((function(e){return e.userOrdersGet})),v=f.ordersDetails,N=f.loading,C=f.error,S=Object(r.useState)(""),k=Object(i.a)(S,2),E=k[0],w=k[1],_=Object(r.useState)(""),T=Object(i.a)(_,2),R=T[0],P=T[1],L=Object(r.useState)(""),I=Object(i.a)(L,2),U=I[0],A=I[1],D=Object(r.useState)(""),F=Object(i.a)(D,2),z=F[0],G=F[1];Object(r.useEffect)((function(){s?w(s.name):t.push("/login")}),[s,t]),Object(r.useEffect)((function(){a(function(){var e=Object(y.a)(g.a.mark((function e(t,a){var c,r,n,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a(),r=c.loginUser.loggedUser,e.prev=1,t({type:rt}),n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,W.a.get("/api/auth/orders/",n);case 6:s=e.sent,i=s.data,t({type:nt,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:st,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}())}),[a]);var B=function(e){e.preventDefault(),R!==U?G("Passwords do not match"):a(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(y.a)(g.a.mark((function a(c,r){var n,s,i,o,l;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=r(),s=n.loginUser.loggedUser,a.prev=1,c({type:Re}),i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},a.next=6,W.a.put("/api/auth/profile",{name:e,password:t},i);case 6:o=a.sent,l=o.data,c({type:Pe}),c({type:Se,payload:l}),localStorage.setItem("userLogin",JSON.stringify(l)),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),c({type:Le,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 16:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e,t){return a.apply(this,arguments)}}()}(E,R))};return Object(c.jsxs)(c.Fragment,{children:[(o||h)&&Object(c.jsx)(l,{}),(b||m||z||C)&&Object(c.jsx)(ze,{children:b||m||z||C}),x&&Object(c.jsx)(ze,{variant:"success",children:"Profile Updated!"}),s&&Object(c.jsxs)(j.a,{className:"py-5 px-4",children:[Object(c.jsx)(u.a,{lg:"5",md:"12",className:"border-right pr-5 mx-4",children:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{className:"text-center",children:"Edit Profile"}),Object(c.jsx)("hr",{}),Object(c.jsxs)(te.a,{onSubmit:B,children:[Object(c.jsxs)(te.a.Group,{readOnly:!0,controlId:"email",children:[Object(c.jsx)(te.a.Label,{children:"Email address"}),Object(c.jsx)(te.a.Control,{readOnly:!0,type:"email",placeholder:s.email})]}),Object(c.jsxs)(te.a.Group,{controlId:"name",children:[Object(c.jsx)(te.a.Label,{children:"Name"}),Object(c.jsx)(te.a.Control,{type:"text",value:E,onChange:function(e){return w(e.target.value)}})]}),Object(c.jsxs)(te.a.Group,{controlId:"formBasicPassword",children:[Object(c.jsx)(te.a.Label,{children:"Change Password"}),Object(c.jsx)(te.a.Control,{type:"password",value:R,placeholder:"New Password",onChange:function(e){return P(e.target.value)}})]}),Object(c.jsxs)(te.a.Group,{controlId:"formBasicPassword",children:[Object(c.jsx)(te.a.Label,{children:"Confirm Password"}),Object(c.jsx)(te.a.Control,{type:"password",value:U,placeholder:"Confirm New Password",onChange:function(e){return A(e.target.value)}})]}),Object(c.jsx)(ce.a,{className:"py-3 my-5 bigger",variant:"primary",block:!0,type:"submit",children:"Submit"})]})]})}),Object(c.jsxs)(u.a,{className:"mx-4",children:[Object(c.jsx)("h1",{className:"text-center",children:"Your Orders"}),Object(c.jsx)("hr",{}),N&&Object(c.jsx)(l,{marginTop:"5"}),v.length>0&&Object(c.jsx)(Qe.a,{variant:"flush",children:v.map((function(e){return Object(c.jsx)(O.Link,{to:"/order/".concat(e._id),children:Object(c.jsx)(Qe.a.Item,{className:"mb-0  pb-2 orange-border-hover",children:Object(c.jsxs)(j.a,{style:{height:"12rem"},children:[Object(c.jsxs)(u.a,{md:"6",className:"text-left my-0",children:[Object(c.jsx)("i",{className:"orange-font fas fa-fingerprint",children:" "})," ID: ",Object(c.jsx)("b",{children:e._id})]}),Object(c.jsxs)(u.a,{md:"6",className:"my-0",children:[Object(c.jsx)("i",{className:"orange-font far fa-clock"})," Date:"," ",Object(c.jsx)("b",{children:e.createdAt.substring(0,19).replace("T"," ")})]}),Object(c.jsxs)(u.a,{md:"6",className:"text-left my-0",children:[Object(c.jsx)("i",{className:"orange-font fas fa-money-bill-wave"})," Value:"," ",Object(c.jsxs)("b",{children:[e.totalPrice," PLN"]})]}),Object(c.jsx)(u.a,{md:"6",className:"text-left my-0",children:Object(c.jsx)(Ot,{order:e,size:"small"})}),Object(c.jsx)(j.a,{style:{height:"8rem"},className:" mx-4 py-0  d-flex align-items-center",children:e.orderItems.map((function(e,t){return t<=5&&Object(c.jsx)(u.a,{xs:"2",className:"py-0 m-0 px-1",children:Object(c.jsx)(be.a,{className:"mb-3",fluid:!0,src:e.image})},e._id)}))})]})})},e._id)}))})]})]})]})},ft=function(e){var t=e.history,a=Object(r.useState)(!1),n=Object(i.a)(a,2),s=n[0],o=n[1],b=Object(r.useState)(""),p=Object(i.a)(b,2),h=p[0],x=p[1],O=Object(r.useState)(""),m=Object(i.a)(O,2),f=m[0],v=m[1],N=Object(r.useState)(""),C=Object(i.a)(N,2),S=C[0],k=C[1],E=Object(r.useState)(""),w=Object(i.a)(E,2),_=w[0],T=w[1],R=Object(r.useState)(""),P=Object(i.a)(R,2),L=P[0],I=P[1],U=Object(r.useState)(""),A=Object(i.a)(U,2),D=A[0],F=A[1],z=Object(d.b)(),G=Object(d.c)((function(e){return e.cartContent})).cartContent,B=Object(d.c)((function(e){return e.orderCreate})),M=B.id,H=B.loading,Q=B.error;Object(r.useEffect)((function(){M&&(z((function(e){e({type:Xe})})),t.push("/order/".concat(M)))}),[M,t,z]);var V=Object(r.useMemo)((function(){return G.reduce((function(e,t){return e+t.price*t.count}),0).toFixed(2)}),[G]),Y=Object(r.useMemo)((function(){return V>200?0:9.99}),[V]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Ye,{ship:!0}),Object(c.jsx)("hr",{}),Q&&Object(c.jsx)(ze,{children:Q}),H?Object(c.jsx)(l,{marginTop:5}):Object(c.jsxs)(j.a,{className:"py-5 px-4",children:[Object(c.jsxs)(u.a,{lg:7,xl:8,sm:12,className:"border-right text-center",children:[Object(c.jsx)("h2",{className:"mb-5",children:"Enter Your Address"}),Object(c.jsx)(te.a,{noValidate:!0,validated:s,onSubmit:function(e){e.preventDefault(),!1===e.currentTarget.checkValidity()&&e.stopPropagation(),o(!0);var t,a="".concat(f," ").concat(S);z((t={name:a,shippingAddress:{address:_,city:L,postalCode:D,name:a},paymentMethod:h,itemsPrice:V,totalPrice:(parseFloat(V)+parseFloat(Y)).toFixed(2),orderItems:G,shippingPrice:Y},function(){var e=Object(y.a)(g.a.mark((function e(a,c){var r,n,s,i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c(),n=r.loginUser.loggedUser,e.prev=1,a({type:Je}),s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},e.next=6,W.a.post("/api/orders",t,s);case 6:i=e.sent,o=i.data,a((function(e){localStorage.removeItem("cartContent"),e({type:fe})})),a({type:We,payload:o}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),a({type:Ke,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a){return e.apply(this,arguments)}}()))},id:"ship-form",style:{fontSize:"1rem"},children:Object(c.jsxs)(te.a.Row,{className:"py-3",children:[Object(c.jsxs)(te.a.Group,{as:u.a,md:"6",className:"py-4",children:[Object(c.jsx)(te.a.Label,{children:"First name"}),Object(c.jsx)(te.a.Control,{required:!0,type:"text",placeholder:"First name",size:"lg",value:f,onChange:function(e){return v(e.target.value)}})]}),Object(c.jsxs)(te.a.Group,{as:u.a,md:"6",className:"py-4",children:[Object(c.jsx)(te.a.Label,{children:"Last name"}),Object(c.jsx)(te.a.Control,{required:!0,type:"text",placeholder:"Last name",size:"lg",onChange:function(e){return k(e.target.value)},value:S})]}),Object(c.jsxs)(te.a.Group,{as:u.a,lg:"6",sm:"12",className:"py-4",children:[Object(c.jsx)(te.a.Label,{children:"Street Name and Number"}),Object(c.jsx)(te.a.Control,{type:"text",placeholder:"Street Name",required:!0,size:"lg",onChange:function(e){return T(e.target.value)},value:_}),Object(c.jsx)(te.a.Control.Feedback,{type:"invalid",children:"Please provide a valid city."})]}),Object(c.jsxs)(te.a.Group,{as:u.a,lg:"4",md:"8",className:"py-4",children:[Object(c.jsx)(te.a.Label,{children:"City"}),Object(c.jsx)(te.a.Control,{type:"text",placeholder:"City",required:!0,size:"lg",onChange:function(e){return I(e.target.value)},value:L}),Object(c.jsx)(te.a.Control.Feedback,{type:"invalid",children:"Please provide a valid city."})]}),Object(c.jsxs)(te.a.Group,{as:u.a,lg:"2",md:"4",className:"py-4",children:[Object(c.jsx)(te.a.Label,{children:"Zip"}),Object(c.jsx)(te.a.Control,{type:"text",placeholder:"Zip",required:!0,size:"lg",onChange:function(e){return F(e.target.value)},value:D}),Object(c.jsx)(te.a.Control.Feedback,{type:"invalid",children:"Please provide a valid zip."})]})]})})]}),Object(c.jsx)("hr",{}),Object(c.jsxs)(u.a,{xl:4,lg:5,sm:12,className:"text-center",children:[Object(c.jsx)("h2",{className:"mb-5",children:"Payment Method"}),Object(c.jsx)(j.a,{className:"payment-method m-4 ".concat("PayPal"===h&&"active"),onClick:function(e){return x("PayPal")},children:Object(c.jsx)(u.a,{className:"my-auto",children:Object(c.jsx)(be.a,{style:{maxHeight:"45px"},src:"https://logodownload.org/wp-content/uploads/2014/10/paypal-logo-2-1.png",fluid:!0})})}),Object(c.jsx)(j.a,{className:"payment-method m-4 ".concat("Stripe"===h&&"active"),onClick:function(e){return x("Stripe")},children:Object(c.jsx)(u.a,{className:"my-auto",children:Object(c.jsx)(be.a,{style:{maxHeight:"60px"},src:"https://www.przelewy24.pl/themes/base/assets/images/przelewy24_logo.svg",fluid:!0})})}),Object(c.jsx)(ce.a,{type:"submit",form:"ship-form",block:!0,size:"lg",className:"m-4 pt-3 px-5",children:Object(c.jsx)("h4",{children:"Submit Order"})})]})]})]})},gt=a(100),yt=a(101),vt=a(157),Nt=function(e){var t=e.product,a=Object(x.m)().id,n=Object(r.useState)(""),s=Object(i.a)(n,2),o=s[0],l=s[1],b=Object(r.useState)(""),p=Object(i.a)(b,2),h=p[0],O=p[1],m=Object(r.useState)(0),f=Object(i.a)(m,2),v=f[0],N=f[1],C=Object(r.useState)(0),S=Object(i.a)(C,2),k=S[0],E=S[1],w=Object(d.b)(),_=Object(d.c)((function(e){return e.reviewCreate})).error;Object(r.useEffect)((function(){return function(){w({type:dt})}}),[w]);var T=Object(c.jsx)("i",{style:{fontSize:"2rem"},className:"fas fa-star p-1 py-3"}),R=Object(c.jsx)("i",{style:{fontSize:"2rem"},className:"far fa-star p-1 py-3"});return Object(c.jsxs)(vt.a,Object(xe.a)(Object(xe.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(c.jsx)(vt.a.Header,{closeButton:!0,children:Object(c.jsx)(vt.a.Title,{id:"contained-modal-title-vcenter",children:Object(c.jsxs)(j.a,{children:[Object(c.jsx)(u.a,{sm:2,children:Object(c.jsx)(be.a,{fluid:!0,src:t.image})}),Object(c.jsx)(u.a,{sm:10,className:"my-auto",children:t.name})]})})}),Object(c.jsx)(vt.a.Body,{children:Object(c.jsxs)(te.a,{onSubmit:function(e){e.preventDefault(),w(function(e,t,a){return function(){var c=Object(y.a)(g.a.mark((function c(r,n){var s,i,o,l,d;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s=n(),i=s.loginUser.loggedUser,c.prev=1,r({type:it}),o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},c.next=6,W.a.put("/api/products/".concat(e,"/order/").concat(t,"/review"),a,o);case 6:l=c.sent,d=l.data,r({type:ot,payload:d}),r(pt(t)),c.next=16;break;case 12:c.prev=12,c.t0=c.catch(1),console.log(c.t0),r({type:lt,payload:c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message});case 16:case"end":return c.stop()}}),c,null,[[1,12]])})));return function(e,t){return c.apply(this,arguments)}}()}(t._id,a,{name:o,comment:h,rating:v}))},style:{maxWidth:"600px"},className:"container",children:[_&&Object(c.jsx)(ze,{children:"You already reviewed this item in some of previous orders!"}),Object(c.jsx)("h5",{className:"text-center",children:"Your Rating:"}),Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsx)("span",{onClick:function(){return N(1)},onMouseEnter:function(){return E(1)},onMouseLeave:function(){return E(0)},children:k?k>=1?T:R:v>=1?T:R}),Object(c.jsx)("span",{onClick:function(){return N(2)},onMouseLeave:function(){return E(0)},onMouseEnter:function(){return E(2)},children:k?k>=2?T:R:v>=2?T:R}),Object(c.jsx)("span",{onClick:function(){return N(3)},onMouseLeave:function(){return E(0)},onMouseEnter:function(){return E(3)},children:k?k>=3?T:R:v>=3?T:R}),Object(c.jsx)("span",{onClick:function(){return N(4)},onMouseLeave:function(){return E(0)},onMouseEnter:function(){return E(4)},children:k?k>=4?T:R:v>=4?T:R}),Object(c.jsx)("span",{onClick:function(){return N(5)},onMouseLeave:function(){return E(0)},onMouseEnter:function(){return E(5)},children:k?k>=5?T:R:v>=5?T:R})]}),Object(c.jsx)("br",{}),Object(c.jsx)("h5",{className:"text-center",children:"Review Title:"}),Object(c.jsx)(te.a.Group,{controlId:"exampleForm.ControlTextarea1",children:Object(c.jsx)(te.a.Control,{required:!0,placeholder:"Review Title",value:o,onChange:function(e){return l(e.target.value)}})}),Object(c.jsx)("h5",{className:"text-center",children:"Review Details:"}),Object(c.jsx)(te.a.Group,{controlId:"exampleForm.ControlTextarea1",children:Object(c.jsx)(te.a.Control,{required:!0,as:"textarea",rows:3,placeholder:"Please Write Your Review Here",value:h,onChange:function(e){return O(e.target.value)}})}),Object(c.jsx)(ce.a,{variant:"primary",block:!0,type:"submit",children:"Submit"})]})}),Object(c.jsx)(vt.a.Footer,{children:Object(c.jsx)(ce.a,{onClick:e.onHide,children:"Close"})})]}))},Ct=function(e){var t=e.match,a=Object(d.b)(),n=Object(d.c)((function(e){return e.orderGet})),s=Object(d.c)((function(e){return e.loginUser})).loggedUser,o=n.orderDetails,b=n.loading,p=Object(r.useState)(!1),h=Object(i.a)(p,2),x=h[0],m=h[1],f=Object(r.useState)(!1),v=Object(i.a)(f,2),N=v[0],C=v[1],S=Object(r.useState)([]),k=Object(i.a)(S,2),E=k[0],w=k[1];Object(r.useEffect)((function(){var e=function(){var e=Object(y.a)(g.a.mark((function e(){var t,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.get("/api/config/paypal");case 2:t=e.sent,a=t.data,(c=document.createElement("script")).type="text/javascript",c.src="https://www.paypal.com/sdk/js?client-id=".concat(a,"&currency=PLN"),c.async=!0,c.onload=function(){return m(!0)},document.body.appendChild(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o&&(o.isPaid||(window.paypal?m(!0):e()))}),[o,a]);var _=function(e,t){var c,r,n;console.log("success"),C(!0),a((c=o._id,r=e.id,n=e.create_time,function(){var e=Object(y.a)(g.a.mark((function e(t,a){var s,i,o,l,d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a(),i=s.loginUser.loggedUser,e.prev=1,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},e.next=5,W.a.put("/api/orders/".concat(c,"/pay/paypal"),{paypalOrderId:r,create_time:n},o);case 5:l=e.sent,d=l.data,t({type:$e,payload:d}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:et,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()))};Object(r.useEffect)((function(){b||C(!1),o&&w(Array.from({length:o.orderItems.length},(function(){return!1})))}),[b,o]),Object(r.useEffect)((function(){a(pt(t.params.id))}),[a,t]);var T=Object(gt.a)("pk_test_51HxskkJe6gNNlKVJ5jshf7Hj0fX3nmmmiQzLz1fu4u7e6K6SorkOEXbzSaeeUCBGdf8QEAGbuSfT6vdQwVkqtj4500j6tBFuTm"),R=function(){var e=Object(y.a)(g.a.mark((function e(){var t,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T;case 2:return t=e.sent,e.next=5,t.redirectToCheckout({sessionId:o.stripeOrderId});case 5:a=e.sent,(c=a.error)&&console.log(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(y.a)(g.a.mark((function e(c){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(ht(t.params.id,c));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(j.a,{className:"my-3",children:[Object(c.jsxs)(u.a,{md:8,className:"text-center border-right",children:[Object(c.jsx)("h2",{children:"Order"}),Object(c.jsx)("hr",{}),b&&Object(c.jsx)(l,{marginTop:5}),Object(c.jsxs)(Qe.a,{variant:"flush",children:[o&&o.orderItems.map((function(e,t){return Object(c.jsx)(Qe.a.Item,{children:Object(c.jsxs)(j.a,{className:"d-flex align-items-center",children:[Object(c.jsx)(u.a,{lg:3,xs:12,className:"py-0 pr-4 d-flex justify-content-center",children:Object(c.jsx)(O.Link,{to:"/product/".concat(e._id),children:Object(c.jsx)(be.a,{fluid:!0,rounded:!0,src:e.image,style:{height:"10rem",objectFit:"scale-down"}})})}),Object(c.jsx)(u.a,{lg:5,xs:7,className:"pl-0 pr-0 text-left",style:{fontSize:"1.1rem"},children:Object(c.jsx)(O.Link,{className:"py-4",to:"/product/".concat(e._id),children:e.name})}),Object(c.jsxs)(u.a,{lg:4,xs:5,className:"pr-0 text-right",children:[Object(c.jsx)(u.a,{sm:12,children:Object(c.jsxs)("h5",{style:{fontSize:"1.1rem"},children:[e.price," \xd7 ",e.count," ="," ",(e.price*e.count*100/100).toFixed(2)," PLN"]})}),o.isDelivered&&!s.isAdmin&&Object(c.jsxs)(u.a,{sm:12,children:[e.isReviewed?Object(c.jsx)(ce.a,{disabled:!0,children:" Product Already Reviewed"}):Object(c.jsx)(ce.a,{onClick:function(){return w((function(e){return e.map((function(e,a){return t===a}))}))},children:"Review the Product"}),Object(c.jsx)(Nt,{product:e,show:E[t],onHide:function(){return w((function(e){return e.map((function(){return!1}))}))}})]})]})]})},e._id)})),Object(c.jsx)("hr",{})]})]}),Object(c.jsxs)(u.a,{md:4,className:"text-center",children:[Object(c.jsx)("h2",{children:"Progress"}),Object(c.jsx)("hr",{}),o&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"my-4",children:Object(c.jsx)(Ot,{order:o,size:"big"})}),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("hr",{}),Object(c.jsxs)(j.a,{style:{fontSize:"1rem"},children:[Object(c.jsxs)(u.a,{md:12,className:"text-left my-0",children:[Object(c.jsx)("i",{className:"orange-font fas fa-fingerprint text-center",children:" "})," ID: ",Object(c.jsx)("b",{children:o._id})]}),Object(c.jsxs)(u.a,{md:12,className:"my-0 text-left",children:[Object(c.jsx)("i",{className:"orange-font far fa-clock text-center"})," Date:"," ",Object(c.jsx)("b",{children:o.createdAt.substring(0,19).replace("T"," ")})]}),Object(c.jsxs)(u.a,{md:12,className:"text-left my-0",children:[Object(c.jsx)("i",{className:"orange-font fas fa-money-bill-wave text-center"})," Products Value:"," ",Object(c.jsxs)("b",{children:[o.itemsPrice.toFixed(2)," PLN"]})]}),Object(c.jsxs)(u.a,{md:12,className:"text-left my-0",children:[Object(c.jsx)("i",{className:"orange-font fas fa-shipping-fast text-center"})," Shipping:"," ",Object(c.jsx)("b",{children:o.shippingPrice>0?"".concat(o.shippingPrice," PLN"):"Free!"})]})]})]}),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h3",{className:"mt-3",children:"Shipping Address"}),Object(c.jsx)("hr",{}),Object(c.jsxs)(j.a,{className:"mt-3 text-left",style:{fontSize:"1rem"},children:[Object(c.jsxs)(u.a,{md:12,children:[Object(c.jsx)("i",{className:"orange-font fas fa-user text-center"})," Name:"," ",Object(c.jsx)("b",{children:o.shippingAddress.name})]}),Object(c.jsxs)(u.a,{md:12,children:[Object(c.jsx)("i",{className:"orange-font fas fa-map-marker-alt text-center"})," Address:"," ",Object(c.jsx)("b",{children:o.shippingAddress.address})]}),Object(c.jsxs)(u.a,{md:12,children:[Object(c.jsx)("i",{className:"orange-font fas fa-city text-center"})," Postal Code & City:"," ",Object(c.jsxs)("b",{children:[o.shippingAddress.postalCode,", ",o.shippingAddress.city]})]}),Object(c.jsxs)(u.a,{md:12,children:[Object(c.jsx)("i",{className:"orange-font fas fa-globe-europe text-center"})," Country:"," ",Object(c.jsx)("b",{children:o.shippingAddress.country})]})]})]}),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("hr",{}),Object(c.jsx)("h3",{className:"mt-3",children:"Payment"}),!o.isPaid&&Object(c.jsxs)("h4",{className:"mt-3",children:["Amount to Pay: ",o.totalPrice," PLN"]}),Object(c.jsx)("hr",{}),o.isPaid?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(ze,{variant:"success",children:"Order Paid"}),Object(c.jsx)("hr",{}),Object(c.jsx)("h3",{className:"mt-3",children:"Shipment"}),Object(c.jsx)("hr",{}),o.isDelivered?Object(c.jsx)(ze,{variant:"success",children:"Order Delivered"}):o.isDispatched?Object(c.jsx)(ze,{variant:"info",children:"Order Dispatched"}):Object(c.jsx)(ze,{variant:"info",children:"In progress"})]}):o.user===s._id&&("Stripe"===o.paymentMethod?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(ze,{children:"Order Not Paid"}),Object(c.jsx)("hr",{}),s&&!s.isAdmin&&Object(c.jsx)(ce.a,{block:!0,size:"lg",onClick:R,children:"Pay For Order"})]}):!x||N?Object(c.jsx)(l,{}):Object(c.jsx)(yt.PayPalButton,{currency:"PLN",amount:o.totalPrice,onApprove:function(){return C(!0)},onSuccess:_}))]}),s&&s.isAdmin&&o.isPaid&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("hr",{}),Object(c.jsx)("h3",{className:"mt-3",children:"Admin Actions"}),Object(c.jsx)("hr",{}),o.isDispatched?!o.isDelivered&&Object(c.jsx)(ce.a,{block:!0,size:"lg",onClick:function(){return P({isDelivered:!0})},children:"Mark as Delivered"}):Object(c.jsx)(ce.a,{block:!0,size:"lg",onClick:function(){return P({isDispatched:!0})},children:"Mark as Dispatched"})]})]})]})]})})},St=a(154),kt=function(){var e=Object(r.useState)(new URLSearchParams(window.location.search).get("user")||""),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(!1),o=Object(i.a)(s,2),b=o[0],p=o[1],h=Object(r.useState)(!1),m=Object(i.a)(h,2),f=m[0],v=m[1],N=Object(r.useState)(!1),C=Object(i.a)(N,2),S=C[0],k=C[1],E=Object(d.b)(),w=Object(x.k)(),_=Object(d.c)((function(e){return e.orderGetAll})),T=_.loading,R=_.error,P=_.orders,L=Object(d.c)((function(e){return e.orderGet})).orderDetails;Object(r.useEffect)((function(){E(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(){var r=Object(y.a)(g.a.mark((function r(n,s){var i,o,l,d,j;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=s(),o=i.loginUser.loggedUser,r.prev=1,n({type:jt}),l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},r.next=6,W.a.get("/api/orders?user=".concat(e,"&notpaid=").concat(t,"&notsent=").concat(a,"&notdelivered=").concat(c),l);case 6:d=r.sent,j=d.data,n({type:ut,payload:j}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),n({type:bt,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[1,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(a,b,f,S))}),[b,f,S,a,E,L]),Object(r.useEffect)((function(){n(new URLSearchParams(window.location.search).get("user")||"")}),[window.location.search]);var I=Object(c.jsx)("i",{style:{fontSize:"1.2rem"},className:"text-success fas fa-check-circle"}),U=Object(c.jsx)("i",{style:{fontSize:"1.2rem"},className:"text-danger fas fa-times-circle"}),A=Object(c.jsx)("i",{style:{fontSize:"1.2rem",cursor:"pointer"},className:" fas fa-trash"});return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(j.a,{children:[a&&Object(c.jsx)(u.a,{sm:1,className:"py-3",children:Object(c.jsx)(ce.a,{block:!0,onClick:function(){return w.push("/admin/orders")},children:Object(c.jsx)("i",{className:"fas fa-arrow-left"})})}),Object(c.jsx)(u.a,{sm:a?11:12,children:Object(c.jsxs)("h3",{className:"text-center",children:[b?"Not Paid":f?"Not Sent":S?"Not Delivered":"All"," ","Orders"]})})]}),Object(c.jsxs)(j.a,{className:"pb-3",children:[Object(c.jsx)(u.a,{sm:4,children:Object(c.jsx)(ce.a,{block:!0,variant:b?"info":"primary",onClick:function(){p((function(e){return!e})),v(!1),k(!1)},children:"Show Not Paid Only"})}),Object(c.jsx)(u.a,{sm:4,children:Object(c.jsx)(ce.a,{block:!0,variant:f?"info":"primary",onClick:function(){p(!1),v((function(e){return!e})),k(!1)},children:"Show Not Sent Only"})}),Object(c.jsx)(u.a,{sm:4,children:Object(c.jsx)(ce.a,{block:!0,variant:S?"info":"primary",onClick:function(){p(!1),v(!1),k((function(e){return!e}))},children:"Show Not Delivered Only"})})]}),T&&Object(c.jsx)(l,{marginTop:8}),R&&Object(c.jsx)(ze,{children:R}),P&&Object(c.jsxs)(St.a,{responsive:!0,striped:!0,hover:!0,size:"sm",className:"text-center",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"ID"}),Object(c.jsx)("th",{children:"Order Date"}),Object(c.jsx)("th",{children:"User"}),Object(c.jsx)("th",{children:"Items"}),Object(c.jsx)("th",{children:"Total Value"}),Object(c.jsx)("th",{style:{width:"50px"},children:"Paid"}),Object(c.jsx)("th",{style:{width:"50px"},children:"Sent"}),Object(c.jsx)("th",{style:{width:"50px"},children:"Delivered"}),Object(c.jsx)("th",{style:{width:"50px"}})]})}),Object(c.jsx)("tbody",{children:P.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)(O.Link,{to:"/order/".concat(e._id),children:e._id})}),Object(c.jsx)("td",{children:e.createdAt.slice(0,19).replace("T"," ")}),Object(c.jsx)("td",{children:Object(c.jsx)(O.Link,{to:"/admin/orders?user=".concat(e.user._id),children:e.user.email})}),Object(c.jsx)("td",{children:e.orderItems.length}),Object(c.jsxs)("td",{children:[Object(c.jsx)("b",{children:e.totalPrice})," PLN"]}),Object(c.jsx)("td",{children:e.isPaid?I:U}),Object(c.jsx)("td",{children:e.isDispatched?I:U}),Object(c.jsx)("td",{children:e.isDelivered?I:U}),Object(c.jsx)("td",{className:"border-left",children:Object(c.jsx)("span",{onClick:function(t){return a=e._id,void(window.confirm("Are you sure to delete that order?")&&E(ht(a,{isDeleted:!0})));var a},children:A})})]},e._id)}))})]})]})},Et=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(d.b)();Object(r.useEffect)((function(){s(De())}),[s]);var o=Object(d.c)((function(e){return e.getAllUsers})),j=o.loading,u=o.error,b=o.users,p=Object(c.jsx)("i",{style:{fontSize:"1.2rem"},className:"text-success fas fa-check-circle"}),h=Object(c.jsx)("i",{style:{fontSize:"1.2rem"},className:"text-danger fas fa-times-circle"});return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(re,{keyword:a,setKeyword:n,placeholder:"Search for Users by Email",searchHandler:function(e){e.preventDefault(),s(De(a))}}),Object(c.jsx)("h3",{className:"text-center",children:"All Users"}),j&&Object(c.jsx)(l,{marginTop:8}),u&&Object(c.jsx)(ze,{children:u}),b&&Object(c.jsxs)(St.a,{responsive:!0,striped:!0,hover:!0,size:"sm",className:"text-center",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"ID"}),Object(c.jsx)("th",{children:"User Registration:"}),Object(c.jsx)("th",{children:"Email"}),Object(c.jsx)("th",{style:{width:"50px"},children:"Admin"})]})}),Object(c.jsx)("tbody",{children:b.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)(O.Link,{to:"/admin/orders?user=".concat(e._id),children:e._id})}),Object(c.jsx)("td",{children:e.createdAt.slice(0,19).replace("T"," ")}),Object(c.jsx)("td",{children:e.email}),Object(c.jsx)("td",{children:e.isAdmin?p:h})]},e._id)}))})]})]})},wt=function(){var e=Object(r.useState)(1),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(""),o=Object(i.a)(s,2),j=o[0],u=o[1],b=Object(d.c)((function(e){return e.loginUser})).loggedUser,p=Object(x.k)(),h=Object(d.b)(),m=Object(d.c)((function(e){return e.listProducts})),f=m.loading,g=m.error,y=m.products,v=m.pagination,N=Object(c.jsx)("i",{style:{fontSize:"1.2rem"},className:"text-success fas fa-check-circle"}),C=Object(c.jsx)("i",{style:{fontSize:"1.2rem"},className:"text-danger fas fa-times-circle"}),S=Object(c.jsx)("i",{className:"far fa-edit text-warning",style:{fontSize:"1.2rem",cursor:"pointer"}});Object(r.useEffect)((function(){b&&b.isAdmin?h(K({hidden:!0,page:a,limit:50})):p.push("/login")}),[h,p,b,a]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(re,{keyword:j,setKeyword:u,placeholder:"Search for Products",searchHandler:function(e){e.preventDefault(),h(K({keyword:j,hidden:!0}))}}),g&&Object(c.jsx)(ze,{children:g}),Object(c.jsxs)("div",{className:"add-new",children:[Object(c.jsx)(O.Link,{to:"/admin/categories/add",className:"mr-auto",children:Object(c.jsx)(ce.a,{className:"pt-3",children:Object(c.jsxs)("h5",{children:[Object(c.jsx)("i",{className:"fas fa-plus"})," Add New Category"]})})}),Object(c.jsx)("h3",{className:"m-auto",children:"All Products"}),Object(c.jsx)(O.Link,{to:"/admin/products/add",className:"ml-auto",children:Object(c.jsx)(ce.a,{className:"pt-3",children:Object(c.jsxs)("h5",{children:[Object(c.jsx)("i",{className:"fas fa-plus"})," Add New Product"]})})})]}),f&&Object(c.jsx)(l,{marginTop:8}),y&&y.length>0&&Object(c.jsxs)(St.a,{responsive:!0,striped:!0,hover:!0,size:"sm",className:"text-center",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{style:{fontSize:"1rem"},children:[Object(c.jsx)("th",{className:"text-left",children:"Name"}),Object(c.jsx)("th",{children:"Price"}),Object(c.jsx)("th",{children:"Category"}),Object(c.jsx)("th",{children:"In Stock"}),Object(c.jsx)("th",{children:"Rating"}),Object(c.jsx)("th",{children:"Reviews"}),Object(c.jsx)("th",{children:"ID"}),Object(c.jsx)("th",{children:"Added"}),Object(c.jsx)("th",{style:{width:"60px"},children:"Visible"}),Object(c.jsx)("th",{style:{width:"60px"},className:"border-left",children:"Edit"})]})}),Object(c.jsx)("tbody",{children:y.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"text-left",children:Object(c.jsx)(O.Link,{to:"/product/".concat(e._id),children:e.name})}),Object(c.jsxs)("td",{children:[Object(c.jsx)("b",{children:e.price})," PLN"]}),Object(c.jsx)("td",{children:e.category?e.category.name:C}),Object(c.jsx)("td",{children:e.countInStock>0?Object(c.jsx)("b",{children:e.countInStock}):C}),Object(c.jsx)("td",{children:e.rating.toFixed(2)}),Object(c.jsx)("td",{children:e.numReviews}),Object(c.jsx)("td",{children:e._id}),Object(c.jsx)("td",{children:e.createdAt.slice(0,19).replace("T"," ")}),Object(c.jsx)("td",{children:e.hidden?C:N}),Object(c.jsx)("td",{className:"border-left",children:Object(c.jsxs)("span",{onClick:function(){return p.push("/admin/products/edit/".concat(e._id))},children:[" ",S]})})]},e._id)}))})]}),Object(c.jsx)(de,{pagination:v,setPage:n})]})},_t=function(e){var t=e.history,a=Object(r.useState)(!1),n=Object(i.a)(a,2),s=n[0],o=n[1],b=function(){return o(!1)},p=Object(x.m)().id,h=Object(r.useState)(!1),m=Object(i.a)(h,2),f=m[0],v=m[1],N=Object(r.useState)(""),C=Object(i.a)(N,2),S=C[0],k=C[1],E=Object(r.useState)(""),U=Object(i.a)(E,2),A=U[0],D=U[1],F=Object(r.useState)(0),z=Object(i.a)(F,2),G=z[0],B=z[1],M=Object(r.useState)(""),H=Object(i.a)(M,2),Q=H[0],V=H[1],Y=Object(r.useState)(""),q=Object(i.a)(Y,2),J=q[0],K=q[1],Z=Object(r.useState)({}),$=Object(i.a)(Z,2),ee=$[0],ae=$[1],re=Object(r.useState)(0),ne=Object(i.a)(re,2),se=ne[0],oe=ne[1],le=Object(r.useState)(""),de=Object(i.a)(le,2),je=de[0],ue=de[1],pe=Object(d.b)(),he=Object(d.c)((function(e){return e.createProduct})),xe=he.product,Oe=he.loading,me=he.error,fe=Object(d.c)((function(e){return e.listProduct})),ge=fe.product,ye=fe.loading,ve=fe.error;Object(r.useEffect)((function(){return p&&pe(X(p)),function(){return pe(function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:I});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),[pe,p]),Object(r.useEffect)((function(){p&&ge&&(k(ge.name),D(ge.description),B(ge.countInStock),V(ge.image),K(ge.brand),ge.category&&ae(ge.category),oe(ge.price),ue(ge.hidden))}),[ge,p]);var Ne=function(e){e.preventDefault(),!1===e.currentTarget.checkValidity()&&e.stopPropagation(),v(!0);var t={name:S,description:A,countInStock:G,image:Q,brand:J,category:ee,price:se,hidden:je};ge&&(t._id=ge._id),pe(p?function(e,t){return function(){var a=Object(y.a)(g.a.mark((function a(c,r){var n,s,i,o,l;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=r(),s=n.loginUser.loggedUser,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},a.prev=2,c({type:R}),a.next=6,W.a.put("/api/products/".concat(e),t,i);case 6:o=a.sent,l=o.data,c({type:P,payload:l}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(2),c({type:L,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[2,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(p,t):function(e){return function(){var t=Object(y.a)(g.a.mark((function t(a,c){var r,n,s,i,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c(),n=r.loginUser.loggedUser,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.prev=2,a({type:w}),t.next=6,W.a.post("/api/products/",e,s);case 6:i=t.sent,o=i.data,a({type:_,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),a({type:T,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(j.a,{children:[p&&Object(c.jsx)(u.a,{sm:1,className:"pr-0",children:Object(c.jsx)(ce.a,{block:!0,size:"lg",onClick:function(){return t.push("/admin/products")},children:Object(c.jsx)("i",{className:"fas fa-arrow-left"})})}),Object(c.jsxs)(u.a,{sm:p?11:12,children:[Oe&&Object(c.jsx)(l,{small:!0}),(me||ve)&&Object(c.jsx)(ze,{children:me||ve}),xe&&Object(c.jsx)(O.Link,{to:"/product/".concat(xe._id),children:Object(c.jsxs)(ze,{variant:"success",children:["Product ",p?"updated":"created","! ID: ",xe._id]})})]})]}),ye?Object(c.jsx)(l,{marginTop:8}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{className:"text-center my-4",children:p?"Edit Product":"Add Product"}),Object(c.jsxs)(j.a,{className:"py-5 px-4",children:[Object(c.jsxs)(u.a,{sm:"5",className:"py-5 border-right",children:[Object(c.jsx)(be.a,{rounded:!0,style:{maxHeight:"600px"},fluid:!0,src:Q||"https://lunawood.com/wp-content/uploads/2018/02/placeholder-image.png"}),Object(c.jsx)(te.a.Group,{sm:"12",className:"py-4 px-0 mx-0 align-self-end",children:Object(c.jsx)(te.a.Control,{type:"text",placeholder:"Image",required:!0,size:"lg",onChange:function(e){return V(e.target.value)},value:Q})})]}),Object(c.jsx)(u.a,{lg:7,xl:7,sm:7,className:"text-center",children:Object(c.jsxs)(te.a,{noValidate:!0,validated:f,onSubmit:Ne,id:"ship-form",style:{fontSize:"1rem"},children:[Object(c.jsxs)(te.a.Row,{className:"py-3",children:[Object(c.jsxs)(te.a.Group,{as:u.a,md:"7",className:"py-4",children:[Object(c.jsx)(te.a.Label,{children:"Name"}),Object(c.jsx)(te.a.Control,{required:!0,type:"text",placeholder:"Name",size:"lg",value:S,onChange:function(e){return k(e.target.value)}})]}),Object(c.jsxs)(te.a.Group,{as:u.a,md:"3",className:"py-4",children:[Object(c.jsx)(te.a.Label,{children:"Price (PLN)"}),Object(c.jsx)(te.a.Control,{required:!0,type:"number",placeholder:"Price (PLN)",size:"lg",onChange:function(e){return oe(e.target.value)},value:se})]}),Object(c.jsxs)(te.a.Group,{as:u.a,lg:"2",sm:"2",className:"py-4",children:[Object(c.jsx)(te.a.Label,{children:"In Stock"}),Object(c.jsx)(te.a.Control,{type:"number",placeholder:"In Stock",required:!0,size:"lg",onChange:function(e){return B(e.target.value)},value:G})]}),Object(c.jsxs)(te.a.Group,{as:u.a,md:"7",className:"py-4 ",children:[Object(c.jsx)(te.a.Label,{children:"Category"}),Object(c.jsx)(te.a.Control,{className:"pointer",required:!0,placeholder:"Category",size:"lg",onChange:function(e){return ae(e.target.value)},onClick:function(){return o(!0)},value:ee.name||""})]}),Object(c.jsxs)(te.a.Group,{as:u.a,lg:"3",md:"3",className:"py-4",children:[Object(c.jsx)(te.a.Label,{children:"Brand"}),Object(c.jsx)(te.a.Control,{type:"text",placeholder:"Brand",required:!0,size:"lg",onChange:function(e){return K(e.target.value)},value:J})]}),Object(c.jsxs)(te.a.Group,{className:"py-4",as:u.a,lg:"2",md:"2",children:[Object(c.jsx)(te.a.Label,{children:"Visible"}),Object(c.jsx)(te.a.Switch,{onChange:function(){return ue((function(e){return!e}))},checked:!je,type:"switch",id:"custom-switch"})]}),Object(c.jsxs)(te.a.Group,{as:u.a,md:"12",className:"py-4",children:[Object(c.jsx)(te.a.Label,{children:"Description"}),Object(c.jsx)(te.a.Control,{style:{height:"200px"},required:!0,as:"textarea",placeholder:"Description",size:"lg",onChange:function(e){return D(e.target.value)},value:A})]})]}),Object(c.jsx)(ce.a,{type:"submit",form:"ship-form",block:!0,size:"lg",className:"m-0 pt-3 px-0",children:Object(c.jsx)("h4",{children:"Submit Product"})})]})}),Object(c.jsx)("hr",{})]})]}),Object(c.jsxs)(vt.a,{onHide:b,show:s,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(c.jsx)(vt.a.Header,{closeButton:!0,children:Object(c.jsx)(vt.a.Title,{id:"contained-modal-title-vcenter",children:"Choose Category"})}),Object(c.jsx)(vt.a.Body,{children:Object(c.jsx)(ie,{startCategory:ee._id,setCategory:ae})}),Object(c.jsx)(vt.a.Footer,{children:Object(c.jsx)(ce.a,{onClick:b,children:"Submit"})})]})]})},Tt=a(159),Rt=a(155),Pt=a(156),Lt=a(38),It=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.loginUser})),a=t.loggedUser;Object(r.useEffect)((function(){}),[t]);var n=function(){e((function(e){e({type:Te}),localStorage.removeItem("userLogin")}))};return Object(c.jsxs)(Tt.a,{expand:"lg",bg:"primary",variant:"dark",style:{fontSize:"1rem"},children:[Object(c.jsx)(Lt.LinkContainer,{to:"/",children:Object(c.jsx)(Tt.a.Brand,{children:"BestShop!"})}),Object(c.jsx)(Tt.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(Tt.a.Collapse,{id:"basic-navbar-nav ",children:Object(c.jsxs)(Rt.a,{className:"ml-auto",children:[a&&a.isAdmin&&Object(c.jsxs)(Pt.a,{className:"hover-orange pr-4 text-center",title:"Admin Settings",id:"basic-nav-dropdown",variant:"primary",children:[Object(c.jsx)(Pt.a.Divider,{className:"my-0"}),Object(c.jsx)(Lt.LinkContainer,{className:"text-center",to:"/admin/products",children:Object(c.jsxs)(Pt.a.Item,{children:[Object(c.jsx)("i",{className:"fas fa-list"})," Products"]})}),Object(c.jsx)(Pt.a.Divider,{className:"my-0"}),Object(c.jsx)(Lt.LinkContainer,{to:"/admin/orders",children:Object(c.jsxs)(Pt.a.Item,{children:[Object(c.jsx)("i",{className:"fas fa-book-open"})," Orders"]})}),Object(c.jsx)(Pt.a.Divider,{className:"my-0"}),Object(c.jsx)(Lt.LinkContainer,{to:"/admin/users",children:Object(c.jsxs)(Pt.a.Item,{children:[Object(c.jsx)("i",{className:"fas fa-users"})," Users"]})}),Object(c.jsx)(Pt.a.Divider,{className:"my-0"}),Object(c.jsxs)(Pt.a.Item,{onClick:n,children:[Object(c.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout"]})]}),Object(c.jsx)(Lt.LinkContainer,{to:"/cart",style:{paddingLeft:"2rem"},children:Object(c.jsxs)(Rt.a.Link,{className:"hover-orange text-center",children:[Object(c.jsx)("i",{className:"fas fa-shopping-cart"})," Cart"]})}),a?Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(Pt.a,{className:"hover-orange pl-4 text-center",title:a.name,id:"basic-nav-dropdown",variant:"primary",children:[Object(c.jsx)(Pt.a.Divider,{className:"my-0"}),Object(c.jsx)(Lt.LinkContainer,{to:"/profile",children:Object(c.jsxs)(Pt.a.Item,{children:[Object(c.jsx)("i",{className:"fas fa-user-alt"})," Profile & Orders"]})}),Object(c.jsx)(Pt.a.Divider,{className:"my-0"}),Object(c.jsxs)(Pt.a.Item,{onClick:n,children:[Object(c.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout"]})]})}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Lt.LinkContainer,{to:"/login",style:{paddingLeft:"2rem"},className:"text-center hover-orange",children:Object(c.jsxs)(Rt.a.Link,{href:"/login",children:[Object(c.jsx)("i",{className:"fas fa-sign-in-alt"})," Login"]})}),Object(c.jsx)(Lt.LinkContainer,{to:"/register",style:{paddingLeft:"2rem"},className:"text-center hover-orange",children:Object(c.jsxs)(Rt.a.Link,{href:"/register",children:[Object(c.jsx)("i",{style:{fontSize:"0.9rem"},className:"fas fa-user-plus"})," Register"]})})]})]})})]})},Ut=function(e){e.history;var t=Object(r.useState)(""),a=Object(i.a)(t,2),n=a[0],s=a[1],o=Object(r.useState)(""),j=Object(i.a)(o,2),u=j[0],b=j[1],p=Object(d.b)();Object(r.useEffect)((function(){p(Z())}),[p]);var h=Object(d.c)((function(e){return e.getCategories})),x=h.loading,O=h.error,m=h.categories,f=Object(d.c)((function(e){return e.getCategory})),v=f.loading,N=f.error,C=f.category,S=Object(d.c)((function(e){return e.createCategory})),k=S.loading,E=S.error,w=S.success,_=Object(d.c)((function(e){return e.removeCategory})),T=(_.loading,_.error,_.success),R=function(e,t){window.confirm("Are you sure to delete this category with all it's subcategories?")&&(e.stopPropagation(),p(function(e){return function(){var t=Object(y.a)(g.a.mark((function t(a,c){var r,n,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c(),n=r.loginUser.loggedUser,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.prev=2,a({type:V}),t.next=6,W.a.delete("/api/products/categories/".concat(e),s);case 6:a({type:Y}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a({type:q,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(t)))};Object(r.useEffect)((function(){(w||T)&&(p(u?$(u):Z()),s(""))}),[p,w,u,T]);var P=function(e){e?(b(e),p($(e))):(b(null),p(ee()),p(Z()))};return Object(c.jsxs)(c.Fragment,{children:[(O||N||E)&&Object(c.jsx)(ze,{children:N||E||O}),Object(c.jsx)("div",{className:"d-flex justify-content-center",children:Object(c.jsxs)("div",{className:"mt-3",children:[Object(c.jsx)(te.a.Label,{children:"Choose Parent Category"}),Object(c.jsxs)("nav",{className:"border px-3 py-3",style:{minHeight:"300px",width:"300px",fontSize:"1rem"},children:[!x&&!v&&Object(c.jsx)(se.a,{delay:20,children:!C&&m.length>0&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{children:Object(c.jsx)("b",{children:"Categories"})}),Object(c.jsx)("hr",{className:"py-0 my-1"}),m.map((function(e){return Object(c.jsxs)("div",{className:"category-elem pointer pl-1 py-1",onClick:function(){return P(e._id)},children:[Object(c.jsx)("span",{children:e.name})," ",Object(c.jsx)("span",{children:Object(c.jsx)("i",{onClick:function(t){return R(t,e._id)},className:"fas fa-trash"})})]},e._id)}))]})}),C&&Object(c.jsx)(c.Fragment,{children:k?Object(c.jsx)(l,{marginTop:3}):Object(c.jsxs)(se.a,{delay:20,children:[Object(c.jsxs)("div",{className:"pointer",onClick:function(){return P(C.parents&&C.parents[0]?C.parents[0]._id:null)},children:[Object(c.jsx)("i",{className:"fas fa-chevron-left orange-font"})," Go Back"]}),Object(c.jsx)("hr",{className:"py-0 my-1"}),Object(c.jsx)("div",{className:"category-elem pl-1 py-1",children:Object(c.jsx)("b",{children:C.name})}),C.subcategories&&C.subcategories.map((function(e){return Object(c.jsxs)("div",{className:"category-elem pointer pl-3 py-1",onClick:function(){return P(e._id)},children:[Object(c.jsx)("span",{children:e.name})," ",Object(c.jsx)("span",{children:Object(c.jsx)("i",{onClick:function(t){return R(t,e._id)},className:"fas fa-trash"})})]},e._id)}))]})})]}),Object(c.jsxs)(te.a,{onSubmit:function(e){var t;e.preventDefault(),p((t={name:n,parentId:u},function(){var e=Object(y.a)(g.a.mark((function e(a,c){var r,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c(),n=r.loginUser.loggedUser,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},e.prev=2,a({type:M}),e.next=6,W.a.post("/api/products/categories/",t,s);case 6:a({type:H}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a({type:Q,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()))},children:[Object(c.jsxs)(te.a.Group,{className:"mt-3",style:{width:"300px"},children:[Object(c.jsx)(te.a.Label,{children:"Category Name"}),Object(c.jsx)(te.a.Control,{value:n,onChange:function(e){return s(e.target.value)},size:"lg",type:"text",placeholder:"Category Name"}),Object(c.jsx)("br",{})]}),Object(c.jsx)(ce.a,{type:"submit",block:!0,size:"lg",children:"Submit"})]})]})})]})},At=function(){return Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)(O.BrowserRouter,{children:[Object(c.jsx)(It,{}),Object(c.jsx)(x.d,{exact:!0,path:"/",component:ue}),Object(c.jsx)(x.d,{exact:!0,path:"/search/:keyword/category/:category",component:ue}),Object(c.jsx)(x.d,{exact:!0,path:"/search/:keyword",component:ue}),Object(c.jsx)(x.d,{exact:!0,path:"/category/:category",component:ue}),Object(c.jsx)(x.d,{exact:!0,path:"/product/:id",component:Ne}),Object(c.jsx)(x.d,{exact:!0,path:"/login",component:Me}),Object(c.jsx)(x.d,{exact:!0,path:"/register",component:He}),Object(c.jsx)(x.d,{exact:!0,path:"/cart",component:qe}),Object(c.jsx)(x.d,{exact:!0,path:"/profile",component:mt}),Object(c.jsx)(x.d,{exact:!0,path:"/checkout",component:ft}),Object(c.jsx)(x.d,{exact:!0,path:"/order/:id",component:Ct}),Object(c.jsx)(x.d,{exact:!0,path:"/admin/orders",component:kt}),Object(c.jsx)(x.d,{exact:!0,path:"/admin/users",component:Et}),Object(c.jsx)(x.d,{exact:!0,path:"/admin/products",component:wt}),Object(c.jsx)(x.d,{exact:!0,path:"/admin/products/add",component:_t}),Object(c.jsx)(x.d,{exact:!0,path:"/admin/products/edit/:id",component:_t}),Object(c.jsx)(x.d,{exact:!0,path:"/admin/categories/add",component:Ut})]})})},Dt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,166)).then((function(t){var a=t.getCLS,c=t.getFID,r=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),c(e),r(e),n(e),s(e)}))},Ft=a(102),zt=a(103),Gt=a(42),Bt=Object(Gt.combineReducers)({createProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:case R:return{loading:!0};case _:case P:return{loading:!1,product:t.payload};case T:case L:return{loading:!1,error:t.payload};case I:return{loading:!1};default:return e}},listProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[],pagination:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{loading:!0,products:[],pagination:{}};case N:return{loading:!1,products:t.payload.data,pagination:t.payload.pagination};case C:return{loading:!1,error:t.payload,pagination:{}};default:return e}},listProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{loading:!0};case k:return{loading:!1,product:t.payload};case E:return{loading:!1,error:t.payload};default:return e}},getCategories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{categories:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{loading:!0,categories:[]};case A:return{loading:!1,categories:t.payload};case D:return{loading:!1,error:t.payload,categories:[]};default:return e}},getCategory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{loading:!0};case z:return{loading:!1,category:t.payload};case G:return{loading:!1,error:t.payload};case B:return{loading:!1};default:return e}},createCategory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return{loading:!0};case H:return{loading:!1,success:!0};case Q:return{loading:!1,error:t.payload};default:return e}},removeCategory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return{loading:!0};case Y:return{loading:!1,success:!0};case q:return{loading:!1,error:t.payload};default:return e}},loginUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loggedUser:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return{loading:!0,loggedUser:null};case Se:return{loading:!1,loggedUser:t.payload};case ke:return{loading:!1,error:t.payload,loggedUser:null};case Te:return{loading:!1,loggedUser:null};default:return e}},registerUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return{loading:!0};case we:return{loading:!1,success:!0};case _e:return{loading:!1,error:t.payload};default:return e}},getAllUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return{loading:!0};case Ue:return{loading:!1,users:t.payload};case Ae:return{loading:!1,error:t.payload};default:return e}},updateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return{loading:!0};case Pe:return{loading:!1,success:!0};case Le:return{loading:!1,success:!1,error:t.payload};default:return e}},cartContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartContent:[]},t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case Oe:return{cartContent:a};case me:return{cartContent:e.cartContent.filter((function(e){return e._id!==a._id}))};case fe:return{cartContent:[]};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Je:return{loading:!0};case We:return{loading:!1,id:t.payload._id,stripeOrder:t.payload.stripeOrder};case Ke:return{loading:!1,error:t.payload};case Xe:return{};default:return e}},orderGet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze:case tt:return{loading:!0};case $e:case at:return{loading:!1,orderDetails:t.payload};case et:case ct:return{loading:!1,error:t.payload};default:return e}},userOrdersGet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ordersDetails:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rt:return{loading:!0,ordersDetails:[]};case nt:return{loading:!1,ordersDetails:t.payload};case st:return{loading:!1,ordersDetails:[],error:t.payload};default:return e}},orderGetAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jt:return{loading:!0};case ut:return{loading:!1,orders:t.payload};case bt:return{loading:!1,error:t.payload};default:return e}},reviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case it:return{loading:!0};case ot:return{loading:!1,success:!0};case lt:return{loading:!1,error:t.payload};case dt:return{};default:return e}}}),Mt={loginUser:{loggedUser:localStorage.getItem("userLogin")?JSON.parse(localStorage.getItem("userLogin")):null},cartContent:{cartContent:localStorage.getItem("cartContent")?JSON.parse(localStorage.getItem("cartContent")):[]}},Ht=[zt.a],Qt=Object(Gt.createStore)(Bt,Mt,Object(Ft.composeWithDevTools)(Gt.applyMiddleware.apply(void 0,Ht)));s.a.render(Object(c.jsx)(d.a,{store:Qt,children:Object(c.jsx)(At,{})}),document.getElementById("root")),Dt()}},[[142,1,2]]]);
//# sourceMappingURL=main.4b2aac79.chunk.js.map